var _createClass=function(){function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}}(),_slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,i=!1,r=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(a.push(s.value),!t||a.length!==t);n=!0);}catch(e){i=!0,r=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}define("mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants",["constants"],function(e){"use strict";var t,a,n,i,r,s,o,l,d,c,u,m,p,_=e.MEDIA_MANAGER_MEDIA_TYPES,h={ADD_MEDIA:"ADD_MEDIA",RECOMMENDED_MEDIA_CARD:"RECOMMENDED_MEDIA_CARD",RECOMMENDED_MEDIA:"RECOMMEDNED_MEDIA",RECENTLY_ADDED:"RECENTLY_ADDED",FREE_WIX_IMAGES:"FREE_WIX_IMAGES",FREE_WIX_ILLUSTRATIONS:"FREE_WIX_ILLUSTRATIONS",FREE_WIX_VECTOR_ART:"FREE_WIX_VECTOR_ART",FREE_WIX_SOCIAL_ICONS:"FREE_WIX_SOCIAL_ICONS",FREE_WIX_VIDEOS:"FREE_WIX_VIDEOS",SHUTTERSTOCK_IMAGES:"SHUTTERSTOCK_IMAGES",SHUTTERSTOCK_VIDEOS:"SHUTTERSTOCK_VIDEOS"},g=(_defineProperty(t={},h.RECENTLY_ADDED,"site_files"),_defineProperty(t,h.FREE_WIX_IMAGES,"free_images"),_defineProperty(t,h.FREE_WIX_ILLUSTRATIONS,"illustrations"),_defineProperty(t,h.FREE_WIX_VECTOR_ART,"vector_art"),_defineProperty(t,h.FREE_WIX_SOCIAL_ICONS,"social_icons"),_defineProperty(t,h.FREE_WIX_VIDEOS,"free_videos"),_defineProperty(t,h.SHUTTERSTOCK_IMAGES,"shutterstock_images"),_defineProperty(t,h.SHUTTERSTOCK_VIDEOS,"shutterstock_videos"),t),f=(_defineProperty(a={},h.ADD_MEDIA,"Media_Panel_Add_Media_Section_Label"),_defineProperty(a,h.RECENTLY_ADDED,"Media_Panel_Recently_Added_Section_Label"),_defineProperty(a,h.RECOMMENDED_MEDIA,"Media_Panel_Recommended_Section_Label"),_defineProperty(a,h.FREE_WIX_IMAGES,"Media_Panel_Wix_Images_Section_Label"),_defineProperty(a,h.FREE_WIX_VIDEOS,"Media_Panel_Wix_Videos_Section_Label"),_defineProperty(a,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images_Section_Label"),_defineProperty(a,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos_Section_Label"),a),P=(_defineProperty(n={},h.ADD_MEDIA,"Media_Panel_Add_Media_Section_Label"),_defineProperty(n,h.RECENTLY_ADDED,"Media_Panel_Recently_Added_Section_Label"),_defineProperty(n,h.RECOMMENDED_MEDIA,"Media_Panel_Recommended_Section_Label"),_defineProperty(n,h.FREE_WIX_IMAGES,"Media_Panel_MFW_Images_Section_Label"),_defineProperty(n,h.FREE_WIX_VIDEOS,"Media_Panel_MFW_Wix_Videos_Section_Label"),_defineProperty(n,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images_Section_Label"),_defineProperty(n,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos_Section_Label"),n),E=(_defineProperty(i={},h.RECENTLY_ADDED,"Media_Panel_Results_Site_Section_Label"),_defineProperty(i,h.FREE_WIX_IMAGES,"Media_Panel_Results_Wix_Images_Section_Label"),_defineProperty(i,h.FREE_WIX_VIDEOS,"Media_Panel_Results_Wix_Videos_Section_Label"),_defineProperty(i,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_Results_Illustrations_Section_Label"),_defineProperty(i,h.FREE_WIX_VECTOR_ART,"Media_Panel_Results_Vector_Art_Section_Label"),_defineProperty(i,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_Results_Social_Icons_Section_Label"),_defineProperty(i,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Results_Shutterstock_Images_Section_Label"),_defineProperty(i,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Results_Shutterstock_Videos_Section_Label"),i),I=(_defineProperty(r={},h.RECENTLY_ADDED,"Media_Panel_Results_Site_Section_Label"),_defineProperty(r,h.FREE_WIX_IMAGES,"Media_Panel_MFW_Results_Wix_Images_Section_Label"),_defineProperty(r,h.FREE_WIX_VIDEOS,"Media_Panel_MFW_Results_Wix_Videos_Section_Label"),_defineProperty(r,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_MFW_Results_Illustrations_Section_Label"),_defineProperty(r,h.FREE_WIX_VECTOR_ART,"Media_Panel_MFW_Results_Vector_Art_Section_Label"),_defineProperty(r,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_MFW_Results_Social_Icons_Section_Label"),_defineProperty(r,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Results_Shutterstock_Images_Section_Label"),_defineProperty(r,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Results_Shutterstock_Videos_Section_Label"),r),y={IMAGES:"images",ILLUSTRATIONS:"illustrations",VIDEOS:"videos",VECTOR_ART:"vectorArt",SOCIAL_ICONS:"social_icons"},M=(_defineProperty(s={},y.PHOTOS,"picture"),_defineProperty(s,y.IMAGES,"picture"),_defineProperty(s,y.ILLUSTRATIONS,"picture"),_defineProperty(s,y.SOCIAL_ICONS,"picture"),_defineProperty(s,y.VIDEOS,"video"),_defineProperty(s,y.VECTOR_ART,"shape"),s),S={IMAGE:"image",VIDEO:"video"},T="/_api/wix/digitalGoodsPriceQuote?digitalGoodsSkuGuid=",b={SHUTTERSTOCK:(o={},_defineProperty(o,S.IMAGE,T+"31396262-3737-3438-2d31-3131312d3434"),_defineProperty(o,S.VIDEO,T+"32313337-3765-3164-2D66-6164332D3131"),o),WIX:(l={},_defineProperty(l,_.PICTURE,T+"a783ee2d-0dfa-4b20-a33c-b0e5a10ed7f8"),_defineProperty(l,_.VIDEO,T+"bd349da8-aa45-4bda-856d-f2704585c2ff"),l)},O={ALL:"all",PRIVATE:"private",PUBLIC:"public",SHUTTERSTOCK:"shutterStock"},A=(_defineProperty(d={},h.ADD_MEDIA,"Media_Panel_Empty_Manager"),_defineProperty(d,h.RECENTLY_ADDED,"Media_Panel_Recently_Added"),_defineProperty(d,h.RECOMMENDED_MEDIA,"Media_Panel_Recommended"),_defineProperty(d,h.FREE_WIX_IMAGES,"Media_Panel_Wix_Images"),_defineProperty(d,h.FREE_WIX_VIDEOS,"Media_Panel_Wix_Videos"),_defineProperty(d,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_Wix_Illustrations"),_defineProperty(d,h.FREE_WIX_VECTOR_ART,"Media_Panel_Wix_Vector_Art"),_defineProperty(d,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_Wix_Social_Icons"),_defineProperty(d,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images"),_defineProperty(d,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos"),d),v=(_defineProperty(c={},h.ADD_MEDIA,"Media_Panel_Empty_Manager"),_defineProperty(c,h.RECENTLY_ADDED,"Media_Panel_Recently_Added"),_defineProperty(c,h.RECOMMENDED_MEDIA,"Media_Panel_Recommended"),_defineProperty(c,h.FREE_WIX_IMAGES,"Media_Panel_MFW_Wix_Images"),_defineProperty(c,h.FREE_WIX_VIDEOS,"Media_Panel_MFW_Wix_Videos"),_defineProperty(c,h.FREE_WIX_ILLUSTRATIONS,"Media_Panel_Wix_Illustrations"),_defineProperty(c,h.FREE_WIX_VECTOR_ART,"Media_Panel_Wix_Vector_Art"),_defineProperty(c,h.FREE_WIX_SOCIAL_ICONS,"Media_Panel_Wix_Social_Icons"),_defineProperty(c,h.SHUTTERSTOCK_IMAGES,"Media_Panel_Shutterstock_Images"),_defineProperty(c,h.SHUTTERSTOCK_VIDEOS,"Media_Panel_Shutterstock_Videos"),c),D=(_defineProperty(u={},h.RECENTLY_ADDED,function(){return{path:O.PRIVATE}}),_defineProperty(u,h.RECOMMENDED_MEDIA,function(){return{path:O.PRIVATE}}),_defineProperty(u,h.FREE_WIX_IMAGES,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{path:O.PUBLIC+"/"+e}}),_defineProperty(u,h.FREE_WIX_VIDEOS,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";return{path:O.PUBLIC+"/"+e}}),_defineProperty(u,h.SHUTTERSTOCK_IMAGES,function(){return{path:O.SHUTTERSTOCK+"/"+S.IMAGE}}),_defineProperty(u,h.SHUTTERSTOCK_VIDEOS,function(){return{path:O.SHUTTERSTOCK+"/"+S.VIDEO}}),u),C=(_defineProperty(m={},h.RECENTLY_ADDED,function(e){return{path:"search/"+O.ALL+"/"+e}}),_defineProperty(m,h.FREE_WIX_IMAGES,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+O.PUBLIC+"/"+e+"/"+t}}),_defineProperty(m,h.FREE_WIX_ILLUSTRATIONS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+O.PUBLIC+"/"+e+"/"+t}}),_defineProperty(m,h.FREE_WIX_VECTOR_ART,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+O.PUBLIC+"/"+e+"/"+t}}),_defineProperty(m,h.FREE_WIX_SOCIAL_ICONS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+O.PUBLIC+"/"+e+"/"+t}}),_defineProperty(m,h.FREE_WIX_VIDEOS,function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return{path:"search/"+O.PUBLIC+"/"+e+"/"+t}}),_defineProperty(m,h.SHUTTERSTOCK_IMAGES,function(e){return{path:"search/"+O.SHUTTERSTOCK+"/"+e+"/"+S.IMAGE}}),_defineProperty(m,h.SHUTTERSTOCK_VIDEOS,function(e){return{path:"search/"+O.SHUTTERSTOCK+"/"+e+"/"+S.VIDEO}}),m),R=(_defineProperty(p={},_.PICTURE,S.IMAGE),_defineProperty(p,_.VIDEO,S.VIDEO),p);return{MEDIA_MANAGER_PANEL_TITLE:"Media_Panel_Header_Title",MEDIA_MANAGER_PANEL_NEW_TITLE:"Media_Panel_Header_New_Title",MEDIA_MANAGER_OPEN_SOURCE_BASE:"media_editor_panel",MEDIA_MANAGER_PANEL_SECTION_ID:h,PANEL_BI_SOURCE_SUFFIX:g,SHUTTERSTOCK_PAYMENT_API:"https://pix.wix.com",BLACK_ARROW_CONFIG:{messageUrl:"https://ws.wixmp.com/message",socketUrl:"wss://ws.wixmp.com/ws",tokenUrl:"//files.wix.com/users/get-batoken"},SOCKET_STATUSES:{INIT:"INIT",GOT_TOKEN:"GOT_TOKEN",GET_TOKEN_FAILED:"GET_TOKEN_FAILED",OPEN_STARTED:"OPEN_STARTED",REOPEN_STARTED:"REOPEN_STARTED",OPENED:"OPENED",CLOSED:"CLOSED"},TRANSCODING_STATUSES:{IN_DOWNLOAD_QUEUE:"IN-DOWNLOAD-QUEUE",DOWNLOADING:"DOWNLOADING",UPLOADING:"UPLOADING",IN_STORAGE:"IN-STORAGE",IN_QUEUE:"IN-QUEUE",PENDING:"PENDING",IN_PROGRESS:"INPROGRESS",PREVIEW_READY:"PREVIEW_READY",READY:"READY",FAILED:"FAILED",NONE:"NONE"},ITEMS_TO_LOAD_COUNT:6,RECOMMENDED_ITEMS_TO_LOAD_COUNT:27,SECTIONS_TITLES_MAP:f,SECTIONS_MFW_TITLES_MAP:P,SEARCH_SECTIONS_TITLES_MAP:E,SEARCH_SECTIONS_MFW_TITLES_MAP:I,PUBLIC_MEDIA_ROOT:y,PUBLIC_MEDIA_ROOT_MEDIA_TYPE_MAP:M,PRICE_INFO_URLS:b,SHUTTERSTOCK_MEDIA_TYPE:S,MEDIA_MANAGER_UPLOAD_SOURCES:{COMPUTER:"computer",FACEBOOK:"facebook",INSTAGRAM:"instagram",DROPBOX:"dropbox",GOOGLE_PHOTOS:"googlePhotos",GOOGLE_DRIVE:"drive"},MEDIA_SOURCES:O,NAVIGATION_TOOLTIP_KEYS:A,NAVIGATION_MFW_TOOLTIP_KEYS:v,VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE:"Media_Panel_Upload_Transcoding_Error",MEDIA_MANAGER_OPEN_OPTIONS_WHEN_SEARCH:C,MEDIA_MANAGER_OPEN_OPTIONS:D,MEDIA_MANAGER_MEDIA_TYPES_SHUTTER_STOCK_MEDIA_TYPES_MAP:R,WIX_MEDIA_SECTIONS_LIST_FOR_FULL_INFO:[h.FREE_WIX_VIDEOS],ADD_TO_STAGE_METHOD:{CLICK:"click",DRAG:"drag",MEDIA_MANAGER:"media_manager"},RECOMMENDED_MEDIA_CARD_CATEGORIES:[{id:"art",name:"Art"},{id:"nature",name:"Nature"},{id:"shops",name:"Shops"},{id:"music",name:"Music"},{id:"lifestyle",name:"Lifestyle"},{id:"sports",name:"Sports"},{id:"home",name:"Home"}],RECOMMENDED_MEDIA_QUESTION:{disableExposure:!0,noDontShowAgain:!1,questionId:"the-questionId-4",triggerEvent:"all-categories-button-click",feedbackModel:{feedbackType:"question",theme:"light",question:{title:"What interests you?",subTitle:"Add your favourite categories to get recommended media for you. Donâ€™t worry, you can always change it later.",justifyContent:"start"},answer:{firstLevelType:"firstlevel-image-tags",cancelButton:{label:"Cancel"},applyButton:{choice:"apply",label:"Apply"},tags:[{id:"abstract",imageUrl:"https://static.wixstatic.com/media/e1bbf49d4bed4917b3e39bfe93c4d6c4.jpg/v1/fill/w_220,h_220/e1bbf49d4bed4917b3e39bfe93c4d6c4.jpg",title:"Abstract"},{id:"animals",imageUrl:"https://static.wixstatic.com/media/bc136dba5c851ed84567df4af609d83f.jpg/v1/fill/w_220,h_220/bc136dba5c851ed84567df4af609d83f.jpg",title:"Animals"},{id:"architecture",imageUrl:"https://static.wixstatic.com/media/4b12d482d47f4122b85f3b6cd500054a.jpg/v1/fill/w_220,h_220/4b12d482d47f4122b85f3b6cd500054a.jpg",title:"Architecture"},{id:"art",imageUrl:"https://static.wixstatic.com/media/ec30cd6952704a54b4dcf203d5d679ee.jpg/v1/fill/w_220,h_220/ec30cd6952704a54b4dcf203d5d679ee.jpg",title:"Art"},{id:"beauty",imageUrl:"https://static.wixstatic.com/media/2fdc6e09e1401b9b0ddd7bcad7c3e3e6.jpg/v1/fill/w_220,h_220/2fdc6e09e1401b9b0ddd7bcad7c3e3e6.jpg",title:"Beauty"},{id:"black & white",imageUrl:"https://static.wixstatic.com/media/d9e36c2cfd364c828aaeb1f79fb94dbc.jpg/v1/fill/w_220,h_220/d9e36c2cfd364c828aaeb1f79fb94dbc.jpg",title:"Black & White"},{id:"business",imageUrl:"https://static.wixstatic.com/media/ef9ce3e48be340a4b91f0c3e1644aa5b.jpg/v1/fill/w_220,h_220/ef9ce3e48be340a4b91f0c3e1644aa5b.jpg",title:"Business"},{id:"fashion",imageUrl:"https://static.wixstatic.com/media/132885bd4d42440590e2aea97fe1a3a5.jpg/v1/fill/w_220,h_220/132885bd4d42440590e2aea97fe1a3a5.jpg",title:"Fashion"},{id:"finance",imageUrl:"https://static.wixstatic.com/media/da86a30f85c940ee8aa702b5b31f81cd.jpg/v1/fill/w_220,h_220/da86a30f85c940ee8aa702b5b31f81cd.jpg",title:"Finance"},{id:"food & drink",imageUrl:"https://static.wixstatic.com/media/ac65a6e34704466bae682286d73b77ad.jpg/v1/fill/w_220,h_220/ac65a6e34704466bae682286d73b77ad.jpg",title:"Food & Drink"},{id:"health",imageUrl:"https://static.wixstatic.com/media/4c4ad544629b42d4a0fcc89e738a002b.jpg/v1/fill/w_220,h_220/4c4ad544629b42d4a0fcc89e738a002b.jpg",title:"Health"},{id:"holidays",imageUrl:"https://static.wixstatic.com/media/ebf657ad92bd4445a1bf065da2906887.jpg/v1/fill/w_220,h_220/ebf657ad92bd4445a1bf065da2906887.jpg",title:"Holidays"},{id:"home",imageUrl:"https://static.wixstatic.com/media/dc4947fc1a4540a2a5fa688c5fb37991.jpg/v1/fill/w_220,h_220/dc4947fc1a4540a2a5fa688c5fb37991.jpg",title:"Home"},{id:"industry",imageUrl:"https://static.wixstatic.com/media/50762012de094cbab6f82796f254594e.jpg/v1/fill/w_220,h_220/50762012de094cbab6f82796f254594e.jpg",title:"Industry"},{id:"lifestyle",imageUrl:"https://static.wixstatic.com/media/076fafe12d3808668eedc270b314c807.jpg/v1/fill/w_220,h_220/076fafe12d3808668eedc270b314c807.jpg",title:"Lifestyle"},{id:"music",imageUrl:"https://static.wixstatic.com/media/b5209510b7544e21ad4518fa48823ea5.jpg/v1/fill/w_220,h_220/b5209510b7544e21ad4518fa48823ea5.jpg",title:"Music"},{id:"nature",imageUrl:"https://static.wixstatic.com/media/4ce57c3961214460abbc2fb0ca267461.jpg/v1/fill/w_220,h_220/4ce57c3961214460abbc2fb0ca267461.jpg",title:"Nature"},{id:"objects",imageUrl:"https://static.wixstatic.com/media/0045f2a0edc241a79b76d5cff281d8d9.jpg/v1/fill/w_220,h_220/0045f2a0edc241a79b76d5cff281d8d9.jpg",title:"Objects"},{id:"products",imageUrl:"https://static.wixstatic.com/media/8e244c7531ca4b4a92cbd7c1f4282401.jpg/v1/fill/w_220,h_220/8e244c7531ca4b4a92cbd7c1f4282401.jpg",title:"Products"},{id:"people",imageUrl:"https://static.wixstatic.com/media/d74ad386a32e4c599e092949b852ac76.jpg/v1/fill/w_220,h_220/d74ad386a32e4c599e092949b852ac76.jpg",title:"People"},{id:"real estate",imageUrl:"https://static.wixstatic.com/media/c32a124a7ccb48d3ad696241acee289e.jpg/v1/fill/w_220,h_220/c32a124a7ccb48d3ad696241acee289e.jpg",title:"Real estate"},{id:"sports",imageUrl:"https://static.wixstatic.com/media/f8596d7ebf694179aa11682b834670f2.jpg/v1/fill/w_220,h_220/f8596d7ebf694179aa11682b834670f2.jpg",title:"Sports"},{id:"technology",imageUrl:"https://static.wixstatic.com/media/c74c32c344c44f35b871382c99feabe4.jpg/v1/fill/w_220,h_220/c74c32c344c44f35b871382c99feabe4.jpg",title:"Technology"},{id:"travel",imageUrl:"https://static.wixstatic.com/media/5cb24728abef45dabebe7edc1d97ddd2.jpg/v1/fill/w_220,h_220/5cb24728abef45dabebe7edc1d97ddd2.jpg",title:"Travel"},{id:"weddings",imageUrl:"https://static.wixstatic.com/media/99befb8140d34c11b44192b64dcdf3e4.jpg/v1/fill/w_220,h_220/99befb8140d34c11b44192b64dcdf3e4.jpg",title:"Weddings"}]}}},RECOMMENDED_MEDIA_SECTION_ITEMS_WIX_MEDIA_ROOTS:[y.IMAGES,y.VECTOR_ART,y.ILLUSTRATIONS,y.VIDEOS]}}),define("mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes",["prop-types","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants"],function(e,t){"use strict";var a=e.shape({name:e.string.isRequired,previewUrl:e.string.isRequired,mediaType:e.string.isRequired,width:e.number,height:e.number,fileUrl:e.string,fileOutput:e.shape({image:e.arrayOf(e.object)}),transcodingStatus:e.oneOf(Object.values(t.TRANSCODING_STATUSES))});return{item:a,presetSection:{id:e.string.isRequired,title:e.string.isRequired,items:e.arrayOf(a),options:e.shape({shouldDisplayPresetName:e.bool,shouldSetBlueBackgroundToPreset:e.bool,shouldShowLoaderWhenNoItems:e.bool,getItemPrice:e.func,buyItem:e.func,onItemClick:e.func,folderId:e.string,headerActions:e.arrayOf(e.element)}),action:e.func,actionLabel:e.string}}}),define("mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelAddCompData",["lodash","util"],function(r,e){"use strict";var s=e.backgroundUtils.getMediaPlayerVideoObject,a={pdf:"40d80b8089c8418a961cb75d96d491f7.png",doc:"b8964aa7650d463fac3b77e0d00e8f12.png",docx:"b8964aa7650d463fac3b77e0d00e8f12.png",ppt:"a41192b40f324972a1d919a8350965f8.png",ppx:"a41192b40f324972a1d919a8350965f8.png",xls:"757aeccaa7f4409b93913c55e36a194d.png",xlsx:"757aeccaa7f4409b93913c55e36a194d.png",odp:"ac1fbe0592434c58889947de5714b3c7.png",odt:"ac1fbe0592434c58889947de5714b3c7.png",other:"046956f7d55f4143a30b3b54669ee243.png"},o=640,l=360,d=100,c=function(e,t,a){var n=1<e,i=t||(n?o:l),r=a||(n?l:o),s=r+d;return i=n?r*e:(r=Math.max(i/e,s))<s?i:s*e,{width:Math.floor(i),height:Math.floor(r)}},u=function(e){var t=r.head(e.qualities);return t.width/t.height},m=function(e,t,a){var n=e.width,i=e.height;return 1<=t?i=(n=Math.min(n,a))/t:n=(i=Math.min(i,a))*t,{width:Math.round(n),height:Math.round(i)}};var t=function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.LinkBar",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin",layout:{width:49*(e.length-1)+39,height:39,scale:1,rotationInDegrees:0,fixedPosition:!1},data:{type:"ImageList",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},items:r.map(e,function(e){return{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:e.title,uri:e.uri,description:"",width:200,height:200,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"",target:"_blank"}}})},props:{type:"LinkBarProperties",metaData:{schemaVersion:"1.0"},gallery:"social_icons",iconSize:39,spacing:10,bgScale:1,orientation:"HORIZ"},style:{type:"TopLevelStyle",id:"lb1",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{displayer:{}}},componentClassName:"",pageId:"",compId:"",styleType:"system",skin:"wysiwyg.viewer.skins.LinkBarNoBGSkin"},activeModes:{}}};return{picture:function(e){var t=e.width,a=e.height,n=t,i=a,r=Math.min(600/t,600/a);return(600<t||600<a)&&(n=Math.floor(t*r),i=Math.floor(a*r)),{componentType:"wysiwyg.viewer.components.WPhoto",layout:{width:n,height:i},data:{width:e.width,height:e.height,alt:"",uri:e.uri,title:e.title,type:"Image",description:""}}},document:function(e){var t=r.split(e.uri,".").pop();return{type:"Component",componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",layout:{width:90,height:140},data:{type:"Image",title:e.title,uri:a[t]||a.other,description:"",width:105,height:141,link:{docId:e.uri,name:e.title,type:"DocumentLink"}},style:"dm1",props:{type:"DocumentMediaProperties",showTitle:!1}}},music:function(e){return{componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",layout:{width:304,height:60},data:{type:"SingleAudioPlayer",originalFileName:e.title,uri:e.uri},props:{autoplay:!1,loop:!1,showArtist:!0,showTrack:!0,volume:50,type:"SingleAudioPlayerProperties"},style:"SingleAudioPlayer_1"}},musicPlayer:function(e){var t=e.title,a=r.lastIndexOf(t,".");return{componentType:"wixui.MusicPlayer",layout:{width:300,height:70},data:{type:"MusicPlayerData",trackName:-1===a?t:t.slice(0,a),artistName:"",coverRef:{type:"Image",title:"wix-audio-demo-cover.jpg",uri:"f9a47e_e7631916c7e4468091c47929b7acdf8a~mv2.png",height:400,width:400},audioRef:{type:"WixAudio",title:e.title,uri:e.uri,duration:Math.floor(e.fileInput.duration/1e3)}},props:{id:"musicPlayerDefaultProps",type:"MusicPlayerProperties",showCover:!0,showArtistName:!0,showTrackName:!0,showProgressBar:!0,showTimeStamp:!0},style:"MusicPlayer_1",typ:"Component"}},video:function(e,t){var a=s(e,t),n=u(a),i=m(c(n),n,640);return{type:"Component",componentType:"wixui.VideoPlayer",layout:{width:i.width,height:i.height,rotationInDegrees:0,fixedPosition:!1},data:{type:"VideoPlayer",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},videoRef:r.defaults({metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}},a),videoTitle:e.title,description:""},props:{type:"VideoPlayerProperties",metaData:{schemaVersion:"1.0"},showVideoTitle:!1,autoplay:!1,loop:!1,share:!0,controlsVisibility:"hover"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{"alpha-backgroundColor":"0.25",backgroundColor:"#000000",font:"normal normal normal 40px/1.4em proxima-n-w01-reg",fontColor:"#FFFFFF"},propertiesSource:{"alpha-backgroundColor":"value",backgroundColor:"value",font:"value",fontColor:"value"}},componentClassName:"wixui.VideoPlayer",pageId:"",compId:"",styleType:"custom",skin:"wixui.skins.VideoPlayer"},skin:"wixui.skins.VideoPlayer"}},alphaVideo:function(e,t){var a=s(e,t),n=u(a),i=m(c(n),n,360);return{type:"Container",componentType:"wysiwyg.viewer.components.MediaPlayer",layout:{width:i.width,height:i.height,rotationInDegrees:0,fixedPosition:!1},components:[{type:"Component",componentType:"wysiwyg.viewer.components.MediaOverlayControls",skin:"skins.viewer.mediaOverlayControlsDefaultSkin",layout:{x:Math.round(i.width/2)-40,y:Math.round(i.height/2)-40,fixedPosition:!1,width:80,height:80,scale:1,rotationInDegrees:0},props:{type:"MediaOverlayControlsProperties",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,autoGenerated:!1},playerId:"comp-jl2exfvc"},design:{type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:1,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#FFFFFF",color2:"#000000"}},icons:[{type:"ControlIconDesignData",name:"playButton",svgId:"0da768_513035bd10774dcabdf6af1add823662.svg",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}],charas:"design-jl2i49z1"},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaOverlayControlsDefaultSkin",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}},{type:"Component",componentType:"wysiwyg.viewer.components.MediaControls",skin:"skins.viewer.mediaControlsNoControlsSkin",layout:{x:2,y:376,fixedPosition:!1,width:256,height:44,scale:1,rotationInDegrees:0},props:{type:"MediaControlsProperties",showStoryboard:"time",playerId:"comp-jl2exfvc",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,autoGenerated:!1}},design:{type:"MediaControlsDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},iconsDefaultDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},shapeStyle:{opacity:1,strokeOpacity:1,stroke:"#000000",enableStroke:!1,strokeWidth:1},overrideColors:{color1:"#ffffff"}},icons:[{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOn",svgId:"0da768_4026746ebab74627a513aa0df1511dea.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"volumeOff",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg"},{type:"ControlIconDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},name:"noAudio",svgId:"0da768_c6d2d796452644a6a4a243c3afb7b781.svg",iconDesign:{type:"VectorImageDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},overrideColors:{color1:"#a9a9a9"}}}]},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"skins.viewer.mediaControlsNoControlsSkin",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1}}}],design:{type:"MediaPlayerDesignData",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},background:{type:"BackgroundMedia",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},colorOverlay:"",mediaRef:r.defaults({type:"WixVideo",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},mediaFeatures:["alpha"]},a),imageOverlay:null,fittingType:"fill",colorOverlayOpacity:0,alignType:"center"},dataChangeBehaviors:[],cssStyle:{cssBorder:null,cssBorderRadius:null,cssBoxShadow:null}},props:{type:"MediaPlayerProperties",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1,autoGenerated:!1},autoplay:!0,loop:!0,disableAudio:!1,animatePoster:"none",playerInteraction:{click:"play",rollIn:"none",rollOut:"none",allowReplay:!0},mute:!0,playerAudioInteraction:{rollIn:"none",rollOut:"none"}},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{groups:{},properties:{},propertiesSource:{}},styleType:"custom",skin:"wysiwyg.viewer.skins.mediaPlayerSkin"},skin:"wysiwyg.viewer.skins.mediaPlayerSkin"}},socialBar:t,socialIcon:function(e){return t([e])},shape:function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.VectorImage",layout:{width:200,height:200},data:{type:"VectorImage",svgId:e.uri},props:{type:"VectorImageProperties",displayMode:"fit"},design:{type:"VectorImageDesignData",shapeStyle:{opacity:1},overrideColors:null},style:{type:"TopLevelStyle",style:{groups:{},properties:{},propertiesSource:{}},componentClassName:"wysiwyg.viewer.components.VectorImage",styleType:"custom",skin:"skins.viewer.VectorImageSkin"},skin:"skins.viewer.VectorImageSkin"}},swf:function(e){return{type:"Component",componentType:"wysiwyg.viewer.components.FlashComponent",layout:{width:e.width,height:e.height},data:{type:"LinkableFlashComponent",title:e.title,uri:e.fileName,metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},placeHolderImage:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Default Flash",uri:"7ff659c252dfd1ca5c76533695cb9611.wix_mp",description:"Some description here",width:128,height:128,alt:""}},props:{type:"FlashComponentProperties",metaData:{schemaVersion:"1.0"},displayMode:"original"},skin:"swf1"}}}}),define("mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils",["lodash","thumbnail-generator","util","coreUtilsLib","constants","experiment","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelAddCompData"],function(h,r,e,a,t,n,i,s){"use strict";var o=e.url,g=t.MEDIA_MANAGER_MEDIA_TYPES,l=i.MEDIA_SOURCES,d=i.MEDIA_MANAGER_UPLOAD_SOURCES,c=i.TRANSCODING_STATUSES,u=i.PUBLIC_MEDIA_ROOT,m=i.MEDIA_MANAGER_OPEN_SOURCE_BASE,p=i.PANEL_BI_SOURCE_SUFFIX,_=i.MEDIA_MANAGER_PANEL_SECTION_ID,f=function(e){return e.source===l.SHUTTERSTOCK},P=function(e,t,a,n,i){return o.joinURL(function(e){switch(e){case l.PRIVATE:case l.PUBLIC:return"https://static.wixstatic.com";case l.SHUTTERSTOCK:default:return""}}(e),r.resize(t,{width:a,height:n,mode:i},r.ResizeAPI.Vanbrandt))},E=function(e,t){return e.mediaType===t},I=function(e,t){return h.includes(t,e.mediaType)},y=function(e){return e<10?"0"+e:""+e},M=function(e){return(f(e)?h.get(e,"fileInfo.aspect"):e.width/e.height)||(E(e,g.VIDEO)?1.777:1)},S=function(e,t,a){var n=Math.min(e,a);return n<t?n:Math.max(n,t)},T=function(t,s){return new Promise(function(i,r){var e=window.open(t,"purchase","width=1000,height=550,scrollbars=1");window.addEventListener("message",function e(t){if(/premium\./i.test(t.origin)){var a=JSON.parse(t.data),n=a.packageUniqueId.split("_");_slicedToArray(n,1)[0]===s.id&&(window.removeEventListener("message",e,!1),a.success?i(s):r(s))}},!1),e.blur(),window.focus()})},b=function(e){return h.replace(e,/.*\//,"")},O=function(e){var t=e.systemTags||[];return h.includes(t,"paid")},A=function(e){return e.source===l.PUBLIC};return{isRecentlyAddedSection:function(e){return e===i.MEDIA_MANAGER_PANEL_SECTION_ID.RECENTLY_ADDED},isItemOfType:E,isItemOneOfTypes:I,isSocialIconsRoot:function(e){return e===u.SOCIAL_ICONS},generatePictureThumbnailUrl:function(e,t,a,n){return f(e)?e.thumbnailUrl:A(e)&&O(e)?e.thumbnailUrl:P(e.source,e.fileUrl,t,a,n)},generatePicturePreviewUrl:function(e,t,a,n){return f(e)?e.previewUrl:P(e.source,e.fileUrl,t,a,n)},getVideoThumbnailUrl:function(e,t,a,n){var i=e.thumbnailUrl;if(f(e))return i;var r=h.get(e,"fileOutput.image",[]),s=r.length&&h.last(r).url||i;return s===i?i:P(e.source,s,t,a,n)},getPrivateMediaFileExtension:function(e){var t=e.fileUrl,a=h.chain(t).split(".").last().value();return a===t?"":a},getReadableDuration:function(e){var t=parseInt(e/1e3,10),a=t%60,n=parseInt(t/60,10),i=0;return 60<n&&(i=parseInt(n/60,10),n%=60),(i?y(i)+":":"")+y(n)+":"+y(a)},getPreviewRatio:M,getPreviewDimension:function(e,t,a,n,i){var r=M(e),s=f(e)||!e.width?a:S(e.width,t,a),o=f(e)||!e.height?i:S(e.height,n,i),l=1<=r?{width:s,height:Math.round(s/r)}:{width:Math.round(o*r),height:o};return l.width>a&&(l={width:a,height:Math.round(a/r)}),l},buyShutterStockItem:function(e,t){var a=t.shutterStockPaymentAPI+"/services/shutterstock/start_purchase?site_token="+t.siteMediaToken+"&image_id="+e.id+"&altsku=1",n=t.shutterStockPaymentAPI+"/services/shutterstock/video/start_purchase?site_token="+t.siteMediaToken+"&video_id="+e.id+"&altsku=1",i=e.mediaType===g.PICTURE?a:n;return T(i,e)},buyWixMediaItem:function(e,t){var a="https://pix.wix.com/services/wixstock/start_purchase?site_token="+t.siteMediaToken+"&image_id="+e.id;return T(a,e)},requestShutterStockItemsPrice:function(e,t){return a.requestsUtil.fetchJson(e,{credentials:"same-origin",method:"GET",headers:new Headers({Authorization:"MSID."+t})})},timeNow:function(){return Date.now()},prepareItemBeforeAddComponent:function(a){var e=a.id,t=a.mediaType,n=a.name,i=a.width,r=a.height,s=a.fileInput,o=a.fileOutput,l=a.embedHtml,d=a.externalSources,c=a.labels,u=a.tags,m=a.fileUrl,p=void 0===m?"":m,_={id:e,mediaType:t,fileName:b(p),uri:b(p),fileUrl:p,title:h.slice(n,0,40).join(""),fileInput:s,fileOutput:o,labels:c,tags:u};return I(a,[g.PICTURE,g.VIDEO,g.SWF])&&(_.width=i,_.height=r),E(a,g.VIDEO)&&(_.embedHtml=h.isUndefined(l)?null:l,_.externalSources=h.isUndefined(d)?null:d,_.fileBaseUrl=p.split("/").slice(0,2).join("/")),h.forEach(["thumbnailUrl","previewUrl","source"],function(e){var t;h.isUndefined(_[e])&&(_[e]=/Url/i.test(e)?(t=a[e],h.replace(t,/(http:\/\/[^\/]+\/)/i,"")):a[e])}),_},isAddMediaSection:function(e){return e===_.ADD_MEDIA},isRecommendedMediaCard:function(e){return e===_.RECOMMENDED_MEDIA_CARD},isRecommendedMediaSection:function(e){return e===_.RECOMMENDED_MEDIA},isUploadAddMediaSource:function(e){return e===d.COMPUTER},canShowPreviewForItem:function(e){return I(e,[g.PICTURE,g.SHAPE,g.VIDEO])},isVideoFileTranscodingFailed:function(e){return e.transcodingStatus===c.FAILED},isVideoFileTranscodedSuccessfully:function(e){var t=e.transcodingStatus;return h.isUndefined(t)||t===c.READY},isVideoFileTranscodingInProgress:function(e){var t=e.transcodingStatus;return Boolean(t)&&!h.includes([c.READY,c.FAILED],t)},getNthOrFirstItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return e[t]?e[t]:h.head(e)},getTopVisibleSectionIndex:function(e,n,t){var a=0;0<n&&(a=n+t>=h.last(e)[1]?e.length-1:h.reduce(e,function(e,t,a){return t[0]<=n&&t[1]>n?a:e},0));return a},transformSectionsDOMInstancesToDimensionIntervals:function(e){return h.map(e,function(e){var t=Math.floor(e.offsetTop);return[t,t+Math.floor(e.offsetHeight)+parseInt(window.getComputedStyle(e).marginBottom,10)]})},shiftDOMInstanceIntervals:function(e,i){return h.map(e,function(e){var t=_slicedToArray(e,2),a=t[0],n=t[1];return[a-i,n-i]})},sectionIdToBiField:function(e){return h.toLower(e)},tagsToString:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];return h.join(e,",")},getComponentStructureCreator:function(e){return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).isSocialIcon?s.socialIcon:h.includes(e.tags||[],"_mp4_alpha")?s.alphaVideo:e.mediaType===g.MUSIC&&n.isOpen("se_audioPlayerAddPanel")?s.musicPlayer:s[e.mediaType]},mapPublicMediaSubcategoryToRoot:function(e){return h.reduce(e,function(e,t){var a=t.id,n=function a(e){var t=e.subFolders;return t&&t.length?h.reduce(t,function(e,t){return[].concat(_toConsumableArray(e),_toConsumableArray(a(t)))},[]):[e.id]}(t);return h.assign({},e,h.reduce(n,function(e,t){return h.assign({},e,_defineProperty({},t,a))},{}))},{})},extractFolderIdFromPath:function(e){if(!e)return"";var t=h.split(e,"/"),a=h.head(t);if("search"===a)return function(e){switch(h.nth(e,1)){case l.PRIVATE:return h.nth(e,3)||"";case l.PUBLIC:return h.nth(e,4);default:return""}}(t);switch(a){case l.PRIVATE:return h.nth(t,1)||"";case l.PUBLIC:return h.nth(t,2);default:return""}},getComposedComponentStructureCreator:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).isSocialIcon?s.socialBar:null},generateMediaManagerOpenSource:function(e,t){return m+"_"+p[e]+(t?"_search":"")},generateMediaManagerAddMediaSectionOpenSource:function(e){return m+"_add_media_section_"+e},findFirstParentButtonNode:function(e){return function e(t){return t&&t.tagName?"button"===h.toLower(t.tagName)?t:e(t.parentNode):null}(e)},getComponentStructureSkin:function(e){return h.get(e,"style.skin")||e.skin||e.style},isPublicMediaFilePaid:O,isPublicMediaItem:A,selectExpandedCategories:function(t,e){return h.map(e,function(e){return h.includes(t,e.id)?h.assign({},e,{isSelected:!0}):e})},addComponentData:s,filterOutSectionsItemsIds:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){return!0};return h(e).flatMap("items").compact().filter(t).map("id").value()},isVideoItem:function(e){return e.mediaType===g.VIDEO},sectionsListToObj:function(e){return h.keyBy(e,"id")}}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview.rt",["react","lodash","baseUILib"],function(e,t,a){"use strict";return function(){return e.createElement("div",{className:"media-manager-media-preview"},e.createElement("div",{className:"media-manager-media-preview__content "+t({"with-blue-background":this.isBackgroundBlue()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),style:this.getContentStyle()},this.isPictureItemPreview()?e.createElement("div",{className:"media-manager-media-preview__"+this.getItemMediaType(),style:this.getPicturePreviewStyle(),key:"picture"}):null,this.isVideoItemPreview()?e.createElement("video",{className:"media-manager-media-preview__video",src:this.getVideoPreviewUrl(),autoPlay:!0,muted:!0,loop:!0,ref:"videoInstance",key:"video"}):null),e.createElement("div",{className:"media-manager-media-preview__footer",style:this.getFooterStyle()},e.createElement("div",{style:this.getTitleTextWrapperStyle()},e.createElement("div",{className:"media-manager-media-preview__title-text"},e.createElement(a.TextLabel,{value:this.getName(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))),e.createElement("div",{className:"media-manager-media-preview__duration"},e.createElement(a.TextLabel,{value:this.getDuration(),type:"T07",shouldTranslate:!1,enableEllipsis:!1}))))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview",["reactDOM","create-react-class","prop-types","lodash","util","constants","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview.rt"],function(e,t,a,n,i,r,s,o,l){"use strict";var d=i.imageTransform,c=r.MEDIA_MANAGER_MEDIA_TYPES;return t({displayName:"MediaManagerPanelMediaPreview",propTypes:{item:s.item.isRequired,isBackgroundBlue:a.bool},getInitialState:function(){return{dimension:o.getPreviewDimension(this.props.item,120,228,120,342)}},componentWillUnmount:function(){this.isVideoItemPreview()&&this.unmountVideoSafely()},unmountVideoSafely:function(){var e=this.getVideoInstance();e.pause(),e.src="",e.load()},getVideoInstance:function(){return e.findDOMNode(this.refs.videoInstance)},getName:function(){return this.props.item.name},getDimension:function(){return this.state.dimension},getContentStyle:function(){var e=this.getDimension(),t=e.width,a=e.height;return{width:Math.max(t,120),height:a}},getPicturePreviewStyle:function(){var e=this.getDimension(),t=e.width,a=e.height;return{backgroundImage:"url('"+this.getPicturePreviewUrl()+"')",width:t,height:a}},getItemMediaType:function(){return this.props.item.mediaType},getFooterStyle:function(){return{maxWidth:Math.max(this.getDimension().width,120)+"px"}},getTitleTextWrapperStyle:function(){return this.getFooterStyle()},isBackgroundBlue:function(){return this.props.isBackgroundBlue},isVideoItemPreview:function(){return o.isItemOfType(this.props.item,c.VIDEO)},isPictureItemPreview:function(){return o.isItemOneOfTypes(this.props.item,[c.PICTURE,c.SHAPE])},getPicturePreviewUrl:function(){var e=this.getDimension(),t=e.width,a=e.height;return o.generatePicturePreviewUrl(this.props.item,t,a,d.fittingTypes.SCALE_TO_FILL)},getVideoPreviewUrl:function(){return n.head(this.props.item.videoPreviewUrls)||""},getDuration:function(){var e=n.get(this.props.item,"fileInput.duration",null);return n.isNull(e)?e:o.getReadableDuration(e)},render:l})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel.rt",["react","lodash"],function(e,t){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-preset-extension-label"},"\n  ",this.props.label,"\n")}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel",["create-react-class","prop-types","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel.rt"],function(e,t,a){"use strict";return e({displayName:"thumbnailExtensionLabel",propTypes:{label:t.string.isRequired},render:a})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail.rt",["react","lodash","constants","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnailExtensionLabel"],function(t,a,n,i,r){"use strict";return function(){return function(){var e=n.MEDIA_MANAGER_MEDIA_TYPES;return t.createElement("div",{className:"media-manager-panel-preset-thumbnail "+a({"with-blue-background":this.isBackgroundBlue()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},this.isItemOneOfTypes([e.PICTURE,e.SHAPE])?t.createElement("div",{className:a(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),key:"picture"},t.createElement("img",{className:"media-manager-panel-preset-thumbnail__picture-image",src:this.getPictureThumbnailUrl(),onError:this.handlePictureError})):null,this.isItemOfType(e.VIDEO)?t.createElement("div",{className:a(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),style:{backgroundImage:"url('"+this.getVideoThumbnailUrl()+"')"},key:"video"},t.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-symbol"},t.createElement(i.symbol,{name:"bgVideoIndicator"})),t.createElement("div",{className:"media-manager-panel-preset-thumbnail__video-bottom-overlay"})):null,this.isItemOfType(e.MUSIC)?t.createElement("div",{className:a(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),key:"music"},t.createElement(i.symbol,{name:"empty-document-illustration"}),t.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-control-wrapper"},t.createElement("div",{className:"media-manager-panel-preset-thumbnail__music-symbol"},t.createElement(i.symbol,{name:"music"})))):null,this.isItemOneOfTypes([e.DOCUMENT,e.SWF])?t.createElement("div",{className:a(_defineProperty({},this.getMediaType(),!0)).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),key:"document"},t.createElement(i.symbol,{name:"document-illustration"})):null,this.isItemOneOfTypes([e.DOCUMENT,e.MUSIC,e.SWF])&&this.hasExtension()?t.createElement("div",{className:"media-manager-panel-preset-thumbnail__extension-label",key:"label"},t.createElement(r,{label:this.getExtension()})):null)}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail",["create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail.rt"],function(e,t,a,n,i,r,s){"use strict";var o=n.imageTransform;return e({displayName:"MediaManagerPanelItemThumbnail",propTypes:{item:i.item.isRequired,onPictureError:t.func.isRequired,isBackgroundBlue:t.bool},imageSize:90,isBackgroundBlue:function(){return this.props.isBackgroundBlue},getMediaType:function(){return this.props.item.mediaType},getPictureThumbnailUrl:function(){var e=this.imageSize;return r.generatePictureThumbnailUrl(this.props.item,e,e,o.fittingTypes.SCALE_TO_FILL)},getVideoThumbnailUrl:function(){var e=this.imageSize;return r.getVideoThumbnailUrl(this.props.item,e,e,o.fittingTypes.SCALE_TO_FILL)},hasExtension:function(){return Boolean(r.getPrivateMediaFileExtension(this.props.item))},getExtension:function(){return"."+a.toUpper(r.getPrivateMediaFileExtension(this.props.item))},isItemOfType:function(e){return r.isItemOfType(this.props.item,e)},isItemOneOfTypes:function(e){return r.isItemOneOfTypes(this.props.item,e)},handlePictureError:function(){a.invoke(this.props,"onPictureError")},render:s})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset.rt",["react","lodash","baseUI","baseUILib","santa-editor-symbols","constants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/thumbnails/presetThumbnail"],function(a,t,n,i,r,s,o){"use strict";return function(){return function(){var e=this.props.item;return a.createElement("div",{className:"media-manager-panel-preset",onClick:this.handlePresetClick,onMouseDown:function(e,t){this.handlePresetMouseDown(t)}.bind(this,e),ref:"presetInstance"},a.createElement(n.tooltip,{value:this.getItemPreviewElement(e),disabled:this.shouldDisablePreview(),styleType:s.UI.TOOLTIP.STYLE_TYPE.CONTENT_ONLY,noArrow:!0,alignment:"right",delay:"300",width:"252px"},a.createElement("div",{},this.hasPriceInfo()?function(e){var t=this.getPriceInfo();return a.createElement("div",{className:"media-manager-panel-preset__purchase-overlay",key:"presetOverlay","data-hook":"media-manager-panel-buy_item_button_wrapper"},a.createElement(i.Button,{className:"btn-sm media-manager-panel-preset__buy-item-button"},a.createElement("span",{dangerouslySetInnerHTML:{__html:t.symbol}}),a.createElement("span",{},t.value)))}.apply(this,[e]):null,this.shouldRenderTranscodingOverlay()?a.createElement("div",{className:"media-manager-panel-preset__transcoding-overlay",key:"videoTranscodingOverlay"},this.isTranscodingInProgress()||this.hasPictureLoadingError?a.createElement("div",{className:"media-manager-panel-preset__transcoding-indicator",key:"transcodingPreloader"},a.createElement(i.Composites.Preloader,{},a.createElement(i.Preloader,{}))):null,this.isTranscodingFailed()?a.createElement(n.tooltip,{value:this.getFailedTranscodingTooltipValue(),width:"171px",key:"transcodingFailedMessage"},a.createElement("div",{className:"media-manager-panel-preset__transcoding-failed-icon"},a.createElement(r.symbol,{name:"media-manager-panel-failed-transcoding-icon"}))):null):null,a.createElement("div",{className:"media-manager-panel-preset__thumbnail "+t({"with-error":this.hasPictureLoadingError}).transform(function(e,t,a){t&&e.push(a)},[]).join(" ")},a.createElement(o,{item:e,isBackgroundBlue:this.isBackgroundBlue(),onPictureError:this.handlePictureError})))),this.shouldDisplayName()?a.createElement("div",{className:"media-manager-panel-preset__title",key:"title"},a.createElement(i.TextLabel,{value:e.name,type:"T12",shouldTranslate:!1})):null)}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset",["react","reactDOM","prop-types","lodash","constants","util","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/mediaPreview","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset.rt"],function(t,n,e,i,a,r,s,o,l,d,c){"use strict";var u=r.hoc.withDoubleClickPrevention,m=a.MEDIA_MANAGER_MEDIA_TYPES,p=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={hasPictureLoadingError:!1},i.bindAll(t,["handlePresetClick","handlePictureError"]),t}return _inherits(a,t.Component),_createClass(a,[{key:"getPresetInstance",value:function(){return n.findDOMNode(this.refs.presetInstance)}},{key:"shouldDisplayName",value:function(){return this.props.shouldDisplayName}},{key:"isBackgroundBlue",value:function(){return this.props.isBackgroundBlue}},{key:"isVideo",value:function(){return o.isItemOfType(this.item,m.VIDEO)}},{key:"canPresetBeUsed",value:function(){var e=this.isVideo();return!this.hasPictureLoadingError&&(!e||e&&!this.isTranscodingFailed())}},{key:"isTranscodingInProgress",value:function(){return o.isVideoFileTranscodingInProgress(this.item)}},{key:"isTranscodingFailed",value:function(){return o.isVideoFileTranscodingFailed(this.item)}},{key:"isTranscodedSuccessfully",value:function(){return o.isVideoFileTranscodedSuccessfully(this.item)}},{key:"shouldRenderTranscodingOverlay",value:function(){return this.hasPictureLoadingError||this.isVideo()&&(this.isTranscodingInProgress()||this.isTranscodingFailed())}},{key:"getFailedTranscodingTooltipValue",value:function(){return l.VIDEO_FILE_TRANSCODING_FAILED_TOOLTIP_MESSAGE}},{key:"getItemPreviewElement",value:function(e){return t.createElement(d,{item:e,isBackgroundBlue:this.isBackgroundBlue()})}},{key:"shouldDisablePreview",value:function(){return this.hasPictureLoadingError||!o.canShowPreviewForItem(this.item)||this.isVideo()&&!this.isTranscodedSuccessfully()}},{key:"getPriceInfo",value:function(){return this.props.priceInfo}},{key:"hasPriceInfo",value:function(){return Boolean(this.getPriceInfo())}},{key:"handlePictureError",value:function(){this.setState({hasPictureLoadingError:!0})}},{key:"buyItem",value:function(){i.invoke(this.props,"onBuyItem",this.item)}},{key:"handlePresetClick",value:function(e){var t=this.props.isAnotherMouseActionAllowed(e);t&&this.canPresetBeUsed()&&!this.canBePurchased&&(i.invoke(this.props,"onClick",this.item),this.props.setClickTimeStamp(e)),t&&this.canBePurchased&&(this.buyItem(),this.props.setClickTimeStamp(e))}},{key:"handlePresetMouseDown",value:function(e){if(e.preventDefault(),e.persist(),this.props.isAnotherMouseActionAllowed(e)&&this.canPresetBeUsed()&&!this.canBePurchased){var t=this.getPresetInstance();i.invoke(this.props,"onItemDrag",e,{item:this.item,rect:i.pick(t.getBoundingClientRect(),["left","top","width","height"])})}}},{key:"render",value:function(){return c.call(this)}},{key:"item",get:function(){return this.props.item}},{key:"hasPictureLoadingError",get:function(){return this.state.hasPictureLoadingError}},{key:"canBePurchased",get:function(){return this.hasPriceInfo()&&i.isFunction(this.props.onBuyItem)}}]),a}();return p.propTypes={item:s.item.isRequired,priceInfo:e.shape({value:e.number,symbol:e.string}),shouldDisplayName:e.bool,isBackgroundBlue:e.bool,onBuyItem:e.func,onClick:e.func,onItemDrag:e.func,setClickTimeStamp:e.func.isRequired,isAnotherMouseActionAllowed:e.func.isRequired},p.defaultProps={shouldDisplayName:!0},u(p)}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/section.rt",["react","lodash","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset"],function(e,t,a,n){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-section "+this.getSectionClassName(),"data-hook":this.props.dataHook},e.createElement("div",{className:"media-manager-panel-section__header"},e.createElement("span",{},"\n      ",this.props.title,"\n    "),e.createElement("span",{className:"media-manager-panel-section__header-actions"},"\n      ",this.props.headerActions,"\n    ")),e.createElement("div",{className:"media-manager-panel-section__content"},"\n    ",this.props.children,"\n  "))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/section",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section.rt"],function(e,t,a,n){"use strict";return e({displayName:"MediaManagerPanelSection",propTypes:{title:t.string.isRequired,className:t.string,children:t.node.isRequired,headerActions:t.arrayOf(t.element),dataHook:t.string},getSectionClassName:function(){return this.props.className||""},render:n})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection.rt",["react","lodash","baseUILib","santa-editor-symbols","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section","mediaManagerPanelInfra/mediaManagerPanelPresets/components/preset"],function(a,e,t,n,i,r){"use strict";return function(){return a.createElement(i,{title:this.props.title,headerActions:this.props.headerActions,dataHook:this.getDataHook()},this.hasItems()?a.createElement("div",{className:"media-manager-panel-preset-section__content",key:"section-content"},a.createElement.apply(this,["ul",{className:"media-manager-panel-preset-section__presets"},e.map(this.props.items,function(e,t){return a.createElement("li",{className:"media-manager-panel-preset-section__preset",key:e.id},a.createElement(r,{item:e,priceInfo:this.getItemPrice(e),onBuyItem:this.buyItem,onClick:this.onItemClick,onItemDrag:this.onItemDrag,shouldDisplayName:this.shouldDisplayPresetName(),isBackgroundBlue:this.shouldSetBlueBackgroundToPreset()}))}.bind(this))]),this.props.action?a.createElement("div",{className:"media-manager-panel-preset-section__action-wrapper",key:"sectionAction"},a.createElement(t.Button,{className:"media-manager-panel-preset-section__action btn-sm btn-light",onClick:function(){this.props.action()}.bind(this)},a.createElement("span",{className:"media-manager-panel-preset-section__action-content-wrapper"},a.createElement("span",{className:"media-manager-panel-preset-section__action-text"},"\n          ",this.getActionLabel(),"\n        "),a.createElement(n.symbol,{name:"arrowRightSmall"})))):null):null,!this.hasItems()&&this.shouldShowLoaderWhenNoItems()?a.createElement("div",{className:"media-manager-panel-preset-section__loader",key:"no-items-loader"},a.createElement(t.Composites.Preloader,{},a.createElement(t.Preloader,{className:"medium"}),a.createElement(t.TextLabel,{value:this.getNoItemsLoaderText()}))):null)}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection",["create-react-class","lodash","util","experiment","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection.rt"],function(e,a,t,n,i,r){"use strict";var s=t.translate;return e({displayName:"MediaManagerPanelPresetSection",propTypes:i.presetSection,getActionLabel:function(){return this.props.actionLabel||(n.isOpen("se_mediaPanelShowRecommendedMedia")?s("Media_Panel_Results_Show_All_Label_OnHover"):s("Media_Panel_Results_Show_More_Label_OnHover"))},hasItems:function(){return!a.isEmpty(this.props.items)},shouldDisplayPresetName:function(){return a.get(this.props,["options","shouldDisplayPresetName"],!1)},shouldShowLoaderWhenNoItems:function(){return a.get(this.props,["options","shouldShowLoaderWhenNoItems"],!1)},getNoItemsLoaderText:function(){return"Media_Panel_Recommended_Loading_Text"},shouldSetBlueBackgroundToPreset:function(){return Boolean(a.get(this.props,["options","shouldPresetHaveBlueBackground"],!1))},getItemPrice:function(e){return a.invoke(this.props.options,"getItemPrice",e)},buyItem:function(e){a.invoke(this.props.options,"buyItem",e)},onItemClick:function(e){a.invoke(this.props.options,"onItemClick",{id:this.props.id,folderId:this.props.options.folderId,item:e})},onItemDrag:function(e,t){a.invoke(this.props.options,"startItemDrag",{event:e,dragItemInfo:t,folderId:this.props.options.folderId,id:this.props.id})},getDataHook:function(){return"media-manager-panel-"+a.toLower(this.props.id)+"_section"},render:r})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection.rt",["react","lodash","santa-editor-symbols","baseUI","constants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/section"],function(i,r,s,o,t,a){"use strict";return function(){return function(){var e=t.MEDIA_MANAGER_UPLOAD_SOURCES;return i.createElement(a,{className:"media-manager-panel-add-media-section",title:this.props.title},i.createElement.apply(this,["ul",{className:"media-manager-panel-add-media-section__sources"},r.map(this.getSources(),function(e,t,a){var n=this;return i.createElement("li",{className:"media-manager-panel-add-media-section__source",key:t},i.createElement(o.tooltip,{value:this.getSourceTooltipText(t),delay:"300"},i.createElement("button",{className:"media-manager-panel-add-media-section__source-button "+r({"media-manager-panel-add-media-section__upload-button":this.isLocalSource(t)}).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),onClick:function(){return n.handleAddMediaButtonClick(t)}},i.createElement(s.symbol,{name:this.getIconName(t),key:"externalSource"}))))}.bind(this,e))]))}.apply(this,[])}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection.rt"],function(e,t,a,n,i,r){"use strict";var s,o,l=n.MEDIA_MANAGER_UPLOAD_SOURCES,d=(_defineProperty(s={},l.COMPUTER,"upload-btn"),_defineProperty(s,l.FACEBOOK,"media-manager-panel-facebook-icon"),_defineProperty(s,l.INSTAGRAM,"media-manager-panel-instagram-icon"),_defineProperty(s,l.GOOGLE_DRIVE,"media-manager-panel-googledrive-icon"),_defineProperty(s,l.GOOGLE_PHOTOS,"media-manager-panel-googlephotos-icon"),s),c=(_defineProperty(o={},l.COMPUTER,"Media_Panel_Upload_Upload_Media_Tooltip"),_defineProperty(o,l.FACEBOOK,"Media_Panel_Upload_Facebook_Tooltip"),_defineProperty(o,l.INSTAGRAM,"Media_Panel_Upload_Instagram_Tooltip"),_defineProperty(o,l.GOOGLE_DRIVE,"Media_Panel_Upload_Google_Drive_Tooltip"),_defineProperty(o,l.GOOGLE_PHOTOS,"Media_Panel_Upload_Google_Photos_Tooltip"),o),u=[l.COMPUTER,l.FACEBOOK,l.INSTAGRAM,l.GOOGLE_DRIVE,l.GOOGLE_PHOTOS];return e({displayName:"MediaManagerPanelAddMediaSection",propTypes:{title:t.string.isRequired,onButtonClick:t.func.isRequired},isLocalSource:function(e){return i.isUploadAddMediaSource(e)},getSources:function(){return u},getIconName:function(e){return d[e]},getSourceTooltipText:function(e){return c[e]},handleAddMediaButtonClick:function(e){this.props.onButtonClick(e)},render:r})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/search.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(e,t,a,n){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-search"},e.createElement("div",{className:"media-manager-panel-search__input-wrapper "+t({focused:this.isFocused(),"with-query":!this.isQueryEmpty()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),onClick:this.handleWrapperClick,onMouseDown:this.handleWrapperMouseDown},e.createElement("span",{className:"media-manager-panel-search__search-icon"},e.createElement(n.symbol,{name:"media-manager-panel-search"})),e.createElement("input",{className:"media-manager-panel-search__input",value:this.state.query,placeholder:this.getPlaceholderText(),onChange:this.handleInputValueChange,onKeyDown:this.handleKeyDown,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,ref:"inputInstance"}),e.createElement("div",{className:"media-manager-panel-search__button-wrapper "+t(_defineProperty({},"is-visible",this.isButtonVisible())).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),"data-hook":"media-manager-panel-search_button_wrapper"},this.isFocused()?null:e.createElement(a.Button,{className:"media-manager-panel-search__button media-manager-panel-search__clear-search-button btn btn-light",onClick:this.handleClearSearchButtonClick,key:"clearSearchButton"},e.createElement(n.symbol,{name:"headerCloseButton"})),this.isFocused()?e.createElement(a.Button,{className:"media-manager-panel-search__button media-manager-panel-search__start-search-button btn",key:"startSearchButton",ref:"buttonInstance"},e.createElement(n.symbol,{name:"media-manager-panel-arrow-right"})):null)))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/search",["reactDOM","create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils","mediaManagerPanelInfra/mediaManagerPanelPresets/components/search.rt"],function(e,t,a,n,i,r,s){"use strict";return t({displayName:"MediaManagerPanelSearch",propTypes:{value:a.string,onSearchStart:a.func.isRequired,placeholder:a.string,onClearSearchButtonClick:a.func,onBlur:a.func,searchOnEnterPressed:a.bool},getDefaultProps:function(){return{value:"",searchOnEnterPressed:!0}},getInitialState:function(){return{query:this.props.value,isFocused:!1}},getQuery:function(){return this.state.query},isFocused:function(){return this.state.isFocused},getInputInstance:function(){return e.findDOMNode(this.refs.inputInstance)},getStartSearchButtonInstance:function(){return e.findDOMNode(this.refs.buttonInstance)},getPlaceholderText:function(){return i.translate(this.props.placeholder||"Media_Panel_Search_Placeholder_Text")},isQueryEmpty:function(){return n.isEmpty(this.getQuery())},isButtonVisible:function(){return!this.isQueryEmpty()},startSearch:function(e){return n.invoke(this.props,"onSearchStart",e)},handleBlur:function(e){return n.invoke(this.props,"onBlur",e)},handleInputValueChange:function(e){this.setState({query:e.target.value})},handleWrapperClick:function(){this.getInputInstance().focus()},handleWrapperMouseDown:function(e){var t=this,a=this.getStartSearchButtonInstance();a&&r.findFirstParentButtonNode(e.target)===a&&setTimeout(function(){t.startSearch(t.state.query)},0)},handleClearSearchButtonClick:function(){var e=this.props.onClearSearchButtonClick;e&&e(),this.setState({query:""})},handleInputFocus:function(){this.setState({isFocused:!0})},handleInputBlur:function(){this.setState({isFocused:!1}),this.handleBlur(this.state.query)},handleKeyDown:function(e){e&&"Enter"===e.key&&this.props.searchOnEnterPressed&&(this.getInputInstance().blur(),this.startSearch(this.state.query))},render:s})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/card.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(e,t,a,n){"use strict";return function(){return e.createElement("div",{className:"media-manager-panel-card"},e.createElement("div",{className:"media-manager-panel-card__header"},e.createElement("button",{className:"media-manager-panel-card__header-actions-button"},e.createElement(n.symbol,{name:"freeIcon_3dots",style:{width:"25px",height:"25px",fill:"#162d3d"}}))),this.props.title?e.createElement("div",{className:"media-manager-panel-card__title",key:"card-title"},e.createElement(a.TextLabel,{value:this.props.title,type:"T09",enableEllipsis:!1,shouldTranslate:!1})):null,this.props.subtitle?e.createElement("div",{className:"media-manager-panel-card__subtitle",key:"card-subtitle"},e.createElement(a.TextLabel,{value:this.props.subtitle,type:"T04",enableEllipsis:!1,shouldTranslate:!1})):null,e.createElement("div",{className:"media-manager-panel-card__body"},"\n    ",this.props.children,"\n  "))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/card",["create-react-class","prop-types","mediaManagerPanelInfra/mediaManagerPanelPresets/components/card.rt"],function(e,t,a){"use strict";return e({displayName:"Card",propTypes:{title:t.string,subtitle:t.string},render:a})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag.rt",["react","lodash","baseUILib","santa-editor-symbols"],function(e,t,a,n){"use strict";return function(){return e.createElement("span",{className:"media-manager-panel-tag "+t({selected:this.isSelected()}).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),onClick:function(){this.onClick()}.bind(this)},e.createElement("span",{className:"media-manager-panel-tag__text"},e.createElement(a.TextLabel,{value:this.props.text,type:"T04",shouldTranslate:!1})),this.isSelected()?e.createElement("span",{className:"media-manager-panel-tag__icon media-manager-panel-tag__icon-check",key:"check-icon"},e.createElement(n.symbol,{name:"media-manager-panel-check",style:{fill:"#3899ec",width:"9px",height:"7px"}})):null,this.isSelected()?null:e.createElement("span",{className:"media-manager-panel-tag__icon media-manager-panel-tag__icon-plus",key:"plus-icon"},e.createElement(n.symbol,{name:"plus",style:{fill:"#3899ec",width:"7px",height:"7px"}})))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag",["create-react-class","lodash","prop-types","mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag.rt"],function(e,t,a,n){"use strict";return e({displayName:"Tag",propTypes:{id:a.string.isRequired,text:a.string.isRequired,isSelected:a.bool,onClick:a.func},isSelected:function(){return this.props.isSelected},onClick:function(){var e=this.props;t.invoke(e,"onClick",e.id)},render:n})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard.rt",["react","lodash","baseUILib","mediaManagerPanelInfra/mediaManagerPanelPresets/components/card","mediaManagerPanelInfra/mediaManagerPanelPresets/components/tag"],function(n,e,t,a,i){"use strict";return function(){return n.createElement(a,{title:this.title,subtitle:this.subtitle},n.createElement("div",{},n.createElement.apply(this,["ul",{},e.map(this.getCategories(),function(e,t){var a=this;return n.createElement("li",{className:"recommended-media-card__tag",key:e.id},n.createElement(i,{id:e.id,text:e.name,isSelected:this.isCategorySelected(e.id),onClick:function(e){return a.toggleCategory(e)}}))}.bind(this))]),n.createElement("div",{className:"recommended-media-card__footer"},n.createElement(t.Button,{className:"btn-text recommended-media-card__see-all-button",onClick:function(){this.handleSeeAllButtonClick()}.bind(this)},"\n        ",this.seeAllText,"\n      "),n.createElement(t.Button,{className:"btn-sm recommended-media-card__apply-button",onClick:function(){this.handleApplyButtonClick()}.bind(this),disabled:!this.hasSelectedCategories()},"\n        ",this.applyText,"\n      "))))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard",["create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard.rt"],function(e,t,a,n,i){"use strict";var r=n.translate;return e({displayName:"RecommendedMediaCard",propTypes:{categories:t.arrayOf(t.shape({id:t.string.isRequired,name:t.string.isRequired,isSelected:t.bool})).isRequired,onApply:t.func,onSeeAll:t.func},getInitialState:function(){return{selectedCategories:a(this.props.categories).filter("isSelected").map("id").value()}},get title(){return r("Media_Panel_Recommended_Section_EmptyState_Title")},get subtitle(){return r("Media_Panel_Recommended_Section_EmptyState_Subitle")},get seeAllText(){return r("Media_Panel_Recommended_Section_EmptyState_SeeAll_Text")},get applyText(){return r("Media_Panel_Recommended_Section_EmptyState_Apply_Button")},hasSelectedCategories:function(){return Boolean(this.state.selectedCategories.length)},getCategories:function(){return this.props.categories},isCategorySelected:function(e){return a.includes(this.state.selectedCategories,e)},toggleCategory:function(t){var e=this.state.selectedCategories;this.isCategorySelected(t)?this.setState({selectedCategories:a.reject(e,function(e){return e===t})}):this.setState({selectedCategories:a.concat(e,t)})},handleApplyButtonClick:function(){a.invoke(this.props,"onApply",this.state.selectedCategories)},handleSeeAllButtonClick:function(){a.invoke(this.props,"onSeeAll",this.state.selectedCategories)},render:i})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton.rt",["react","lodash","santa-editor-symbols"],function(e,t,a){"use strict";return function(){return e.createElement("button",{className:"media-manager-panel-settings-button",onClick:function(){this.handleClick()}.bind(this)},e.createElement(a.symbol,{name:"mediaPanelSettingsAction"}))}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton",["create-react-class","prop-types","lodash","mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton.rt"],function(e,t,a,n){"use strict";return e({displayName:"settingsButton",propTypes:{onClick:t.func},handleClick:function(){a.invoke(this.props,"onClick")},render:n})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection.rt",["react","lodash","mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection"],function(t,e,a){"use strict";return function(){var e=this;return t.createElement(a,{id:this.props.id,title:this.props.title,items:this.getItems(),action:function(){return e.action()},actionLabel:this.getActionLabel(),headerActions:this.getHeaderActions(),options:this.getSectionOptions()})}}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection",["react","create-react-class","prop-types","lodash","util","mediaManagerPanelInfra/mediaManagerPanelPresets/components/settingsButton","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection.rt"],function(e,t,a,n,i,r,s,o,l){"use strict";var d=i.translate,c=o.RECOMMENDED_ITEMS_TO_LOAD_COUNT;return t({displayName:"RecommendedMediaSection",propTypes:n.assign({},s.presetSection,{pagingOptions:a.shape({initial:a.number,max:a.number,step:a.number}),onSettingsOpen:a.func}),getInitialState:function(){return{visibleItemsCount:this.getPagingOptions().initial||9}},getSectionOptions:function(){return n.assign({shouldShowLoaderWhenNoItems:!0},this.props.options)},getVisibleItemsCount:function(){return this.state.visibleItemsCount},getPagingOptions:function(){return this.props.pagingOptions||{}},getVisibleItemsMaxCount:function(){return this.getPagingOptions().max||c},getVisibleItemsStep:function(){return this.getPagingOptions().step||9},isAllItemsShown:function(){var e=this.getVisibleItemsCount();return e===this.getVisibleItemsMaxCount()||e===this.getTotalItemsCount()},getTotalItemsCount:function(){return n.get(this.props,["items","length"])},getItems:function(){return n.slice(this.props.items,0,this.getVisibleItemsCount())},action:function(){this.isAllItemsShown()?this.showAllItems():this.showMoreItems()},showMoreItems:function(){this.setState({visibleItemsCount:Math.min(this.getVisibleItemsCount()+this.getVisibleItemsStep(),this.getVisibleItemsMaxCount())})},showAllItems:function(){n.invoke(this.props,"action")},getActionLabel:function(){return this.isAllItemsShown()?d("Media_Panel_Results_Show_All_Label_OnHover"):d("Media_Panel_Results_Show_More_Label_OnHover")},getHeaderActions:function(){return[e.createElement(r,{onClick:this.props.onSettingsOpen,key:"settings-button"})]},render:l})}),define("mediaManagerPanelInfra/mediaManagerPanelPresets/mediaManagerPanelPresets",["mediaManagerPanelInfra/mediaManagerPanelPresets/components/presetSection","mediaManagerPanelInfra/mediaManagerPanelPresets/components/addMediaSection","mediaManagerPanelInfra/mediaManagerPanelPresets/components/search","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaCard","mediaManagerPanelInfra/mediaManagerPanelPresets/components/recommendedMediaSection"],function(e,t,a,n,i){"use strict";return{presetSection:e,addMediaSection:t,search:a,recommendedMediaCard:n,recommendedMediaSection:i}}),define("mediaManagerPanelInfra",["mediaManagerPanelInfra/mediaManagerPanelPresets/mediaManagerPanelPresets","mediaManagerPanelInfra/mediaManagerPanelTypes/mediaManagerPanelTypes","mediaManagerPanelInfra/mediaManagerPanelConstants/mediaManagerPanelConstants","mediaManagerPanelInfra/mediaManagerPanelUtils/mediaManagerPanelUtils"],function(e,t,a,n){"use strict";return{presets:e,types:t,constants:a,utils:n}});
//# sourceMappingURL=mediaManagerPanelInfra.min.js.map