var _createClass=function(){function i(e,t){for(var a=0;a<t.length;a++){var i=t[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}}();function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}define("tpa/constants/constants",[],function(){"use strict";return{TPA_SETTINGS_PANEL_ID:"tpa.compPanels.tpaSettings",TPA_SETTING_MODAL:"tpa.compModals.tpaSettingsModal",TPA_DEFAULT_HELP_ID:"47f00d3e-78ae-4bd6-9c2f-4ddf0e9c42f4",BI:{initiator:{APP_MARKET:"APPMARKET_EDITOR",EDITOR:"EDITOR",SDK:"SDK",PLATFORM:"SDK_PLATFORM",DEV_MODE_ON:"DEV_MODE_ON"},type:{ADD_APP:"ADD_APP",ADD_APP_APP_BUTTON:"ADD_APP_APP_BUTTON",ADD_APP_ADD_PANEL:"ADD_APP_ADD_PANEL",ADD_WIDGET:"ADD_WIDGET",APP_MANAGE_BUTTON:"APP_BUTTON_MANAGE",APP_UPGRADE_BUTTON:"APP_BUTTON_UPGRADE",COPY_APP:"COPY_APP",DOUBLECLICK_SETTINGS:"DOUBLECLICK_SETTINGS",GFPP_MANAGE:"GFPP_MANAGE",GFPP_SETTINGS:"GFPP_SETTINGS",GFPP_UPGRADE:"GFPP_UPGRADE",OPENAPP_SETTINGS:"OPENAPP_SETTINGS",TPA_DASHBOARD:"TPA_DASHBOARD"}},APP:{TYPE:{SECTION:"tpaSection",WIDGET:"tpaWidget",APP_PART:"wixappsPart",PLATFORM_ONLY:"platformOnly"}},HISTORY:{BEFORE_ADDING_APP:"before adding app",COMPONENT:"adding a tpa to stage",WIDGET:"adding a tpa widget to stage",SECTION:"adding a tpa section to stage",MULTI_SECTION:"adding multi section",SUB_SECTION:"adding sub section",PLATFORM:"adding a platform app to stage"}}}),define("tpa/superApps/superAppsConstants",[],function(){"use strict";var e="61f33d50-3002-4882-ae86-d319c1a249ab",t="1380b703-ce81-ff05-f115-39571d94dfcd",a="13bb5d67-1add-e770-a71f-001277e17c57",i={"61f33d50-3002-4882-ae86-d319c1a249ab":"blog_button","1380b703-ce81-ff05-f115-39571d94dfcd":"ecom_button"};return{getMarketOpenOriginForBi:function(e){return i[e]},ECOM:{APP_DEF_ID:t,PRODUCT_PAGE:"13a94f09-2766-3c40-4a32-8edb5acdd8bc",GRID_GALLERY:"13afb094-84f9-739f-44fd-78d036adb028",SLIDER_GALLERY:"139a41fd-0b1d-975f-6f67-e8cbdf8ccc82",PRODUCT_GALLERY_PAGE:t,SHOPPING_CART:"1380bbab-4da3-36b0-efb4-2e0599971d14",TANK_YOU_PAGE:"1380bbb4-8df0-fd38-a235-88821cf3f8a4",SHOPPING_CART_WIDGET:"1380bbc4-1485-9d44-4616-92e36b1ead6b",PRODUCT_WIDGET:"13ec3e79-e668-cc0c-2d48-e99d53a213dd"},WIXMUSIC:{APP_DEF_ID:a,WIDGET:"13bb5dc2-a098-5a74-502b-6bac84e80b23"},WIX_VIDEO:{APP_DEF_ID:"14409595-f076-4753-8303-9a86f9f71469",WIDGET:"144097ea-fea0-498e-ade7-e6de40127106"},BLOG_APP_DEF_ID:e,MULTI_LINGUAL_APP_DEF_ID:"14d84998-ae09-1abf-c6fc-3f3cace5bf19",NEW_BLOG_APP_DEF_ID:"14bcded7-0066-7c35-14d7-466cb3f09103",ECOM_APP_DEF_ID:t,WIXMUSIC_APP_DEF_ID:a,HOTELS:{APP_DEF_ID:"135aad86-9125-6074-7346-29dc6a3c9bcf",SEARCH_BAR:"135aae78-42c9-63b5-d09a-77233cebc1c4"},MEMBER_PROFILE_CARD:{APP_DEF_ID:"14ce28f7-7eb0-3745-22f8-074b0e2401fb",WIDGET:"14cefc05-d163-dbb7-e4ec-cd4f2c4d6ddd"},MEMBERS_WIDGET:{APP_DEF_ID:"1518f596-5744-ae33-0524-4fe42c3ee64e",WIDGET:"1518f81b-32a7-90d4-9927-4285b3291d1f"},GET_SUBSCRIBERS_APP_DEF_ID:"1375baa8-8eca-5659-ce9d-455b2009250d",WIX_BOOKINGS_APP_DEF_ID:"13d21c63-b5ec-5912-8397-c3a5ddb27a97",WIX_PHOTOALBUMS_APP_DEF_ID:"13ff8629-c1fc-e289-e81f-bc8c8968e9d6",SHOUTOUT_APP_DEF_ID:"135c3d92-0fea-1f9d-2ba5-2a1dfb04297e",PRO_GALLERY_APP_DEF_ID:"14271d6f-ba62-d045-549b-ab972ae1f70e",WIX_CHAT:{APP_DEF_ID:"14517e1a-3ff0-af98-408e-2bd6953c36a2",WIDGET:"14517f3f-ffc5-eced-f592-980aaa0bbb5c"},WIX_SOUNDCLOUD:{APP_DEF_ID:"14a85b13-d7da-ee8e-7290-3b93340f63fa",WIDGET:"14a85b28-2374-72cf-db64-e0c11046aa60"},SITE_SEARCH:{APP_DEF_ID:"1484cb44-49cd-5b39-9681-75188ab429de"}}}),define("tpa/bi/events.json",[],function(){return{APP_INTENT:{evid:12,src:75,endpoint:"app-sdk",fields:{type:"string",instance_id:"guid",initiator:"string",app_id:"guid"}},APP_ENGAGEMENT:{evid:13,src:75,endpoint:"app-sdk",fields:{instance_id:"guid",app_id:"guid",premium_intent:"string"}},TPA_ADDED:{evid:165,src:38,endpoint:"editor",fields:{is_permissions_app:"number",is_first:"boolean",app_id:"string",app_site_id:"string",instance_id:"string",category:"string",origin:"string",section:"string",search_term:"string",search_result_position:"number",referral_info_category:"string",referral_info:"string",adding_method:"string",template_guid:"string",modal_tab_name:"string",page_id:"string",widget_id:"string"}},TPA_ADD_CLICK:{evid:167,src:38,endpoint:"editor",fields:{adding_method:"string",section:"string",category:"string",origin:"string",app_id:"string",is_first:"boolean",is_permissions_app:"boolean"}},COMPONENT_ADDED_FROM_MARKET:{evid:168,src:38,endpoint:"editor",fields:{referral_info_category:"string",referral_info:"string",app_id:"guid",app_site_id:"guid",instance_id:"guid",search_result_position:"number",search_term:"string",modal_tab_name:"string",adding_method:"string",category:"string",origin:"string",component_id:"string",is_first:"boolean",component_type:"string"}},CLOSE_MARKET_CLICK:{evid:171,src:38,endpoint:"editor",fields:{open_origin:"string",closing_method:"string"}},MARKET_CLOSED:{evid:172,src:38,endpoint:"editor",fields:{open_origin:"string",seconds_opened:"number"}},OPEN_MODAL_CLICK:{evid:173,src:38,endpoint:"editor",fields:{app_id:"string",origin:"string",category:"string",section:"string",component_type:"string"}},MARKET_HELP_CLICK:{evid:174,src:38,endpoint:"editor"},TPA_HELP_CLICK:{evid:175,src:38,endpoint:"editor",fields:{widget_id:"string",help_status:"string",app_id:"string",origin:"string"}},EXTENSION_ADDED:{evid:177,src:38,endpoint:"editor",fields:{page_id:"string",app_site_id:"string",instance_id:"string",widget_id:"string",app_id:"string",preset_id:"string"}},EXTENSION_REMOVED:{evid:178,src:38,endpoint:"editor",fields:{page_id:"string",widget_id:"string",comp_id:"string",instance_id:"string",app_id:"string"}},TPA_OPEN_SETTINGS:{evid:179,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string"}},CUT_COMPONENT_OR_TPA:{evid:180,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},COPY_COMPONENT_OR_TPA:{evid:181,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},PASTE_COMPONENT_OR_TPA:{evid:182,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},DUPLICATE_COMPONENT_OR_TPA:{evid:183,src:38,endpoint:"editor",fields:{component_type:"string",comp_id:"string",instance_id:"string",app_id:"string"}},CLICK_UPGRADE_APP:{evid:184,src:38,endpoint:"editor",fields:{pp_origin:"string",app_site_id:"string",app_id:"string"}},PP_OPENED:{evid:185,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",pp_origin:"string",pp_type:"string"}},CLICK_UPGRADE_IN_PP:{evid:186,src:38,endpoint:"editor",fields:{pp_type:"string",pp_origin:"string",instance_id:"string",app_id:"string"}},CLICK_CYCLE:{evid:187,src:38,endpoint:"editor",fields:{cycle_id:"number",cycle_name:"string",pp_type:"string",pp_origin:"string",instance_id:"string",app_id:"string"}},EXPAND_OFFERING:{evid:188,src:38,endpoint:"editor",fields:{cycle_id:"number",cycle_name:"string",pp_type:"string",pp_origin:"string",instance_id:"string",app_id:"string"}},PERMISSION_MODAL_CLOSED:{evid:189,src:38,endpoint:"editor",fields:{closing_method:"string",app_id:"string"}},TPA_ERROR:{evid:190,src:38,endpoint:"editor",fields:{error_desc:"string",error_type:"string",app_id:"string"}},TPA_CLOSE_SETTINGS:{evid:191,src:38,endpoint:"editor",fields:{seconds_opened:"number",app_id:"string",app_site_id:"string",instance_id:"string"}},TPA_MESSAGE_LOADED:{evid:277,src:38,endpoint:"editor",fields:{app_id:"string",description:"string",type:"string"}},OPEN_DASHBOARD_APP_CLICK:{evid:278,src:38,endpoint:"editor",fields:{app_id:"string",app_site_id:"string",instance_id:"string",origin:"string"}},APP_MARKET_ICON_EXPANDED:{evid:675,src:38,endpoint:"editor"},PLATFORM_APP_TRY_TO_INSTALL:{evid:755,src:38,endpoint:"editor",fields:{app_name:"string",app_id:"string"}},PLATFORM_APP_ADDED:{evid:746,src:38,endpoint:"editor",fields:{app_name:"string",app_id:"string"}},PLATFORM_APP_FAILED:{evid:772,src:38,endpoint:"editor",fields:{app_name:"string",error_desc:"string",app_id:"string"}}}}),define("tpa/bi/errors.json",[],function(){return{ECOM_MISSING_PAGES:{errorName:"ECOM_MISSING_PAGES",errorCode:300,severity:"fatal"},APP_IS_NOT_RESPONSIVE:{errorName:"APP_IS_NOT_RESPONSIVE",errorCode:302,desc:"monitoring apps that are down",severity:"error",params:{p1:"endpoint",p2:"app_id"}}}}),define("tpa/bi/bi",["lodash","tpa/bi/events.json","tpa/bi/errors.json"],function(t,a,e){"use strict";return{events:a,errors:e,registerEvents:function(e){e.dsActions.bi.register("tpa","event",t.cloneDeep(a))}}}),define("tpa/utils/tpaUtils",["lodash","util","tpa/constants/constants","tpa/superApps/superAppsConstants","tpa/bi/bi"],function(c,e,o,t,g){"use strict";var r=[g.events.APP_INTENT];function p(e,t,a,i){return{app_id:t,instance_id:(e.dsRead.tpa.app.getDataByAppDefId(t)||{}).instanceId,initiator:a,type:i}}return{isInDevMode:function(){return!c.isEmpty(e.url.getParameterByName("appDefinitionId"))},getAppInMyAccountUrl:function(e,t){var a;return["//",(a=window.location.hostname.match(/editor\.(.*)/))?"www."+a[1]:"www.wix.com","/my-account/sites/",e,"/app/",t,"?referralInfo=editor"].join("")},getOpenedPanel:function(e,t){var a=e.getOpenPanels();return c.find(a,{name:t})},isMultiSectionInstanceEnabled:function(e,t){if(!t)return!1;var a=e.widgets&&e.widgets[t];return c.get(a,"appPage.multiInstanceEnabled")},isBlog:function(e){return e===t.BLOG_APP_DEF_ID},sdkVersionIsAtLeast:function(e,t){if(c.isUndefined(e)||c.isUndefined(t))return!1;for(var a=c.map(e.split("."),function(e){return parseInt(e,10)}),i=c.map(t.split("."),function(e){return parseInt(e,10)});a.length&&i.length;){var n=a.shift(),s=i.shift();if(s<n)return!0;if(n<s)return!1}return a.length>=i.length},getWindow:function(){return window},selectComponentAndNavigateIfNeeded:function(e,t,a){var i=e.selection.getSelectedComponentData(),n=c.get(i,"applicationId");if(n&&n.toString()===t.applicationId.toString())a&&a();else{var s=e.dsRead.tpa.app.getFirstAppCompPageId(t.appDefinitionId),o=e.dsRead.pages.getFocusedPageId(),r=e.components.get.byId(s.compId,s.pageId);s.pageId!==o&&"masterPage"!==s.pageId?e.pages.navigateTo(s.pageId,function(){e.selection.selectComponentByCompRef(r),a&&a()}):(e.selection.selectComponentByCompRef(r),a&&a())}},bi:{reportBIOnAppIntent:function(e,t,a,i,n){if(c.includes(r,t)){var s=p.bind(null,e,a,i,n),o=function(e,t){var a=e.dsRead.tpa.app.getDataByAppDefId(t)||{},i=e.dsRead.generalInfo.isFirstSave();return!a.notProvisioned&&a.instanceId&&!0!==c.get(a,"permissions.revoked")&&!i}.bind(null,e,a);e.bi.reportBI(t,[s],o)}},getAppIntentBiParamsToAddToUrl:function(e,t,a){var i=e.dsRead.tpa.app.getDataByAppDefId(t);if(c.get(i,"isWixTPA")){var n={msid:e.dsRead.generalInfo.getMetaSiteId(),src:g.events.APP_INTENT.src,evid:g.events.APP_INTENT.evid},s=p(e,t,o.BI.initiator.EDITOR,a);return c.merge(n,s)}return null},reportAddComponentBIEvent:function(e,t,a,i){i=i||{},e.bi.event(g.events.COMPONENT_ADDED_FROM_MARKET,{app_id:i.app_id,instance_id:t,component_type:a||"wix_component",origin:"ed_market",category:i.category,search_term:i.search_term,item_position:i.item_position,referral_info_category:i.referral_info_category,referral_info:i.referral_info,adding_method:i.adding_method,modal_tab_name:i.modal_tab_name})},reportTpaAddedBiEvent:function(e,t,a,i,n,s,o,r){var p=e.dsRead.generalInfo.isFirstSave()?e.dsRead.generalInfo.getMetaSiteId():"",d=e.dsRead.tpa.app.getDataByAppDefId(t);r=r||{};var l={is_permissions_app:o?1:0,is_first:s?1:0,app_id:t,widget_id:a,app_site_id:c.get(d,"instanceId"),instance_id:n,origin:r.origin||"ed_market",adding_method:r.adding_method,category:r.category,section:r.section,search_term:r.search_term,item_position:r.item_position,referral_info_category:r.referral_info_category,referral_info:r.referral_info,template_guid:p,modal_tab_name:r.modal_tab_name,page_id:i};e.bi.event(g.events.TPA_ADDED,l)}}}}),define("tpa/utils/mediaDialogHandlerUtils",["lodash"],function(n){"use strict";var i={photos:"IMAGE",secure_picture:"IMAGE_PRO",backgrounds:"BG_IMAGE",audio:"MUSIC",documents:"DOCUMENT",secure_music:"MUSIC_PRO",swf:"FLASH",video:"VIDEO",shape:"SHAPE",music:"MUSIC",clipart:"IMAGE",bg_video:"BG_VIDEO",icon_document:"ICON_DOCUMENT",bg_social:"ICON_SOCIAL",bg_favicon:"ICON_FAVICON"};return{convertMediaManagerResult:function(e){var t={};if(t.fileName=e.title||"","secure_music"===e.mediaType){var a=e.fileOutput&&e.fileOutput.audio,i=n.find(a,{tag:"preview-short"});t.shortPreviewFileName=i&&i.url||"",t.previewFileName=e.previewFileName||"",t.fileUrl=e.fileUrl||""}else t.relativeUri=e.fileName||"",t.width=Number(e.width)||0,t.height=Number(e.height)||0;return t},convertMediaManagerResultForSuperApps:function(e){var t=n.cloneDeep(e);return t.relativeUri=e.uri||"",t},convertMediaType:function(e,t){var a=i[e];return t.categories[a]}}}),define("tpa/handlers/editorRefreshTPADataAfterUpgrade",["stateManagement"],function(a){"use strict";return{trackAppUpgrade:function(e,t){e.store.dispatch(a.tpa.actions.addAppToTrackForUpgrade(t))}}}),define("tpa/services/tpaAlertsService",["lodash","tpa/bi/bi"],function(e,i){"use strict";return{openPlatformFailedAlert:function(e,t){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"Notification_Box_App_Installation_Error_Title",description:"Notification_Box_App_Installation_Error_Text",steps:["Notification_Box_App_Installation_Error_Step1","Notification_Box_App_Installation_Error_Step2"],helpMessage:"",helpLinkMessage:"",helpLink:"",translateArgs:{description:{appName:t}}},!1)},openProvisionFailedAlert:function(e,t,a){e("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:i.events.TPA_MESSAGE_LOADED,biParams:{app_id:t,description:"provision failed",type:"provision_failed"}},!a)},openSaveFailedAlertForAppMarket:function(e){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:i.events.TPA_MESSAGE_LOADED,biParams:{description:"save for app market failed",type:"save_for_app_market_failed"}},!0)},openSaveFailedAlertForUpgrade:function(e,t){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_upgrade_before_save_error_title",description:"tpa_messages_upgrade_before_save_error_description",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_upgrade_before_save_error_step_3"],helpMessage:"tpa_messages_upgrade_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:i.events.TPA_MESSAGE_LOADED,biParams:{app_id:t,description:"Error on upgrade TPA from template site",type:"upgrade_save_error"}},!0)},openSaveFailedAlertForDashboardUrl:function(e,t){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:i.events.TPA_MESSAGE_LOADED,biParams:{app_id:t,description:"Error on open dashboard from template site",type:"dashboard_save_error"}},!0)},openSaveFailedAlertForTemplateDashboardUrl:function(e,t){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"tpa_messages_dashboard_before_save_error_title",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["tpa_messages_upgrade_before_save_error_step_1","tpa_messages_upgrade_before_save_error_step_2","tpa_messages_dashboard_before_save_error_step_3"],helpMessage:"tpa_messages_dashboard_before_save_error_support",helpLinkMessage:"tpa_messages_upgrade_before_save_error_support_link",helpLink:"",biEvent:i.events.TPA_MESSAGE_LOADED,biParams:{app_id:t,description:"Error on open dashboard from template site",type:"dashboard_save_error"}},!0)},openSaveFailedAlertForPackageBuying:function(e){e.panelManager.openPanel("savePublish.panels.common.failPanel",{titleKey:"PUBLISH_ERROR_TITLE_LABEL",description:"SAVE_PUBLISH_ERROR_BODY_DESCRIPTION",steps:["SAVE_PUBLISH_ERROR_OPTION_1","SAVE_PUBLISH_ERROR_OPTION_2"],helpMessage:"SAVE_ERROR_LEARN_MORE_LABEL",helpLinkMessage:"SAVE_PUBLISH_ERROR_LEARN_MORE_LINK",helpLink:""})}}}),define("tpa/packagePicker/packagePickerUtils",["lodash","tpa/handlers/editorRefreshTPADataAfterUpgrade","tpa/bi/bi","tpa/services/tpaAlertsService","platform","experiment"],function(f,P,_,I,r,p){"use strict";var d={BENEFITS:"tpaPanels.packagePicker.benefitsModal",CYCLES:"tpaPanels.packagePicker.cyclesModal",EXTERNAL:"tpaPanels.packagePicker.externalBenefitsModal",PACKAGES:"tpaPanels.packagePicker.packagePickerModal"};return{upgradeToPremiumAndClosePickerModal:function(e,t,a,i,n,s,o,r){var p,d,l,c,g,m,u=!e.dsRead.generalInfo.isFirstSave(),h=e.dsRead.tpa.app.getDataByAppDefId(t);if(u){var y=(p=h,d=a,l=i,c=n,g=r,m="tpa_"+s+"_ed_14",e.dsRead.tpa.billing.getAppUpgradeUrl(p.applicationId,d,l,{referralAdditionalInfo:m,pp_type:c,premiumIntent:g}));window.open(y),P.trackAppUpgrade(e,h.applicationId)}else I.openSaveFailedAlertForPackageBuying(e);f.isFunction(o)&&o(),e.bi.event(_.events.CLICK_UPGRADE_IN_PP,{pp_type:n,pp_origin:s,app_site_id:h.instanceId,app_id:h.appDefinitionId})},pickPickerForm:function(e,t,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=f.assign(f.pick(t,["name","appIcon","colorSvgIcon","packages","features","price","upgradeBenefits","upgradeTitle","upgradedToYearly","appDefinitionId"]),f.pick(a,"vendorProductId"));if(n.packages=f.reject(t.packages,{id:"oneTime"}),f.get(a,"openPremiumPage")){n.panelName=d.EXTERNAL;var s={appDefId:a.appDefinitionId,referralAdditionalInfo:i.origin};return i.premiumIntent&&(s.premiumIntent=i.premiumIntent),n.upgradeUrl=e.dsRead.tpa.billing.getSiteUpgradeUrl(s),n}var o=p.isOpen("specs.market.AscendUpgrade")&&f.get(t,"appFields.premiumBundle.parentAppId");return(p.isOpen("se_openNewPackagePickerInEditor")||o)&&f.get(t,"appFields.featuresForNewPackagePicker")?(n.panelName=d.EXTERNAL,n.externalPackages=!0,n.upgradeUrl=r.upgradeUtils.getPremiumUrl(e,a.appDefinitionId)):"benefits"===t.billingPanelType?n.panelName=d.BENEFITS:"cycles"===t.billingPanelType?n.panelName=d.CYCLES:n.panelName=d.PACKAGES,n},TYPE:d,BI_TYPE:{BENEFITS:"offering",CYCLES:"cycle",PACKAGES:"package",EXTERNAL:"external"}}}),define("tpa/packagePicker/packagePicker",["lodash","tpa/packagePicker/packagePickerUtils","tpa/handlers/editorRefreshTPADataAfterUpgrade","tpa/utils/tpaUtils","tpa/services/tpaAlertsService"],function(l,c,o,r,p){"use strict";var d=function(t,a,i,e,n){var s=l.partial(p.openSaveFailedAlertForUpgrade,t,i);t.saveManager.saveInBackground(function(){t.dsRead.tpa.appMarket.getDataAsync(i).then(function(e){a.isAsyncFlow=!0,g(t,i,e,n,a)})},s)},g=function(t,e,a,i,n){s(a)?t.dsRead.tpa.appMarket.getDataAsync(e).then(function(e){m(t,e,i,n)}):m(t,a,i,n)},s=function(e){return!l.has(e,"price")},m=function(e,t,a,i){var n=c.pickPickerForm(e,t,a,i),s=n.upgradeUrl;n.panelName!==c.TYPE.EXTERNAL&&n.panelName!==c.TYPE.EXTERNAL_PACKAGES||i.isAsyncFlow?e.panelManager.openPanel(n.panelName,l.assign(n,i),!0):(window.open(s),o.trackAppUpgrade(e,a.applicationId))},n=function(i,n,s){i.dsRead.tpa.appMarket.getDataAsync(n).then(function(e){var t=i.documentServices.tpa.app.getDataByAppDefId(n),a=c.pickPickerForm(i,e,t);s(a.upgradeUrl)})},u=function(e,t){return l.get(t,"notProvisioned")};return{startUpgradeFlow:function(e,t,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=a||!1;i=l.assign({isAsyncFlow:n},i);var s=e.dsRead.tpa.appMarket.getData(t),o=e.dsRead.tpa.app.getDataByAppDefId(t);!1!==i.shouldNavigate&&r.selectComponentAndNavigateIfNeeded(e,o),u(e,o)?d(e,i,t,s,o):g(e,t,s,o,i)},isFullyUpgraded:function(e,t){var a,i,n,s=e.dsRead.tpa.appMarket.getData(t.appDefinitionId);if(s){var o=c.pickPickerForm(e,s,t),r=!!t.vendorProductId,p=!!s.upgradedToYearly;switch(c.TYPE.EXTERNAL&&o.externalPackages&&(o.panelName=c.TYPE.PACKAGES),o.panelName){case c.TYPE.BENEFITS:return r;case c.TYPE.CYCLES:return r&&p;case c.TYPE.PACKAGES:var d=r&&(i=o,n=t,l.last(i.packages).id===n.vendorProductId);return d=d&&(p||(a=o,!l.last(a.packages).yearly.price));case c.TYPE.EXTERNAL:return r;default:return!1}}return!0},getWixUpgradeUrl:function(e,t,a){var i=e.documentServices.tpa.app.getDataByAppDefId(t);u(e,i)?e.saveManager.saveInBackground(function(){n(e,t,a)}):n(e,t,a)},isSaveSiteNeeded:u,upgradeToPremiumAndClosePickerModal:c.upgradeToPremiumAndClosePickerModal,BI_TYPE:c.BI_TYPE}}),define("tpa/services/dashboardAppService",["lodash","util","tpa/utils/tpaUtils","tpa/superApps/superAppsConstants","tpa/services/tpaAlertsService"],function(g,d,m,l,u){"use strict";function h(e,t,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{},n=void 0,s=t.applicationId,o=g.get(d,"serviceTopology.businessManagerUrl","")+"/external";if(i.isTranslationDashboard){var r=e.dsRead.language.current.get();n=o+"?appDefId="+l.MULTI_LINGUAL_APP_DEF_ID+"&origAppDefId="+t.appDefinitionId+"&widgetId="+i.widgetId+"&langCode="+r,s=g.get(e.dsRead.tpa.app.getDataByAppDefId(l.MULTI_LINGUAL_APP_DEF_ID),"applicationId")}else n=o+"?appDefId="+t.appDefinitionId;var p={url:n,deviceType:"desktop",applicationId:s,origCompId:e.selection.getSelectedComponentId(),origin:i.origin,hash:i.state,bi:i.bi};return e.dsRead.tpa.app.url.getSettingsModalUrl(p,a)}return{getDashboardAppUrlAsync:function(e,t,a){var i,n,s,o,r=(n=(i=e).selection.getSelectedComponentData(),i.dsRead.tpa.app.getData(n.applicationId)),p=(o=(s=e).selection.getSelectedComponentData(),s.dsRead.tpa.app.isHybrid(o.applicationId)),d=!e.dsRead.generalInfo.isFirstSave(),l=e.dsRead.tpa.app.isAppProvisionedOnServer(r.applicationId),c=function(){!0===g.get(t,"editorVersion")?a(h(e,r)):a(m.getAppInMyAccountUrl(e.dsRead.generalInfo.getMetaSiteId(),r.appDefinitionId))};p&&d&&l?c():d&&l?a(null):e.saveManager.saveInBackground(c,function(){u.openSaveFailedAlertForTemplateDashboardUrl(e,r.appDefinitionId),a(null)})},getDashboardUrl:h,getEditorGfppData:function(e){var t=e.selection.getSelectedComponentData();if(t){var a=e.dsRead.tpa.app.getData(t.applicationId),i=e.dsRead.tpa.appMarket.getData(a.appDefinitionId);if(i&&i.editorGfpp)return i.editorGfpp}return{upgradeText:d.translate("tpa_package_picker_upgrade_title"),openInDashboardText:d.translate("tpa_open_dashboard")}}}}),define("tpa/services/tpaStyleService",["lodash"],function(n){"use strict";var s=null,o={},r=function(e,t,a,i){if(s===t)return o[t]||(o[t]=[]),void o[t].push({data:a,callback:i});e.dsActions.tpa.style.setStyleParam(t,a,function(e){var t,a;t=i,a=e,n.isArray(t)?n.forEach(t,function(e){e&&e(a)}):t&&t(a)}),e.dsActions.waitForChangesApplied(function(e){if(o[s]){var t=[],a=[],i=s;n.forEach(o[i],function(e){t.push(e.data),a.push(e.callback)}),delete o[i],s=null,r(e,i,t,a)}else s=null}.bind(null,e)),s=t};return{setStyleParam:r}}),define("tpa/appMarket/utils/appMarketUtils",["lodash","util","helpIds","tpa/bi/bi","coreUtilsLib","stateManagement"],function(s,n,t,a,e,i){"use strict";var o=i.editorPlugins.panels.actions,r=["openAppDefId","appDefinitionId"],p=n.serviceTopology.htmlEditorRootUrl?n.serviceTopology.htmlEditorRootUrl.replace(/html\/editor\/?/,""):"http://editor.wix.com/",d=function(){var e,t={};return s.forEach(r,function(e){t[e]=n.url.getParameterByName(e)}),t.tests=(e=(e=n.url.parseUrlParams(window.location.search))&&e.amexperiment)||"",t},l=function(e){return"number"==typeof e&&(e=e.toString()),e};return{openAppMarketModal:function(e,t,a){var i="tpa.compModals."+t;a.width=l(a.width),a.height=l(a.height);var n=s.pick(a,["title","width","height","closeModalBiEvent","closeModalBiParams","id","shouldHideHeader","onClose"]);n.panelName=i,n.iframeUrl=a.url,n.shouldTranslate=a.shouldTranslateTitle,e(i,n,!0)},openAppMarketModalWithAppDefinitionId:function(e,t,a){var i="tpa.compModals."+t;e(i,{panelName:i,iframeUrl:a.url,appDefinitionId:a.appDefinitionId,onClose:a.onClose},!0)},closeAppMarketModal:function(e,t){e("tpa.compModals."+t)},closeAppMarketModalById:function(e,t){var a,i,n=(a=t,i=e.panelManager.getOpenPanels(),s.find(i,{props:{id:a}}));n&&(e.store.dispatch(o.closePanelByPropKeyAction("id",n.props.id)),n.props.closeModalBiEvent&&e.bi.event(n.props.closeModalBiEvent,n.props.closeModalBiParams))},closeAppMarket:function(e){e("tpa.compPanels.appMarketPanel")},openAppMarketHelp:function(e){e.panelManager.openHelpCenter(t.EXTERNAL.APP_MARKET,null,{learn_more:!1,origin:"panel",panel_name:"tpa.compPanels.appMarketPanel"}),e.bi.event(a.events.MARKET_HELP_CLICK)},shouldOpenAppMarketTab:function(){return 0===n.url.getParameterByName("openpanel").indexOf("market")},getAppMarketUrlParams:d,getAppMarketOpenPanelUrlParams:function(){var e=n.url.getParameterByName("openpanel"),t={};if(!s.isEmpty(e)){var a=e.split(":"),i=d();switch(a.length){case 1:s.forEach(r,function(e){t[e]=i[e]});break;case 2:t.query=a[1];break;case 3:"Cat"===a[1]?t.categorySlug=a[2]:"appDefId"===a[1]&&(t.openAppDefId=a[2]);break;default:t.query=""}}return t},getAppMarketPersistedUserPrefs:function(e){return i.editorPlugins.userPreferences.selectors.getSiteUserPreferences("app-market")(e.store.getState())||{}},setAppMarketPersistedUserPrefs:function(e,t){e.store.dispatch(i.editorPlugins.userPreferences.actions.setSiteUserPreferences("app-market",t))},getAppMarketSessionUserPrefs:function(e){return i.editorPlugins.userPreferences.selectors.getSessionUserPreferences("app-market")(e.store.getState())||{}},setAppMarketSessionUserPrefs:function(e,t){e.store.dispatch(i.editorPlugins.userPreferences.actions.setSessionUserPreferences("app-market",t))},origin:function(){return e.urlUtils.origin()},getAppMarketTargetOrigin:function(){return p}}}),define("tpa/services/mediaDialogService",["lodash","tpa/utils/mediaDialogHandlerUtils"],function(d,l){"use strict";var c={IMAGE:"gallery_image",VIDEO:"gallery_video"};return{openMediaDialogByPayloadParsingMethod:function(a,e,i,n){var t=a.mediaServices.mediaManager,s=l.convertMediaType(e.data.mediaType,t),o=e.data.callOnCancel,r={multiSelect:e.data.multiSelection,callback:function(e){var t=void 0;d.isEmpty(e)?o&&(t={wasCancelled:!0}):t=i(e),t&&n(t),a.mediaServices.setFocusToEditor()}},p=d.get(e,["data","options","imageAnalysis"]);p&&(r.imageAnalysis=p),t.open(s,c[s],r)}}}),define("tpa/services/tpaAddRemoveDSService",["lodash","util","coreBi","constants","tpa/constants/constants","tpa/services/tpaAlertsService"],function(l,c,t,g,m,u){"use strict";var i=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return _inherits(t,Error),t}(),h=[],r={"14724f35-6794-cd1a-0244-25fd138f9242":{name:"wix_forum",children:{"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9":"members_area","14cffd81-5215-0a7f-22f8-074b0e2401fb":"member_account_info","14ce28f7-7eb0-3745-22f8-074b0e2401fb":"profile_card","14dbef06-cc42-5583-32a7-3abd44da4908":"about","14ebe801-d78a-daa9-c9e5-0286a891e46f":"followers","14dbefd2-01b4-fb61-32a7-3abd44da4908":"all_members","14f25924-5664-31b2-9568-f9c5ed98c9b1":"notifications","14f25dc5-6af3-5420-9568-f9c5ed98c9b1":"settings"}},"1380b703-ce81-ff05-f115-39571d94dfcd":{name:"wix_stores",children:{"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9":"members_area","14cffd81-5215-0a7f-22f8-074b0e2401fb":"member_account_info","14ce28f7-7eb0-3745-22f8-074b0e2401fb":"profile_card","1505b775-e885-eb1b-b665-1e485d9bf90e":"my_addresses","4aebd0cb-fbdb-4da7-b5d1-d05660a30172":"my_wallet"}},"13d21c63-b5ec-5912-8397-c3a5ddb27a97":{name:"wix_bookings",children:{"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9":"members_area","14cffd81-5215-0a7f-22f8-074b0e2401fb":"member_account_info","14ce28f7-7eb0-3745-22f8-074b0e2401fb":"profile_card"}},"14cc59bc-f0b7-15b8-e1c7-89ce41d0e0c9":{name:"members_area",children:{"14cffd81-5215-0a7f-22f8-074b0e2401fb":"member_account_info","14ce28f7-7eb0-3745-22f8-074b0e2401fb":"profile_card"}}};function n(e){var t=0===h.length,a=t?e:h[0],i=t?null:e,n=r[a]||{},s=n.name,o=n.children;return s&&(o[i]||t)?["install",s,o[i]].filter(Boolean).join("_"):null}function p(e){var t;(t=n(e))&&c.fedopsLogger.interactionStarted(t),h.push(e)}function d(e,t){h=l.without(h,e),function(e,t){if(l.get(t,"success")){var a=n(e);a&&c.fedopsLogger.interactionEnded(a)}else c.ravenUtils.captureError(new i("Installation Failed: "+e),{tags:{platformEditor:!0},extra:{appDefId:e,appDefCurrentlyInstalling:h,data:t}})}(e,t)}var s=function(t,a,e){if(!l.includes(h,a)){p(a);var i=e.callback||l.noop,n=!!e.callback;e.callback=function(e){d(a,e),e.comp&&t.components.is.exist(e.comp)&&t.selection.selectComponentByCompRef(e.comp),f(t,a,m.HISTORY.WIDGET,l.partial(i,e),null,null,e)},e.onError=n?l.partial(e.callback,{onError:"provision for widget for appDefId "+a+" failed"}):l.partial(y,t,a);var s=t.dsActions.tpa.widget.add(a,e);return P(t),s}},y=function(e,t){d(t,{success:!1}),u.openProvisionFailedAlert(e.panelManager.openPanel,t,!0)},f=function(t,a,e,i,n,s,o,r){var p,d;l.isEmpty(h)&&!c.url.noAppSave()&&l.get(o,"success")&&!r?(t.history.add(e,function(e,t){if(e!==t)return{actionType:g.DS_ACTIONS.ADD_PAGE,currentPage:e,nextPage:t}}(n,s),(d=(p=t).dsActions.history.getUndoLastSnapshotId(),p.dsActions.history.getUndoLastSnapshotLabel()===m.HISTORY.BEFORE_ADDING_APP?d:void 0)),t.saveManager.saveInBackground(i,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u.openProvisionFailedAlert(t.panelManager.openPanel,a,!0),e.message+=" - CRITICAL: save failed on add complete with no uninstall",c.ravenUtils.captureError(e),i(e)})):i(o)},P=function(e){!c.keyboardShortcuts.isPressed.command()?e.panelManager.closePanelByName("addPanelInfra.addPanel"):e.bi.event(t.events.shortcuts.keep_add_panel_open_add_comp)},_=function(t,a,e){t.dsRead.generalInfo.isFirstSave()&&!c.url.noAppSave()?t.saveManager.saveInBackground(e,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u.openProvisionFailedAlert(t.panelManager.openPanel,a,!0),e.message+=" - CRITICAL: save failed on first save with no uninstall",c.ravenUtils.captureError(e)}):e()};return{addWidget:function(e,t,a){_(e,t,l.partial(s,e,t,a))},addWidgetSync:s,preAddComponent:function(n,s,e,t){_(n,s,l.partial(function(){if(!l.includes(h,s)){p(s);var a=n.dsRead.pages.getFocusedPageId();(e=e||{}).onError=l.partial(y,n,s);var i=e.callback||l.noop;e.callback=function(e){d(s,e),e.comp&&n.components.is.exist(e.comp)&&n.selection.selectComponentByCompRef(e.comp);var t=n.dsRead.pages.getFocusedPageId();f(n,s,m.HISTORY.COMPONENT,l.partial(i,e),a,t,e)},P(n)}t()},n,s,e))},addSection:function(n,s,o){_(n,s,function(){if(l.includes(h,s))l.get(o,"callback")&&o.callback({page:{id:n.dsRead.pages.getFocusedPageId()}});else{p(s);var t=n.dsRead.pages.getFocusedPageId(),a=(o=o||{}).callback||l.noop,e=!!o.callback;o.callback=function(e){d(s,e),f(n,s,m.HISTORY.SECTION,l.partial(a,e),t,l.get(e,"page.id"),e)};var i=e?l.partial(o.callback,{onError:"provision for section for appDefId "+s+" failed"}):l.partial(y,n,s);n.dsActions.tpa.section.add(s,o,i),P(n)}})},addSubSection:function(a,i,e){_(a,i,function(){var t=e.callback||l.noop;e.callback=function(e){f(a,i,m.HISTORY.SUB_SECTION,l.partial(t,e),null,null,e)},a.dsActions.tpa.section.addSubSection(i,e),P(a)})},addMultiSection:function(a,i,e){_(a,i,function(){var t=e.callback||l.noop;e.callback=function(e){f(a,i,m.HISTORY.MULTI_SECTION,l.partial(t,e),null,null,e)},a.dsActions.tpa.section.addMultiSection(i,e),P(a)})},addPlatform:function(n,s,o){_(n,s,function(){if(!l.includes(h,s)){p(s);var i=n.dsRead.pages.getFocusedPageId(),e=function(e){d(s,e);var t=n.dsRead.pages.getFocusedPageId(),a=o.callback||l.noop;f(n,s,m.HISTORY.PLATFORM,l.partial(a,e),i,t,e,o.disableAddCompleteSave)};n.dsActions.platform.provision(s,o).then(e).catch(e),P(n)}})},deleteWidget:function(e,t){e.dsActions.tpa.widget.delete(t),e.panelManager.closePanelByName("tpa.compPanels.tpaSettings")},deleteSection:function(e,t,a){e.dsActions.tpa.section.delete(t),e.bi.reportBI(c.bi.events.COMPONENT_REMOVED,a),e.components.reset()},clearAppsCurrentlyInstalling:function(){h=[]}}}),define("tpa/services/tpaAddComponentService",["lodash","tpa/services/tpaAddRemoveDSService","tpa/bi/bi"],function(p,i,r){"use strict";function o(t,a,i,n){t.dsActions.waitForChangesApplied(function(){var e=t.dsRead.pages.data.get(a.id);n({compId:i,pageRef:a,pageUriSEO:p.get(e,"pageUriSEO"),title:p.get(e,"title")})})}var d=function(e,t,a,i,n,s){!1!==p.get(n,"page.shouldNavigate",null)?e.pages.navigateTo(t.id,function(){o(e,t,a,s),e.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}):o(e,t,a,s)},l=function(e,t,a,i){var n=e.components.getPage(a),s=n&&n.id,o={app_id:t.appDefinitionId,app_site_id:t.instanceId,instance_id:a.id,widget_id:i,page_id:s};e.bi.event(r.events.EXTENSION_ADDED,o)},c=function(e,t,a,i,n){var s={app_id:t.appDefinitionId,app_site_id:t.instanceId,instance_id:i,widget_id:n,page_id:a.id};e.bi.event(r.events.EXTENSION_ADDED,s)};return{addComponent:function(n,e,t,s){t=t||{},s=p.isFunction(s)?s:p.noop;var o=void 0;if(!t.appDefinitionId){var a=n.selection.getSelectedComponentData();o=n.dsRead.tpa.app.getData(a.applicationId),t.appDefinitionId=o.appDefinitionId}t.compId=e,t.callback=function(t){if(t.onError)s(t);else if(o=n.dsRead.tpa.app.getDataByAppDefId(r.appDefinitionId),"WIDGET"===r.componentType){var e=n.dsRead.pages.getFocusedPageId(),a=p.get(r,"widget.wixPageId")||e;a!==e&&n.pages.navigateTo(a,function(){n.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}),n.dsActions.waitForChangesApplied(function(){s&&s({compId:t.comp.id});var e=n.dsRead.tpa.app.getWidgetDataFromTPAWidgetId(r.appDefinitionId,p.get(r,"widget.tpaWidgetId"));l(n,o,t.comp,p.get(e,"widgetId"))})}else if("PAGE"===r.componentType){var i=n.dsRead.tpa.app.getWidgetDataFromTPAPageId(r.appDefinitionId,p.get(r,"page.pageId"));i&&(d(n,t.page,t.sectionId,i,r,s),c(n,o,t.page,t.sectionId,i.widgetId))}};var r=p.clone(t);i.preAddComponent(n,r.appDefinitionId,t,function(){n.dsActions.tpa.comp.add(t)})}}}),define("tpa/services/tpaHelpService",["lodash"],function(p){"use strict";var d={SETTINGS_MODAL:"settings_modal",SETTINGS:"settings",WIDGET:"widget"};return{getHelpId:function(s,t,o,r){return new Promise(function(i,e){var n="";p.isEmpty(t)?e(n):s.dsRead.tpa.appMarket.getDataAsync(t).then(function(e){var t=p.find(e.widgets,{widgetId:o}),a=p.get(t,"settings.helpId","");r===d.SETTINGS_MODAL?n=p.get(e,"dashboard.helpId",a):o&&(n=r===d.SETTINGS?a:s.isMobileEditor()?p.get(t,"mobileHelpId",""):p.get(t,"helpId","")),i(n)},e)})},HELP_END_POINTS:d}}),define("tpa/services/tpaSettingsModalService",["lodash","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaHelpService"],function(u,h,y,f){"use strict";var P=function(e){return"number"==typeof e&&(e=e.toString()+"px"),e};return{settingsOpenModal:function(t,e,a){var i=y.TPA_SETTING_MODAL,n=void 0,s=void 0,o=u.get(e,"data.appDefinitionId");n=o?t.dsRead.tpa.app.getDataByAppDefId(o):(s=t.selection.getSelectedComponentData(),t.dsRead.tpa.app.getData(s.applicationId));var r,p,d,l={url:e.data.url,deviceType:e.deviceType,applicationId:n.applicationId,origCompId:t.selection.getSelectedComponentId(),bi:e.data.bi},c=u.clone(e.data);c.width=P(c.width),c.height=P(c.height),c.onClose=a,r=t,p=i,(d=h.getOpenedPanel(r.panelManager,p))&&r.panelManager.closePanelByName(d.props.panelName),n.isWixTPA?(c.isBareMode&&delete c.title,c.shouldNotCloseOnBlur=c.shouldNotCloseOnBlur||u.get(c,"options.shouldNotCloseOnBlur",!1)):(c.isBareMode=!1,c.shouldNotCloseOnBlur=!1);var g=t.dsRead.tpa.getSettingsModalParams(l,c)||{},m=u.get(s,"widgetId");f.getHelpId(t,n.appDefinitionId,m,f.HELP_END_POINTS.SETTINGS_MODAL).then(function(e){g.appDefinitionId=n.appDefinitionId,g.helpId=e,g.widgetId=m,t.panelManager.openPanel(i,g,!0)})}}}),define("tpa/appMarket/services/appMarketTabService",["lodash","util","tpa/appMarket/utils/appMarketUtils"],function(i,t,n){"use strict";var s="tpa.compPanels.appMarketPanel",a=function(e,t){(e=e||{}).urlParams=e.urlParams||{};var a=n.getAppMarketOpenPanelUrlParams();i.merge(e.urlParams||{},a),t(s,e)};return{openAppMarketTab:a,closeAppMarketTab:function(e){e(s)},openAppMarketTabFromUrlParamIfNeeded:function(e){n.shouldOpenAppMarketTab()&&a({urlParams:{openMarketOrigin:t.url.getParameterByName("referral_info")}},e)}}}),define("tpa/addPanelData/addPanelService",["lodash","addPanelDataConsts"],function(n,t){"use strict";var a={1024:t.CATEGORIES_ID.GALLERY,1025:t.CATEGORIES_ID.VIDEO,1026:t.CATEGORIES_ID.MUSIC,1027:t.CATEGORIES_ID.SOCIAL,1028:t.CATEGORIES_ID.CONTACT,1029:t.CATEGORIES_ID.IMAGE,1030:t.CATEGORIES_ID.OTHER,1031:t.CATEGORIES_ID.BUTTON,1032:t.CATEGORIES_ID.BOX,1034:t.CATEGORIES_ID.MENU,1035:t.CATEGORIES_ID.VECTOR_SHAPE,1036:t.CATEGORIES_ID.TEXT,1037:t.CATEGORIES_ID.LIST,1038:t.CATEGORIES_ID.BLOG,2558:t.CATEGORIES_ID.MEMBERS,2559:t.CATEGORIES_ID.MEMBERS_WELCOME,2568:t.CATEGORIES_ID.NEW_BLOG,2569:t.CATEGORIES_ID.NEW_BLOG_WELCOME,2589:t.CATEGORIES_ID.BOOKINGS,2590:t.CATEGORIES_ID.BOOKINGS_WELCOME,1039:t.CATEGORIES_ID.STORE,1153:t.CATEGORIES_ID.STORE},s={},i=void 0,o=function(e,t,a){i=t,e.dsRead.tpa.appMarket.getRelatedApps(function(e){r(e),a()})},r=function(e){n.forEach(e,function(t){var e=n.intersection(t.categories,n.keys(a));n.forEach(e,function(e){p(e,t)})})},p=function(e,t){s[e]=s[e]?s[e]:[],s[e].push(t)},d=function(t){return n.sortBy(s[t],function(e){return e.weights?-e.weights.categories[t]:0})};return{init:o,initRelatedApps:r,getApps:function(){return s},getCategories:function(){return n(a).pick(n.keys(s)).values().xor(i).value()},getCategoryApps:function(e,t,a){if(n.isEmpty(s))o(e,function(){a(d(t))});else{var i=d(t);a(i)}},getCategoryNumber:function(e){switch(e){case t.CATEGORIES_ID.GALLERY:return"1024";case t.CATEGORIES_ID.VIDEO:return"1025";case t.CATEGORIES_ID.MUSIC:return"1026";case t.CATEGORIES_ID.SOCIAL:return"1027";case t.CATEGORIES_ID.CONTACT:return"1028";case t.CATEGORIES_ID.IMAGE:return"1029";case t.CATEGORIES_ID.OTHER:return"1030";case t.CATEGORIES_ID.BUTTON:return"1031";case t.CATEGORIES_ID.BOX:return"1032";case t.CATEGORIES_ID.MENU:return"1034";case t.CATEGORIES_ID.VECTOR_SHAPE:return"1035";case t.CATEGORIES_ID.TEXT:return"1036";case t.CATEGORIES_ID.LIST:return"1037";case t.CATEGORIES_ID.BLOG:return"1038";case t.CATEGORIES_ID.MEMBERS:return"2558";case t.CATEGORIES_ID.MEMBERS_WELCOME:return"2559";case t.CATEGORIES_ID.NEW_BLOG:return"2568";case t.CATEGORIES_ID.NEW_BLOG_WELCOME:return"2569";case t.CATEGORIES_ID.STORE:return"1153";case t.CATEGORIES_ID.STORE+"_post":return"1039";case t.CATEGORIES_ID.BOOKINGS:return"2589";case t.CATEGORIES_ID.BOOKINGS_WELCOME:return"2590"}}}}),define("tpa/services/tpaAppInstallingService",["lodash","tpa/bi/bi","tpa/constants/constants","tpa/services/tpaAlertsService","stateManagement","experiment"],function(d,l,n,s,c,g){"use strict";var m=function(e,t,a,i){s.openPlatformFailedAlert(e,t),e.bi.event(l.events.PLATFORM_APP_FAILED,{app_name:t,app_id:a}),i&&e.dsActions.waitForChangesApplied(function(){e.history.undo()})};return{prePageAppInstalling:function(e,t,a,i){i&&(e.store.dispatch(c.editorPlugins.platform.actions.setIsAppInstallationInProgress(!0)),g.isOpen("se_disableIframeRenderDuringInstallation")&&e.dsActions.documentMode.enableRenderTPAsIframe(!1),e.history.add(n.HISTORY.BEFORE_ADDING_APP),e.panelManager.openPanel("panels.focusPanels.pageAppInstallingPanel",{appName:t,isInstalling:!0}),e.bi.event(l.events.PLATFORM_APP_TRY_TO_INSTALL,{app_name:t,app_id:a}),e.dsActions.initAutosave(e.autosaveManager.getAutosaveConfig({enabled:!1})))},onPageAppInstallingCompleted:function(e,t,a,i){var n,s,o,r,p=d.get(i,"success");g.isOpen("se_disableIframeRenderDuringInstallation")&&e.dsActions.documentMode.enableRenderTPAsIframe(!0),e.store.dispatch(c.editorPlugins.platform.actions.setIsAppInstallationInProgress(!1)),g.isOpen("se_blockOnViewerChangedDuringPlatformAppInstallation")&&e.notifyViewerUpdate(),p&&(n=e.dsRead,s=n.routers.get.all(),o=d.map(n.pages.getPagesData(),"id"),r=d.reduce(s,function(e,t){return e.push(d.values(d.get(t,"pages"))),d.flatten(e)},[]),d.every(r,function(e){return d.includes(o,e)}))?(e.panelManager.updatePanelProps("panels.focusPanels.pageAppInstallingPanel",{isInstalling:!1}),e.bi.event(l.events.PLATFORM_APP_ADDED,{app_name:t,app_id:a}),e.dsActions.initAutosave(e.autosaveManager.getAutosaveConfig({enabled:!0}))):m(e,t,a,!0)},onPageAppInstallingFailed:m}}),define("tpa/addPanelData/tpaAddPanelAppBox.rt",["react","lodash","baseUI","constants"],function(t,i,a,n){"use strict";return function(){function e(e,t){var a=i.assign({},e,t);return e.hasOwnProperty("style")&&(a.style=i.defaults(a.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(a.className=t.className+" "+e.className),a}return t.createElement("div",{className:"box-app-wrapper",onMouseEnter:function(){this.onMouseEnter(this.props.index)}.bind(this),onMouseLeave:function(){this.onMouseLeave(this.props.index)}.bind(this),onClick:this.onClick},t.createElement("a",e({onMouseDown:this.onMouseDown,className:"box-app"},{appDefinitionId:this.props.box.appDefinitionId}),t.createElement("div",e({className:"box-app-logo"},{style:{backgroundImage:"url("+(this.props.box.colorSvgIcon||this.props.box.appIcon)+")"}}))),t.createElement("div",{className:"content"},t.createElement("div",{className:"title ellipsis"},this.props.box.name),t.createElement("label",{className:"ellipsis"},this.props.box.relatedAppsTeaser)),t.createElement("a",{onClick:this.onPlusClick.bind(this,this.props.index)},t.createElement("span",{className:"plus-tooltip"},t.createElement(a.tooltip,{value:"tpa_add_panel_add_to_site",alignment:n.UI.TOOLTIP.ALIGNMENT.TOP},t.createElement("div",{},t.createElement(a.symbol,{className:"plus",name:"plusBig"}))))))}}),define("tpa/addPanelData/tpaAddPanelAppBox",["reactDOM","create-react-class","prop-types","lodash","core","tpa/appMarket/utils/appMarketUtils","tpa/bi/bi","tpa/constants/constants","tpa/utils/tpaUtils","tpa/services/tpaAddRemoveDSService","tpa/services/tpaAppInstallingService","tpa/addPanelData/tpaAddPanelAppBox.rt"],function(o,e,t,m,a,u,g,r,p,h,y,i){"use strict";return e({displayName:"tpaAddPanelApp",mixins:[a.mixins.editorAPIMixin],render:i,propTypes:{referralInfo:t.string.isRequired,category:t.string,box:t.object,onItemDrag:t.func},addApp:function(i,n,a,s,o,e){var r=this,p=this.getEditorAPI(),d=p.dsRead.tpa.app.isInstalled(i,!0);if(d&&e){var t=p.dsRead.pages.getFocusedPageId(),l=p.dsRead.tpa.app.getFirstAppCompPageId(i);l&&l.pageId!==t&&p.pages.navigateTo(l.pageId),p.dsRead.tpa.appMarket.getDataAsync(i).then(function(e){p.panelManager.openPanel("tpaPanels.message.sectionAlreadyInstalled",{appName:m.get(e,"name"),appIcon:m.get(e,"colorSvgIcon")||m.get(e,"appIcon"),appDefId:i})})}else if(n||d){var c=p.dsRead.pages.getFocusedPageId();if(e)p.dsRead.tpa.appMarket.getDataAsync(i).then(function(e){var a=m.get(e,"name");y.prePageAppInstalling(p,a,i,!m.get(e,"doNotShowPageAddedPanel")),h.addSection(p,i,{callback:function(t){t.page&&p.pages.navigateTo(t.page.id,function(){var e=p.dsRead.tpa.section.getSectionRefByPageId(t.page.id);p.selection.selectComponentByCompRef(e)}),m.get(e,"doNotShowPageAddedPanel")||y.onPageAppInstallingCompleted(p,a,i,t),r.reportTpaAddedBiEvent(i,n,s,d,c,t.sectionId,o)}})});else{var g={pageId:c};(g=a?m.merge(g,{layout:a}):g).callback=function(e){r.reportTpaAddedBiEvent(i,n,s,d,g.pageId,e.comp.id,o)},h.addWidget(p,i,g)}}else p.dsRead.tpa.appMarket.getDataAsync(i).then(function(e){var t=p.dsRead.tpa.appMarket.getPermissionsUrl(this.getAppMarketParams(m.get(e,"slug")),i);t=a?t.concat("&x="+a.x+"&y="+a.y):t,u.openAppMarketModal(p.panelManager.openPanel,"appMarketPermissionsModal",{url:t})}.bind(this))},onMouseEnter:function(e){this.setState({hover:!0,selected:e})},onMouseLeave:function(){this.setState({hover:!1})},onMouseDown:function(e){var a=this;if(m.isFunction(this.props.onItemDrag)){var t=o.findDOMNode(this).getBoundingClientRect(),i=m.pick(m.merge({},t,{top:t.top+30,left:t.left+41,width:60,height:60}),["left","top","width","height"]),n=void 0,s=void 0;s=this.props.box.hasSection?(n=980,500):(n=this.props.box.widgets[0].defaultWidth,this.props.box.widgets[0].defaultHeight),this.props.onItemDrag(e,{rect:i,onDrop:function(e,t){a.onMouseDrop(e,t)},structure:{layout:{width:n,height:s}},selectedApp:this.props.box})}},onMouseDrop:function(e,t){var a=this.getEditorAPI(),i=t.selectedApp.appDefinitionId,n="Wix"===t.selectedApp.by,s=this.isFirstAdd(a,i),o=t.selectedApp.hasSection;this.reportTpaAddClickBiEvent(i,n,"drag",s),this.addApp(i,n,{width:t.structure.layout.width,height:t.structure.layout.height,x:e.x,y:e.y},"drag",s,o)},onClick:function(e){if(!this.svgClicked(e)){var t=this.getEditorAPI(),a=this.props.box,i=a.appDefinitionId;this.openInfoModal(a);var n={app_id:i,origin:this.props.referralInfo,category:this.getCategory(),section:"related apps",component_type:p.isBlog(i)?"blog":"tpa"};t.bi.event(g.events.OPEN_MODAL_CLICK,n),t.panelManager.closePanelByName("rEditor.addPanel")}},svgClicked:function(e){return"svg"===e.target.tagName||"circle"===e.target.tagName||"path"===e.target.tagName},onPlusClick:function(e,t){if(this.svgClicked(t)){var a=this.getEditorAPI(),i=this.props.box,n="Wix"===i.by,s=i.appDefinitionId,o=i.hasSection,r=this.isFirstAdd(a,s);this.reportTpaAddClickBiEvent(s,n,"direct_add",r),this.addApp(s,n,null,"direct_add",r,o)}},getAppMarketParams:function(e){return{origin:u.origin(),openMarketOrigin:this.props.referralInfo,referralInfoCategory:this.getCategory(),section:"related_apps",appName:e}},openInfoModal:function(e){var t=this.getEditorAPI(),a=t.dsRead.tpa.appMarket.getInfoUrl(this.getAppMarketParams(m.get(e,"slug")),e.slug);u.openAppMarketModal(t.panelManager.openPanel,"appMarketAppModal",{url:a})},reportTpaAddedBiEvent:function(e,t,a,i,n,s,o){var r=this.getEditorAPI(),p=this.getBasicBiParams(r,e,t,a,o),d=r.dsRead.tpa.app.getDataByAppDefId(e),l=r.dsRead.generalInfo.isFirstSave()?r.dsRead.generalInfo.getMetaSiteId():"",c={widget_id:"",app_site_id:d.instanceId,instance_id:s,search_term:"",search_result_position:"",referral_info_category:this.getCategory(),referral_info:this.props.referralInfo,template_guid:l,modal_tab_name:"",page_id:n};p=m.assign(p,c),r.bi.event(g.events.TPA_ADDED,p)},reportTpaAddClickBiEvent:function(e,t,a,i){var n=this.getEditorAPI();p.bi.reportBIOnAppIntent(n,g.events.APP_INTENT,e,r.BI.initiator.EDITOR,r.BI.type.ADD_APP);var s=this.getBasicBiParams(n,e,t,a,i);n.bi.event(g.events.TPA_ADD_CLICK,s)},getBasicBiParams:function(e,t,a,i,n){return{adding_method:i,section:"related_apps",category:this.getCategory(),origin:this.props.referralInfo,app_id:t,is_first:n?1:0,is_permissions_app:a?0:1}},isFirstAdd:function(e,t){return!e.dsRead.tpa.app.isInstalled(t,!0)},getCategory:function(){return this.props.category}})}),define("tpa/addPanelData/tpaAddPanelSection.rt",["react","lodash","util","baseUI","tpa/addPanelData/tpaAddPanelAppBox"],function(a,e,t,i,n){"use strict";return function(){return a.createElement.apply(this,["div",{category:this.getCategory()},e.map(this.getAppBoxList(),function(e,t){return a.createElement("div",{key:e.appDefinitionId},a.createElement(n,{box:e,index:t,category:this.props.props.category,onItemDrag:this.props.onItemDrag,referralInfo:this.props.parentType}))}.bind(this)),a.createElement("div",{className:"more"},a.createElement(i.symbol,{name:"market"}),a.createElement("span",{},t.translate("tpa_add_panel_still_havent_found")),a.createElement("a",{onClick:function(){this.openCategory()}.bind(this)},t.translate("tpa_add_panel_browse_app_market")),a.createElement("span",{dangerouslySetInnerHTML:{__html:"&nbsp;"}}))])}}),define("tpa/services/pendingAppsService",["lodash","stateManagement","tpa/appMarket/utils/appMarketUtils"],function(s,t,o){"use strict";var i=function(e){return function(e,t){var a=o.getAppMarketPersistedUserPrefs(e);if(a){var i=a.removedPendingApps||[],n=s(t).keyBy("appDefinitionId").omit(i).value();t=s.values(n)}return t}(e,e.dsRead.tpa.getPendingApps())},a=function(e){return s.size(e.dsRead.tpa.pending.getPendingApps())},n=function(e){e.store.dispatch(t.editorPlugins.leftBar.actions.setNotificationsCount("tpa.compPanels.appMarketPanel",a(e)))};return{getPendingApps:function(e){var t=i(e),a=e.dsRead.tpa.getPremiumPendingApps();return s.union(t,a)},getPendingAppsCount:a,updateNotification:n,dismiss:function(e,t){e.dsActions.tpa.pending.dismiss(t),n(e)},add:function(e,t){e.dsActions.tpa.pending.add(t),n(e)}}}),define("tpa/addPanelData/tpaAddPanelSection",["create-react-class","lodash","core","tpa/addPanelData/addPanelService","tpa/appMarket/services/appMarketTabService","tpa/addPanelData/tpaAddPanelSection.rt","util","tpa/services/pendingAppsService"],function(e,t,a,i,n,s,o,r){"use strict";return e({displayName:"tpaAddPanelSection",mixins:[a.mixins.editorAPIMixin],render:s,getAppBoxList:function(){return this.appBoxList},componentWillMount:function(){var t=this,e=this.getEditorAPI();i.getCategoryApps(e,this.getCategoryNum(),function(e){t.appBoxList=e}),this.referralInfo=this.props.parentType.toLowerCase()},openCategory:function(){var e=this.getEditorAPI();e.panelManager.closePanelByName("rEditor.addPanel");var t={referralInfoCategory:this.getCategory(),openMarketOrigin:this.referralInfo,section:"related_apps"};n.openAppMarketTab({urlParams:t},e.panelManager.openPanel),e.bi.event(o.bi.events.OPEN_MARKET_CLICK,{referral_info:this.referralInfo,referral_info_category:this.getCategory(),num_pending_apps:r.getPendingAppsCount(this.getEditorAPI())})},getCategory:function(){return this.props.props.category},getCategoryNum:function(){return this.props.props.categoryNum}})}),define("tpa/addPanelData/section",["tpa/addPanelData/tpaAddPanelSection","tpa/addPanelData/addPanelService","addPanelDataConsts","coreUtilsLib"],function(i,a,n,s){"use strict";var o=function(e,t){if("contact"===e)return{};var a=s.objectUtils.cloneDeep(n.SECTIONS_STRUCTURE.GENERAL_SECTION_STRUCTURE);return a.help.hide=!1,a.help.title="",a.help.text="add_section_info_text_relatedapps_general",a.teaser.hide=!0,a.props.class="tpaSection",a.props.template=i,a.props.category=e,a.props.categoryNum=t||r(e),"store"===e?a.help.text="1153"===t?"add_section_info_text_relatedapps_store":"add_section_info_text_relatedapps_store2":"blog"===e&&(a.help.text="add_section_info_text_relatedapps_blog"),a},r=function(e){return a.getCategoryNumber(e)};return{registerAddPanelSection:function(e){var t=a.getCategories();e.addPanel.registerToAddSectionAtTheEndOfCategory(t,function(e){return[o(e,null)]})},getSectionStructure:o}}),define("tpa/superApps/superApps",["lodash","util","stateManagement","superAppMenuInfra","tpa/utils/tpaUtils","tpa/appMarket/services/appMarketTabService","tpa/appMarket/utils/appMarketUtils","tpa/constants/constants","tpa/addPanelData/section","tpa/bi/bi","tpa/superApps/superAppsConstants","tpa/services/tpaAddRemoveDSService","tpa/packagePicker/packagePicker","tpa/services/tpaHelpService","tpa/services/tpaStyleService","tpa/services/tpaAlertsService","tpa/services/dashboardAppService","tpa/services/tpaSettingsModalService","tpa/services/tpaAppInstallingService","experiment"],function(d,p,l,r,c,a,i,g,n,o,s,m,u,h,y,f,P,t,_,I){"use strict";var A=void 0,v=["dontStretch","styleId","parentContainerRef","presetId"];var w=function(s,o,e){o=o||{};var r=d.get(e,"type")||g.BI.type.GFPP_MANAGE;k(r,s);var p=A.dsRead.tpa.app.getDataByAppDefId(s);if(p)if(p.notProvisioned){var t=d.partial(f.openSaveFailedAlertForDashboardUrl,A,p.appDefinitionId);A.saveManager.saveInBackground(function(){var e,t,a,i,n;o.bi=c.bi.getAppIntentBiParamsToAddToUrl(A,s,r),e=p,t=A.selection.getSelectedComponentData(),a=A.selection.getSelectedComponentId(),i=A.dsRead.pages.getFocusedPageId(),n="Wix"!==e.by,c.bi.reportTpaAddedBiEvent(A,e.appDefinitionId,d.get(t,"widgetId"),i,a,!0,n,{origin:"template_provision",adding_method:"template"}),D(p,o)},t)}else D(p,o)},D=function(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=g.TPA_SETTING_MODAL,e=c.getOpenedPanel(A.panelManager,i);e&&A.panelManager.closePanelByName(e.props.panelName);var n=p.guidUtils.getUniqueId(),s={title:a.title||"",isBareMode:a.isBareMode||!1,options:a.options,compId:n},o=P.getDashboardUrl(A,t,n,a);if(o){A.store.dispatch(l.editorPlugins.tpa.actions.addAppDefIdsToRefreshOnDashboardClose([t.appDefinitionId])),s.isBareMode="true"===I.getValue("specs.wos.businessManagerPhase4")||s.isBareMode,s.width="100%",s.height="100%",s.url=o,s.onClose=d.partial(b,a.onClose),s.shouldNotCloseOnBlur=a.shouldNotCloseOnBlur;var r=a.leavePanelsOpen||!1;h.getHelpId(A,t.appDefinitionId,a.widgetId,h.HELP_END_POINTS.SETTINGS_MODAL).then(function(e){s.appDefinitionId=t.appDefinitionId,s.helpId=e,s.widgetId=a.widgetId,a.widgetless?A.panelManager.openPanel(i,s,r):c.selectComponentAndNavigateIfNeeded(A,t,function(){A.panelManager.openPanel(i,s,r)})})}},b=function(e){var t=A.store.getState(),a=l.editorPlugins.tpa.selectors.getAppIdsToRefreshAfterDashboardClose(t);T(a),A.store.dispatch(l.editorPlugins.tpa.actions.setAppDefIdsToRefreshOnDashboardClose([])),e&&e()},T=function(e){var t=A.dsRead.tpa.app.getRenderedReactCompsByApplicationId(e);A.dsActions.tpa.app.refreshApp(t)},S=function(a,e,i,n){var t=d.merge({widgetId:a,layout:e},d.pick(i,v));return t.callback=function(e){A.bi.tryFlushingConditionedEvents();var t=A.dsRead.tpa.app.getDataByAppDefId(n);E(t,e.comp,a,d.get(i,"presetId")),d.get(i,"cb")&&i.cb(e.comp)},t},E=function(e,t,a,i){var n={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:t.id,widget_id:a,page_id:t.pageId,preset_id:i};A.bi.event(o.events.EXTENSION_ADDED,n)},C=function(e,t,a){var i={app_id:e.appDefinitionId,app_site_id:e.instanceId,instance_id:t.sectionId,widget_id:a,page_id:t.page.id};A.bi.event(o.events.EXTENSION_ADDED,i)},e=function(e,t){return n.getSectionStructure(e,t,"vertical_button")},M=function(e){t.settingsOpenModal(A,{data:d.omit(e,"autoProvision")})},k=function(e,t){c.bi.reportBIOnAppIntent(A,o.events.APP_INTENT,t,g.BI.initiator.EDITOR,e)},O=function(){var e=A.selection.getSelectedComponentData(),t=A.dsRead.tpa.app.getData(d.get(e,"applicationId"));return d.get(t,"appDefinitionId")};return{init:function(e){A=e},isPremium:function(e){return A.dsRead.tpa.app.isPremiumByAppDefinitionId(e)},getExtensions:function(e,t){t&&A.dsRead.tpa.appMarket.getDataAsync(e).then(function(e){t(A.dsRead.tpa.app.getExtensionsWidgets(e))})},openDashboardUrl:w,openTranslationDashboardUrl:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];return t.isTranslationDashboard=!0,w(e,t,a)},openAppMarketForAppDef:function(e){var t={urlParams:{openMarketOrigin:s.getMarketOpenOriginForBi(e),openAppDefId:e}};a.openAppMarketTab(t,A.panelManager.openPanel)},refreshAppCompsForAppDefId:function(e){var t=A.dsRead.tpa.app.getDataByAppDefId(e);T([t.applicationId])},openAppMarketInfoModal:function(e){var t=A.dsRead.tpa.appMarket.getInfoUrl({origin:i.getAppMarketTargetOrigin()},e);i.openAppMarketModal(A.panelManager.openPanel,"appMarketAppModal",{url:t})},registerOnAppInstalled:function(e,t){A.dsRead.tpa.app.registerOnInstalled(e,t)},registerOnAppDeleted:function(e,t){A.dsRead.tpa.app.registerOnDeleted(e,t)},addApp:function(a){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=new Error("Error while installing -"),s=void 0;c.bi.reportBIOnAppIntent(A,o.events.APP_INTENT,a,g.BI.initiator.EDITOR,i.origin||g.BI.type.ADD_APP),A.dsRead.tpa.appMarket.getDataAsync(a).then(function(e){s=d.get(e,"name"),n.message+=s,_.prePageAppInstalling(A,s,a,!0);var t=i.callback||d.noop;i.callback=function(e){_.onPageAppInstallingCompleted(A,s,a,e),t(e)},m.addSection(A,a,i)}).catch(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};e.stack?p.ravenUtils.captureError(e,{tags:{tpaInstallation:s}}):(n.message+=e.message+" "+n.message,p.ravenUtils.captureError(n,{tags:{tpaInstallation:s}})),i.callback(e)})},addWidget:function(e,t,a){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};c.bi.reportBIOnAppIntent(A,o.events.APP_INTENT,e,g.BI.initiator.EDITOR,i.origin||g.BI.type.ADD_APP);var n=S(t,a,i,e);m.addWidget(A,e,n)},addSection:function(e,t){var a=A.dsRead.tpa.app.getDataByAppDefId(e),i=a.widgets[t];i&&c.isMultiSectionInstanceEnabled(a,i.widgetId)&&(c.bi.reportBIOnAppIntent(A,o.events.APP_INTENT,e,g.BI.initiator.EDITOR,g.BI.type.ADD_WIDGET),m.addMultiSection(A,a.appDefinitionId,{pageId:i.appPage.id,callback:function(e){A.pages.navigateTo(e.page.id),C(a,e,i.widgetId)}}))},superAppsConstants:s,isInstalled:function(e){var t=A.dsRead.tpa.app.isInstalled(e);return t&&A.dsRead.tpa.appMarket.getData(e),t},getFirstAppCompPageId:function(e){return A.dsRead.tpa.app.getFirstAppCompPageId(e)},relatedApps:{addPanelCategories:["store"],constants:{store:{category:"store",categoryNum:{pre:"1153",post:"1039"}},bookings:{category:"bookings",categoryNum:{pre:"2589",post:"2589"}}},getRelatedAppsForPostInstall:e,getRelatedAppsForPreInstall:e},getSectionRefByPageId:function(e){return A.dsRead.tpa.section.getSectionRefByPageId(e)},upgrade:function(e,t,a){k(g.BI.type.APP_UPGRADE_BUTTON,e),u.startUpgradeFlow(A,e,!1,{origin:a})},hasPremiumOffering:function(e){var t=A.dsRead.tpa.app.getDataByAppDefId(e);return!!t&&A.dsRead.tpa.app.hasPremiumOffering(t.applicationId)},openSuperAppPanel:function(e,t,a,i,n,s,o){r.button.registerButton(A,e,t,a,i,n,s,o,!0),A.panelManager.openPanel(a,{appWasManuallyInstalled:!0})},openSuperAppsModal:function(e){var t=(e=e||{}).appDefinitionId||O();if(k(g.BI.type.APP_MANAGE_BUTTON,t),e.bi=c.bi.getAppIntentBiParamsToAddToUrl(A,t,g.BI.type.APP_MANAGE_BUTTON),d.get(e,"autoProvision")){var a=A.dsRead.tpa.app.getDataByAppDefId(t);a&&(a.notProvisioned?A.saveManager.saveInBackground(d.partial(M,e),d.partial(f.openSaveFailedAlertForDashboardUrl,A,a.appDefinitionId)):M(e))}else M(e)},setStyleParam:function(e,t,a){y.setStyleParam(A,t,a)},unDockComp:function(e,t){A.components.layout.unDock(e),A.dsActions.waitForChangesApplied(function(){A.components.layout.update(e,t)})}}}),define("tpa/handlers/editorSuperAppsHandlers",["lodash","tpa/constants/constants","tpa/utils/mediaDialogHandlerUtils","tpa/services/mediaDialogService","tpa/superApps/superApps"],function(l,c,i,n,g){"use strict";return{superAppsOpenMediaDialog:function(e,a,t){n.openMediaDialogByPayloadParsingMethod(e,a,function(e){l.isArray(e)||(e=[e]);var t=e.map(i.convertMediaManagerResultForSuperApps);return t=a.data.multiSelection?t:t[0]},t)},setHelpArticle:function(e,t){var a=l.get(t,"data.articleId");"MODAL"===l.get(t,"data.type")?e.panelManager.updatePanelProps("tpa.compModals.tpaSettingsModal",{articleId:a}):e.panelManager.updatePanelProps("tpa.compPanels.tpaSettings",{articleId:a})},openDashboard:function(e,t,a){var i,n,s=l.get(t,"data",{}),o=s.state||"",r=s.origin||"",p=(n=(i=e).selection.getSelectedComponentData())&&(i.dsRead.tpa.app.getData(n.applicationId)||{}).appDefinitionId||null,d=e.selection.getSelectedComponentData().widgetId;g.openDashboardUrl(p,{state:o,origin:r,widgetId:d,onClose:a,shouldNotCloseOnBlur:!0,leavePanelsOpen:!0},{type:c.BI.type.TPA_DASHBOARD})}}}),define("tpa/handlers/editorTPAHandlers",["lodash","util","stateManagement","tpa/utils/mediaDialogHandlerUtils","tpa/packagePicker/packagePicker","tpa/constants/constants","tpa/services/dashboardAppService","tpa/bi/bi","tpa/services/tpaStyleService","tpa/appMarket/utils/appMarketUtils","textControls","tpa/services/mediaDialogService","tpa/services/tpaAddComponentService","tpa/services/tpaSettingsModalService","tpa/handlers/editorSuperAppsHandlers","tpa/handlers/editorRefreshTPADataAfterUpgrade"],function(u,n,i,s,o,r,p,d,l,c,t,g,m,h,y,a){"use strict";var f=function(e){var i=u.keyBy(t.constants.DEFAULT_STYLES_MAP,"cssClass");return u.transform(e,function(e,t,a){i[t.editorKey]&&(t.displayName=n.translate(i[t.editorKey].displayName),e[a]=t)},{})};function P(e){return u.isNaN(u.toNumber(e))?u.endsWith(e,"px")?{px:parseFloat(e)}:u.endsWith(e,"vw")?{vw:parseFloat(e)}:u.endsWith(e,"%")?{pct:parseFloat(e)}:null:{px:u.toNumber(e)}}function _(e){return u.isNumber(e.pct)?{pct:e.pct}:{vw:e.vw||0,px:e.px||0}}var e=function(){};return{addComponent:function(e,t,a){if(t.data.appDefinitionId){var i=e.selection.getSelectedComponentData(),n=e.dsRead.tpa.app.getData(u.get(i,"applicationId"));n&&!n.isWixTPA&&delete t.data.appDefinitionId}m.addComponent(e,t.compId,t.data,function(e){u.get(e,"compId")?a(e.compId):a(e)})},appEngaged:function(e,t){var a=e.selection.getSelectedComponentData();if(a){var i=e.dsRead.tpa.app.getData(a.applicationId),n={app_id:i.appDefinitionId,instance_id:i.instanceId,premium_intent:u.get(t,"data.premiumIntent")};e.bi.event(d.events.APP_ENGAGEMENT,n)}},appIsAlive:function(e,t,a){e.panelManager.updatePanelProps("tpa.compPanels.tpaSettings",{isAlive:!0,sdkVersion:u.get(t,"data.version")});var i=e.dsRead.tpa.style.get(t.compId,!0);i.siteTextPresets=f(i.siteTextPresets),a(i)},closeWindow:function(t,a){a=a||{};var i=t.panelManager.getOpenPanels(),e=function(e){switch(e.toLowerCase()){case"all":return[r.TPA_SETTINGS_PANEL_ID,r.TPA_SETTING_MODAL];case"settings":return[r.TPA_SETTINGS_PANEL_ID];case"modal":default:return[r.TPA_SETTING_MODAL]}}(u.get(a.data,["message","target"],""));(e=u.reject(e,function(e){return!u.find(i,{name:e})})).forEach(function(e){t.panelManager.updatePanelProps(e,{shouldCloseModal:!0,closeModalMessage:u.get(a,"data.message")})})},getCurrentPageId:function(e,t,a){a(e.pages.getCurrentPageId())},getDashboardAppUrl:function(e,t,a){p.getDashboardAppUrlAsync(e,t.data,a)},getExternalId:function(e,t,a){var i=e.components.get.byId(t.compId);a(e.dsRead.tpa.comp.getExternalId(i))},getProducts:function(e,t,a){var i,n,s,o,r,p,d,l=e.selection.getSelectedComponentData(),c=e.dsRead.tpa.app.getData(u.get(l,"applicationId")),g=u.get(t,"data.appDefinitionId"),m=u.get(t,"data.currency");g&&c.isWixTPA?(n=g,s=m,o=a,d=(i=e).dsRead.tpa.app.getDataByAppDefId(n),r=i,(p=d)&&!r.dsRead.tpa.app.isPermissionsRevoked(p)?i.dsRead.tpa.appMarket.getPackages(n,u.get(d,"instanceId"),{currency:s}).then(o,o):o({error:"app is not installed"})):e.dsRead.tpa.appMarket.getPackages(u.get(c,"appDefinitionId"),u.get(c,"instanceId"),{currency:m}).then(a,a)},getWindowPlacement:function(e,t,a){var i=e.components.properties.get(e.selection.getSelectedComponents());if(!i)throw new Error("Selected widget is not Glued Widget");a({placement:i.placement,verticalMargin:parseFloat(i.verticalMargin),horizontalMargin:parseFloat(i.horizontalMargin)})},isComponentInstalled:function(e,t,a){var i=u.get(t,"data.componentId"),n=e.selection.getSelectedComponentData();if(n){var s=e.dsRead.tpa.app.getData(n.applicationId);if(s){var o=u.find(s.widgets,function(e){return e.appPage?e.appPage.id===i:e.tpaWidgetId===i});if(o)return void a(e.dsRead.tpa.comp.isInstalled(o.widgetId))}}a(!1)},isFullWidth:function(e,t,a){var i=e.selection.getSelectedComponents();a(e.components.layout.isHorizontallyStretchedToScreen(i))},openBillingPage:function(e,t){var a=e.selection.getSelectedComponentData();if(a){var i=e.dsRead.tpa.app.getData(a.applicationId);if(!o.isFullyUpgraded(e,i)){var n={origin:u.get(t,"data.referrer")||"settings"},s=u.get(t,"data.premiumIntent");s&&(n.premiumIntent=s),o.startUpgradeFlow(e,i.appDefinitionId,!0,n)}}},openLinkPanel:function(e,t,a){e.openLinkPanel({link:u.get(t,"data.link"),hideLinkTarget:!0,callback:a,onCancelCallback:function(){a&&a({onCancel:!0})}})},openMediaDialog:function(e,a,t){e.dsRead.tpa.app.isSuperAppByCompId(a.compId)&&"SuperApps.Settings"===a.namespace?y.superAppsOpenMediaDialog(e,a,t):(u.unset(a,["data","options","imageAnalysis"]),g.openMediaDialogByPayloadParsingMethod(e,a,function(e){u.isArray(e)||(e=[e]);var t=e.map(s.convertMediaManagerResult);return t=a.data.multiSelection?t:t[0]},t))},openReviewInfo:function(i){var e=i.selection.getSelectedComponentData(),t=i.dsRead.tpa.app.getData(e.applicationId);i.dsRead.tpa.appMarket.getDataAsync(t.appDefinitionId).then(function(e){if(e){var t={origin:c.origin(),openMarketOrigin:"settings_panel"},a=i.dsRead.tpa.appMarket.getAppReviewsUrl(t,e.slug);c.openAppMarketModal(i.panelManager.openPanel,"appMarketAppModal",{url:a})}})},openSiteMembersSettingsDialog:function(e){e.panelManager.openPanel("panels.focusPanels.siteMembersSettingsPanel",{},!0)},postMessage:function(e,t){var a=e.selection.getSelectedComponentData();a&&e.dsActions.tpa.change.trigger.settingsUpdated(a.applicationId,t.data.compId,t.data.message)},refreshAppsOnDashboardClose:function(e,t){if(t&&t.data){var a=t.data.appsToRefresh;(u.isString(a)||u.isArray(a)&&a.every(u.isString))&&(a=[].concat(a),e.store.dispatch(i.editorPlugins.tpa.actions.addAppDefIdsToRefreshOnDashboardClose(a)))}},setExternalId:function(e,t,a){var i=e.components.get.byId(t.compId);e.dsActions.tpa.comp.setExternalId(i,t.data.externalId,a,t.data.preventRefresh)},setFullWidth:function(s,e,o){var t,a,i,n,r,p,d,l=e.data.stretch,c=s.selection.getSelectedComponents(),g=s.components.layout.isHorizontallyStretchedToScreen(c);if(l){var m=function(e){if(e){var t=P(e.left),a=P(e.right);return t&&a?{left:t||{},right:a||{}}:null}return{}}(u.get(e,"data.margins"));m?(t=s,a=m,i=c,n=o,r=u.get(a,"left")||{},p=u.get(a,"right")||{},d={left:_(r),right:_(p)},t.components.layout.setDock(i,d),t.dsActions.waitForChangesApplied(n)):o({onError:"Margin values are not valid."})}else g&&s.dsActions.waitForChangesApplied(function(){var e,t,a,i,n;t=c,a=o,i=(e=s).selection.getSelectedComponentData(),(n=e.dsRead.tpa.app.getDefaultLayout(i.applicationId,i.widgetId)).height=e.components.layout.get(t).height,e.components.layout.unDock(t),e.dsActions.waitForChangesApplied(function(){e.components.layout.update(t,n),a()})})},setStyleParam:function(e,t,a){l.setStyleParam(e,t.compId,t.data,a),e.dsActions.tpa.style.setParamOldSDK(t.compId,t.data)},settingsOpenModal:function(e,t,a){h.settingsOpenModal(e,t,a)},setWindowPlacement:function(e,t){var a=t.data.placement;if("CENTER"===a)throw new Error("Invalid position: "+a+". please use a valid position");var i=t.data.verticalMargin||0,n=t.data.horizontalMargin||0,s=e.components.get.byId(t.compId,"masterPage"),o=e.components.properties.get(s);u.assign(o,{placement:a,verticalMargin:i,horizontalMargin:n}),e.components.properties.update(s,o),e.dsActions.tpa.change.trigger.windowPlacement(t)},stylesReady:function(e,t){e.panelManager.updatePanelProps("tpa.compPanels.tpaSettings",{stylesReady:!0,sdkVersion:u.get(t,"data.version")})},trackAppUpgrade:function(e){var t=e.selection.getSelectedComponentData();a.trackAppUpgrade(e,t.applicationId)},getWixUpgradeUrl:function(e,t,a){var i=e.selection.getSelectedComponentData(),n=e.dsRead.tpa.app.getData(i.applicationId);e.dsRead.tpa.app.hasPremiumOffering(n.applicationId)&&o.getWixUpgradeUrl(e,n.appDefinitionId,a)},migrate:function(e,t,a){var i=u.get(t,"data",{}),n=i.appDefinitionId,s=i.payload;e.dsActions.platform.migrate(n,s).then(function(e){return a(e)}).catch(function(e){return a(e)})},getViewModeInternal:e,toWixDate:e,getCompId:e,getOrigCompId:e,getWidth:e,getLocale:e,getCacheKiller:e,getTarget:e,getInstanceId:e,getSignDate:e,getUid:e,getPermissions:e,getIpAndPort:e,getDemoMode:e,getDeviceType:e,getInstanceValue:e,getSiteOwnerId:e,getImageUrl:e,getResizedImageUrl:e,getAudioUrl:e,getDocumentUrl:e,getSwfUrl:e,getPreviewSecureMusicUrl:e,getStyleParams:e,getStyleColorByKey:e,getColorByreference:e,getEditorFonts:e,getSiteTextPresets:e,getFontsSpriteUrl:e,getStyleFontByKey:e,getStyleFontByReference:e,getSiteColors:e,setUILIBParamValue:e}}),define("tpa/handlers/editorSettingsModalHandlersService",[],function(){"use strict";return function(i){return{resizeWindow:function(e,t,a){i.panelManager.updatePanelProps(a.name,{width:e.data.width,height:e.data.height})}}}}),define("tpa/settings/uiLib/fontPickerStyleService",["lodash","textControls","tpa/services/tpaStyleService"],function(p,o,d){"use strict";var l=function(e,t,a){var i=e.dsRead.tpa.style.getNameToFontsKeyMap()[t],n=e.dsRead.theme.fonts.get(t),s=o.fontUtils.parseStyleFont(n,e.dsRead.theme.fonts.getAll(),e.theme.colors.getAll());return{preset:i,editorKey:t,displayName:a,size:s.size,family:s.family.toLowerCase(),style:{bold:s.bold,italic:s.italic,underline:!1}}},c=function(e,t,a,i,n,s){var o={style:{italic:!1,bold:!1,underline:!1},family:"arial"},r=e.dsRead.tpa.style.get(t);switch(r.style&&r.style.fonts&&r.style.fonts[a]&&(delete(o=r.style.fonts[a]).displayName,delete o.value),i){case"theme":p.assign(o,l(e,n,s));break;case"family":o.preset="Custom",o.family=n;break;case"size":o.preset="Custom",o.size=n;break;case"bold":o.preset="Custom",o.style.bold=n;break;case"italic":o.preset="Custom",o.style.italic=n;break;case"underline":o.preset="Custom",o.style.underline=n}return o.fontStyleParam=!0,o};return{onStyleChange:function(t,a,e,i,n,s,o){var r={key:e,param:{value:c(t,a,e,n,s,o)},type:"font"};d.setStyleParam(t,a,r),t.dsActions.waitForChangesApplied(function(){var e=t.dsRead.tpa.style.get(a);i({fontParam:e.style.fonts[r.key]})})},onStyleChangeWithoutWixParam:function(e,t,a,i,n,s){t=p.isPlainObject(t)?t:{},"theme"===i?p.assign(t,l(e,n,s)):p.includes(["bold","italic","underline"],i)?p.set(t,["style",i],n):t[i]=n,s?t.displayName=s:delete t.displayName,a({fontParam:t})}}}),define("tpa/settings/uiLib/colorPickerStyleService",["lodash","tpa/services/tpaStyleService"],function(n,l){"use strict";var c=function(e){return!n.isUndefined(e)&&!!n.includes(e,"#")},g=function(e){return/^rgba\(((\d+),\s*){3}(0?\.\d+)\)$/.test(e)?e.split(",")[3].split(")")[0]:1},m=function(e,t){var a=void 0;if(n.includes(e,"rgba")){var i=e.split(",");i[3]=t+")",a=i.join(",")}else{e=e.replace("#",""),a="rgba("+parseInt(e.substring(0,2),16)+","+parseInt(e.substring(2,4),16)+","+parseInt(e.substring(4,6),16)+","+t+")"}return a};return{onStyleChangeWithoutWixParam:function(e,t){var a={};a[c(t)?"value":"themeName"]=t,e({colorParam:a})},onStyleChange:function(e,t,a,i,n){var s=e.dsRead.tpa.style.get(t)||{},o=s.style&&s.style.colors[a]||{},r=g(o.value),p=r?+r:1,d={key:a,param:{value:{opacity:p}},type:"color"};c(n)?d.param.value.rgba=m(n,p):d.param.value.color={name:n},l.setStyleParam(e,t,d),e.dsActions.waitForChangesApplied(function(){(s=e.dsRead.tpa.style.get(t)).style&&s.style.colors&&i({colorParam:s.style.colors[d.key]})})}}}),define("tpa/handlers/editorUILibHandlers",["zepto","lodash","tpa/settings/uiLib/fontPickerStyleService","tpa/settings/uiLib/colorPickerStyleService"],function(a,p,d,l){"use strict";var c=function(e){var t=a("#tpaSettingsFrame").offset();return t?{left:(e.left||0)+(t.left||0),top:(e.top||0)+(t.top||0)}:{left:e.left,top:e.top}},g=function(t,a,i,n){t.theme.colors.update(n),t.dsActions.waitForChangesApplied(function(){var e=t.dsRead.tpa.style.get(a);e.style&&e.style.colors&&i({paletteChange:!0,colors:e.style.colors,palette:n})})},m=function(e){e({panelClose:!0})};return{openColorPicker:function(e,t,a){var i=c(p.pick(t.data,["top","left"])),n=t.data.wixParam,s=t.compId,o=t.data.color||"#ffffff",r=void 0;r=n?l.onStyleChange.bind(null,e,s,n,a):p.partial(l.onStyleChangeWithoutWixParam,a),e.panelManager.openPanel("panels.toolPanels.colorPicker.colorPickerPanel",{value:o,onChange:r,onClose:m.bind(null,a),history:null,palettePresets:e.theme.colors.getColorPresets(),updateSitePalette:g.bind(null,e,s,a),previewOnHover:!1,top:i.top,left:i.left},!0)},openFontPicker:function(e,t,a){var i=t.data.wixParam,n=t.compId,s=c(p.pick(t.data,["top","left"])),o=void 0,r=void 0;o=i?(r=function(e,t,a){var i=e.dsRead.tpa.style.get(t);if(i&&p.has(i,"style.fonts"))return i.style.fonts[a]}(e,n,i),d.onStyleChange.bind(null,e,n,i,a)):(r=p.isPlainObject(t.data.value)?t.data.value:{},p.partial(d.onStyleChangeWithoutWixParam,e,r,a)),e.panelManager.openPanel("tpaPanels.uiLib.uiLibTextParamDesignPanel",{title:t.data.title||"Font picker",hideTheme:t.data.hideTheme||!1,hideFont:t.data.hideFont||!1,hideSize:t.data.hideSize||!1,hideStyle:t.data.hideStyle||!1,top:s.top,left:s.left,fontMaxSize:t.data.fontMaxSize,fontMinSize:t.data.fontMinSize,compStyle:r,onStyleChange:o},!0)}}}),define("tpa/handlers/editorPublicDataHandlers",[],function(){"use strict";return{setValue:function(e,t,a){var i=e.components.get.byId(t.compId);e.dsActions.tpa.data.set(i,t.data.key,t.data.value,t.data.scope,a)},removeValue:function(e,t,a){var i=e.components.get.byId(t.compId);e.dsActions.tpa.data.remove(i,t.data.key,t.data.scope,a)},getValue:function(e,t,a){if(t.data.scope===e.dsRead.tpa.data.SCOPE.APP){var i=e.selection.getSelectedComponentData();e.dsRead.tpa.data.app.get(i.applicationId,t.data.key,a)}else{var n=e.components.get.byId(t.compId);e.dsRead.tpa.data.comp.get(n,t.data.key,a)}},getValues:function(e,t,a){if(t.data.scope===e.dsRead.tpa.data.SCOPE.APP){var i=e.selection.getSelectedComponentData();e.dsRead.tpa.data.app.getMulti(i.applicationId,t.data.keys,a)}else{var n=e.components.get.byId(t.compId);e.dsRead.tpa.data.comp.getMulti(n,t.data.keys,a)}}}}),define("tpa/common/editorTPAPostMessageCommon",["lodash"],function(n){"use strict";var s={TPA_MESSAGE:"TPA",TPA_MESSAGE2:"TPA2",TPA_RESPONSE:"TPA_RESPONSE",UI_LIB_RESPONSE:"UI_LIB_RESPONSE",PINGPONG_PREFIX:"pingpong:"},o=function(e,t,a){if(!n.isUndefined(e)){var i="";try{i=JSON.stringify(t)}catch(e){return}e.postMessage||(e=e.contentWindow),e.postMessage(i,a||"*")}},r=function(t,a){var i=s.TPA_RESPONSE;return n.includes(["openColorPicker","openFontPicker"],a.type)&&(i=s.UI_LIB_RESPONSE),function(e){try{o(t,{intent:i,callId:a.callId,type:a.type,res:e,status:!0})}catch(e){}}},p=function(e){return(e.intent===s.TPA_MESSAGE||e.intent===s.TPA_MESSAGE2)&&!t(e)},t=function(e){return"[UNKNOWN]"===e.compId};return{Intents:s,callPostMessage:o,generateResponseFunction:r,isTPAMessage:p,fixOldPingPongMessageType:function(e){return e.replace(s.PINGPONG_PREFIX,"")},handleTPAMessage:function(e,t,a){var i=void 0;try{a.data?i=JSON.parse(a.data):a.originalEvent&&a.originalEvent.data&&(a=a.originalEvent,i=JSON.parse(a.data))}catch(e){return}i&&p(i)&&t(e,i,r(a.source,i))}}}),define("tpa/services/tpaPostMessageService",["lodash","tpa/handlers/editorTPAHandlers","tpa/handlers/editorSettingsModalHandlersService","tpa/handlers/editorUILibHandlers","tpa/handlers/editorPublicDataHandlers","tpa/handlers/editorSuperAppsHandlers","tpa/common/editorTPAPostMessageCommon","tpa/utils/tpaUtils","tpa/constants/constants"],function(p,i,n,d,l,c,g,m,u){"use strict";return function(s,e){var o=n(s),t=function(a){return function(e,t){return Boolean(a[t.type])}},r=[{test:t(l),handlers:l},{test:function(e,t){return Boolean(c[t.type])&&e.dsRead.tpa.app.isSuperAppByCompId(t.compId)},handlers:c},{test:t(i),handlers:i},{test:t(d),handlers:d}],a=function(e,t,a){p.assign(t,{compId:e.selection.getSelectedComponentId()});var i=m.getOpenedPanel(s.panelManager,u.TPA_SETTING_MODAL);if(i&&o[t.type])o[t.type].call(this,t,a,i),e.dsActions.tpa.bi.sendBIEvent(t,"editor");else{var n=function(t,a){var e=p.find(r,function(e){return e.test(t,a)});if(e)return e.handlers[a.type]}(e,t);n?(n.call(this,e,t,a),e.dsActions.tpa.bi.sendBIEvent(t,"editor")):e.dsRead.tpa.handlers(p.assign(t,{originFrame:"editor"}),a)}};return{addListenerToTpaMessage:function(){e("message",g.handleTPAMessage.bind(this,s,a),!1)}}}}),define("tpa/services/tpaAddAppService",["lodash","util","blog","experiment","tpa/services/pendingAppsService","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaAddRemoveDSService","tpa/services/tpaAlertsService","tpa/services/tpaAppInstallingService","tpa/superApps/superApps","tpa/bi/bi","constants","addPanelDataConsts","stateManagement"],function(g,m,u,h,y,f,P,_,I,A,i,v,t,e,w){"use strict";var D=w.platform.selectors,b=e.CATEGORIES_ID.INSTALLED_APPS,T=t.ROOT_COMPS.LEFTBAR.ADD_PANEL_NAME,S=function(s,o,r,p,d,l){var e;r=r||{},o===i.superAppsConstants.SHOUTOUT_APP_DEF_ID?(e=s).dsRead.generalInfo.isFirstSave()?e.saveManager.saveInBackground(function(){i.openSuperAppPanel("shoutout",!0,t.SUPER_APPS.SHOUTOUT_PANEL_NAME,"SiteApp_ShoutOut_Button_Hover_Caption","SiteApp_ShoutOut_Button_Hover_Caption","shoutout-panel","shoutOutLeftBarIcon")},function(){I.openSaveFailedAlertForAppMarket(e)}):i.openSuperAppPanel("shoutout",!0,t.SUPER_APPS.SHOUTOUT_PANEL_NAME,"SiteApp_ShoutOut_Button_Hover_Caption","SiteApp_ShoutOut_Button_Hover_Caption","shoutout-panel","shoutOutLeftBarIcon"):(r.callback=function(e){if(l&&e.onError&&l(e),e.onError)A.onPageAppInstallingCompleted(s,null,o,e);else{y.updateNotification(s);var t,a,i=s.dsRead.pages.getFocusedPageId(),n=!s.dsRead.tpa.app.isInstalled(o,!0);f.bi.reportTpaAddedBiEvent(s,o,r.widgetId,i,e.comp.id,n,p,d),s.bi.tryFlushingConditionedEvents(),r.shouldNavigate&&(t=s,a=r.pageId,g.includes(t.dsRead.pages.getPageIdList(!0),a))&&i!==r.pageId?s.pages.navigateTo(r.pageId,function(){s.panelManager.closePanelByName("tpa.compPanels.tpaSettings")}):r.pageId&&i!==r.pageId||s.panelManager.closePanelByName("tpa.compPanels.tpaSettings"),s.dsActions.waitForChangesApplied(function(){if(l){var e=s.dsRead.tpa.app.getDataByAppDefId(o);l({instanceId:g.get(e,"instanceId")})}})}},_.preAddComponent(s,o,r,function(){s.dsActions.tpa.app.add(o,r)}))},E=function(t,a,i,e,n){if(e=e||{},u.siteHasOldBlog(t)){var s=u.getBlogPageId(t),o=t.dsRead.pages.getFocusedPageId();e.shouldNavigate&&s!==o&&t.pages.navigateTo(s)}else u.installApp(t,null,function(e){r(t,e,a,i),u.unregisterNewBlogButton(t),n&&n()})},r=function(e,t,a,i){var n=u.getBlogMainAppPartCompRef(e,t);f.bi.reportAddComponentBIEvent(e,n.id,a,i)};return{addApp:function(a,i,n,s,e,t,o,r,p){var d=9<arguments.length&&void 0!==arguments[9]?arguments[9]:g.noop,l=arguments[10];p=g.pick(p,["widgetId","showPageAddedPanel","x","y","width","height","shouldNavigate","pageId","containerRef","componentOptions","originType","appVersion","disableAddCompleteSave","disableAddPanel"]);var c=function(e,t){!t||t instanceof Error?((t=t||{}).message+=" failed installing "+n,m.ravenUtils.captureError(t,{tags:{tpaInstallation:n},extra:{options:p,appData:s,appDefId:i,platformOrigin:l}})):(h.isOpen("se_openAddPanelAfterAppInstall")&&!p.disableAddPanel&&D.getAddPanelCategoryDefinitionFromManifest(a.dsRead,t.appDefinitionId)&&a.panelManager.openPanel(T,{category:b,sectionId:t.appDefinitionId}),m.fedopsLogger.interactionEnded(e)),d(t)};switch(e){case P.APP.TYPE.SECTION:m.fedopsLogger.interactionStarted(m.fedopsLogger.INTERACTIONS.ADD_TPA_SECTION),f.bi.reportBIOnAppIntent(a,v.events.APP_INTENT,i,t,P.BI.type.ADD_APP),function(a,i,n,s,o,r,p,d){var t=(o=o||{}).widgetId;if(a.dsRead.tpa.section.alreadyInstalled(i)){n.notProvisioned&&a.saveManager.saveInBackground(function(){var e=a.dsRead.tpa.app.getFirstAppCompPageId(i);f.bi.reportTpaAddedBiEvent(a,i,t,e.pageId,e.compId,!0,r,p)},function(){I.openProvisionFailedAlert(a.panelManager.openPanel,i)});var e=a.dsRead.tpa.app.getFirstAppCompPageId(i);if(e){var l=a.dsRead.pages.getFocusedPageId();o.shouldNavigate&&e.pageId!==l&&a.pages.navigateTo(e.pageId)}a.dsRead.tpa.appMarket.getDataAsync(i).then(function(e){a.panelManager.openPanel("tpaPanels.message.sectionAlreadyInstalled",{appName:s,appIcon:g.get(e,"colorSvgIcon")||g.get(e,"appIcon"),appDefId:i})})}else A.prePageAppInstalling(a,s,i,o.showPageAddedPanel),o.callback=function(t){if(d&&t.onError&&d(t),(o.showPageAddedPanel||t.onError)&&A.onPageAppInstallingCompleted(a,s,i,t),!t.onError){if(y.updateNotification(a),f.bi.reportTpaAddedBiEvent(a,i,o.widgetId,t.page.id,t.sectionId,!0,r,p),"14bcded7-0066-7c35-14d7-466cb3f09103"===i){if(!u.siteHasOldBlog(a)){var e=g.cloneDeep(a.store.getState().leftBar);e.superApps.desktop=g.reject(e.superApps.desktop,{panelName:"blog.menuPanel"}),a.store.dispatch(w.editorPlugins.services.actions.setState({leftBar:e}))}u.registerNewBlogButton(a)}o.shouldNavigate&&a.pages.navigateTo(t.page.id,function(){a.panelManager.closePanelByName("tpa.compPanels.tpaSettings");var e=a.dsRead.tpa.section.getSectionRefByPageId(t.page.id);a.selection.selectComponentByCompRef(e)}),a.dsActions.waitForChangesApplied(function(){if(d){n=a.dsRead.tpa.app.getDataByAppDefId(i);var e=a.dsRead.pages.data.get(t.page.id);d({instanceId:g.get(n,"instanceId"),pageRef:t.page,pageUriSEO:g.get(e,"pageUriSEO"),title:g.get(e,"title")})}})}},_.preAddComponent(a,i,o,function(){a.dsActions.tpa.app.add(i,o)})}(a,i,s,n,p,o,r,g.partial(c,m.fedopsLogger.INTERACTIONS.ADD_TPA_SECTION));break;case P.APP.TYPE.WIDGET:m.fedopsLogger.interactionStarted(m.fedopsLogger.INTERACTIONS.ADD_TPA_WIDGET),f.bi.reportBIOnAppIntent(a,v.events.APP_INTENT,i,t,P.BI.type.ADD_APP),S(a,i,p,o,r,g.partial(c,m.fedopsLogger.INTERACTIONS.ADD_TPA_WIDGET));break;case P.APP.TYPE.APP_PART:E(a,e,r,p,d);break;case P.APP.TYPE.PLATFORM_ONLY:m.fedopsLogger.interactionStarted(m.fedopsLogger.INTERACTIONS.ADD_TPA_PLATFORM),f.bi.reportBIOnAppIntent(a,v.events.APP_INTENT,i,t,p.originType||P.BI.type.ADD_APP),_.addPlatform(a,i,g.assign({origin:l,callback:g.partial(c,m.fedopsLogger.INTERACTIONS.ADD_TPA_PLATFORM)},g.pick(p,["appVersion","disableAddCompleteSave"])));break;default:throw new Error("Error: "+e+" is unknown tpa type")}},isAppInstalled:function(e,t,a){return!(t!==i.superAppsConstants.BLOG_APP_DEF_ID||!u.siteHasOldBlog(e))||e.dsRead.tpa.app.isInstalled(t,!a)}}}),define("tpa/handlers/editorTPAPreviewHandlers",["lodash","stateManagement","tpa/constants/constants","tpa/services/tpaHelpService","tpa/services/tpaAddAppService","tpa/appMarket/utils/appMarketUtils","tpa/superApps/superApps"],function(l,e,c,o,g,m,u){"use strict";var r=e.editorPlugins.preview.selectors.getPreviewMode,p=function(e,t,a){e.preview.togglePreview();var i=e.components.get.byId(t,a);e.selection.selectComponentByCompRef(i);var n={selectedComponent:e.selection.getSelectedComponents(),origCompId:t};e.panelManager.openPanel("tpa.compPanels.tpaSettings",n)};return{openHelp:function(t,e){t.preview.togglePreview();var a=t.dsRead.tpa.app.getFirstAppCompPageId(e.data),i=t.components.get.byId(a.compId,a.pageId);t.selection.selectComponentByCompRef(i);var n=t.selection.getSelectedComponentData(),s=t.dsRead.tpa.app.getData(n.applicationId);o.getHelpId(t,s.appDefinitionId,n.widgetId,o.HELP_END_POINTS.WIDGET).then(function(e){t.panelManager.openHelpCenter(e,{origin:"preview",component:"TPAWidget",learn_more:!1},{panel_name:"preview",origin:"preview"})})},getViewMode:function(e,t,a){var i=e.store.getState();return a(r(i)?"preview":"editor")},openSettingsDialog:function(e,t){var a=e.store.getState();if(e.isDesktopEditor()&&r(a)){var i=t.data.pageId,n=t.data.compId,s=[e.dsRead.pages.getFocusedPageId()];e.dsRead.pages.popupPages.isPopupOpened()||s.push(e.pages.getMasterPageId()),l.includes(s,i)?p(e,n,i):e.pages.navigateTo(i,p.bind(void 0,e,n,i))}},deselectComponent:function(e){e.selection.deselectComponents()},editorAddApplication:function(o,r,p){var d=l.get(r,"data.appDefinitionId");g.isAppInstalled(o,d,!0)?p({error:"Application already installed."}):o.isMobileEditor()?p({error:"Can't add application in mobile editor."}):o.dsRead.tpa.appMarket.getDataAsync(d).then(function(e){if(e&&!e.error){var t="Wix"===e.by;if(t){var a=e.hasSection?c.APP.TYPE.SECTION:c.APP.TYPE.WIDGET;a=d===u.superAppsConstants.BLOG_APP_DEF_ID?c.APP.TYPE.APP_PART:a;var i=c.BI.initiator.SDK,n={shouldNavigate:l.get(r,"data.shouldNavigate",!1),pageId:l.get(r,"data.pageId"),showPageAddedPanel:l.get(r,"data.showPageAddedPanel",!1)};g.addApp(o,d,e.name,null,a,i,!t,{adding_method:"sdk"},n,function(e){p(l.pick(e,["instanceId"]))})}else{var s=o.dsRead.tpa.appMarket.getPermissionsUrl({appName:l.get(e,"slug")},d);m.openAppMarketModal(o.panelManager.openPanel,"appMarketPermissionsModal",{url:s}),p()}}else p({error:"Application with "+d+" appDefinitionId do not exist."})})},editorIsApplicationInstalled:function(e,t,a){var i=l.get(t,"data.appDefinitionId");a(g.isAppInstalled(e,i,!0))},onReady:function(e,t,a){e.registerInitUserPrefsCallback(a)}}}),define("tpa/services/tpaPreviewPostMessageService",["lodash","tpa/handlers/editorTPAPreviewHandlers","tpa/common/editorTPAPostMessageCommon"],function(e,i,n){"use strict";var t=function(e,t){var a=void 0;try{t.data?a=JSON.parse(t.data):t.originalEvent&&t.originalEvent.data&&(t=t.originalEvent,a=JSON.parse(t.data))}catch(e){return}a&&r(a)&&Boolean(i[a.type])&&s(e,a,o(t.source,a))},s=function(e,t,a){i[t.type].call(this,e,t,a)},o=function(a,i){return function(e){var t={intent:"TPA_PREVIEW_RESPONSE",callId:i.callId,type:i.type,res:e,status:!0};n.callPostMessage(a,t)}},r=function(e){return"TPA_PREVIEW"===e.intent};return{init:function(e){window.addEventListener("message",t.bind(this,e),!1)}}}),define("tpa/settings/settings",["lodash","experiment","coreUtilsLib"],function(h,y,s){"use strict";var r=426,p={en:22,da:18,sv:18,es:18,tr:10,pl:10,no:10,it:10,fr:10,de:10,ru:10,ja:0,pt:0,nl:0,ko:0};function f(e,t){var a,i,n,s,o=(a=t,h.has(a,"settings.languages")?a.settings.languages:[]);return n=e,s=o,i=h.includes(s,n)?e:"en",r-h.get(p,i,0)}function o(e,t,a,i,n){var s,o,r,p,d,l,c,g=h.find(t.widgets,{widgetId:n}),m=(r=e,p=n,d=h.get(r,["widgets",p,"settings"]),l=1!==h.get(d,"version"),c=h.get(d,"urlV2",!1),l&&c&&(s=d,o=p,!h.get(s,"abTest")||y.isOpen("se_"+o.replace(/-/g,"_")))),u=m?f(a.dsRead.generalInfo.getLanguage(),g):e.settingsWidth;P(a,i,{width:u,isNewVersion:m})}var P=function(e,t,a){var i="tpa.compPanels.tpaSettings";if(!d(i,e.panelManager)){var n=h.merge({selectedComponent:t,origCompId:e.selection.getSelectedComponentId()},a);e.panelManager.openPanel(i,n)}},d=function(e,t){var a=t.getOpenPanels();return h.find(a,{name:e})};return{open:function(t,a){a=a||t.selection.getSelectedComponents();var i=t.components.data.get(a),n=t.dsRead.tpa.app.getData(i.applicationId),e=n.appDefinitionId;e?t.dsRead.tpa.appMarket.getDataAsync(e,{verticalsPremium:!0}).then(function(e){o(n,e,t,a,i.widgetId)}).catch(function(e){s.log.error(e)}):P(t,a)}}}),define("tpa/services/navigateAndOpenAppService",["lodash","util","tpa/appMarket/services/appMarketTabService","tpa/settings/settings","blog","constants","stateManagement"],function(n,s,o,i,r,p,d){"use strict";var l=d.editorPlugins.preview.selectors.getPreviewMode,c="61f33d50-3002-4882-ae86-d319c1a249ab",g={},m=function(e,t){var a=h(e,t);a&&i.open(e,a)},u=function(e,t){var a;t===c?((a=e).store.dispatch(d.editorPlugins.leftBar.actions.collapseMenu()),a.panelManager.openPanel(p.SUPER_APPS.BLOG_PANEL_NAME,{})):m(e,t)},h=function(e,t){var a=e.dsRead.tpa.app.getFirstAppCompPageId(t,!0);if(a){var i=e.components.get.byId(a.compId,a.pageId);return e.selection.selectComponentByCompRef(i),i}return null};return g.handleIfComingFromETPA=function(e){var t=s.url.getParameterByName("etpa"),a=s.url.getParameterByName("appMarketParams");if(t?e.dsRead.tpa.app.getFirstAppCompPageId(t):void 0){var i="settings"===(s.url.getParameterByName("etpaMode")||"settings")?u:h;g.navigateAndScrollToComp(e,t,n.partial(i,e,t))}else(t||a)&&o.openAppMarketTab({urlParams:{openAppDefId:t,appMarketParams:a,openMarketOrigin:s.url.getParameterByName("referral_info")}},e.panelManager.openPanel)},g.navigateAndScrollToComp=function(e,t,a){var i,n,s,o=void 0;(o=t===c?{pageId:r.getBlogPageId(e),compId:void 0}:e.dsRead.tpa.app.getFirstAppCompPageId(t,!0))&&(i=e,s=function(){e.pages.scrollToComponent(o.compId,{onComplete:a,onUpdate:function(e){var t=e.store.getState();l(t)||(e.shouldUpdateEditorScrollAfterHeightUpdate=!0,e.applyPreviewScrollToEditorScroll())}.bind(null,e)})},(n=o).pageId===i.pages.getMasterPageId()||n.pageId===i.dsRead.pages.getFocusedPageId()?s():i.pages.navigateTo(n.pageId,s))},g.navigateAndOpenSettingsForAppDefId=function(e,t){g.navigateAndScrollToComp(e,t,n.partial(u,e,t))},g.openSettingsPanel=function(e,t){m(e,t)},g}),define("tpa/componentsData/addCompKeyToCompTypeMap",[],function(){"use strict";var t={addAccordion:"tpa.viewer.components.Accordion",addAdminLoginButton:"wysiwyg.viewer.components.AdminLoginButton",addAudioPlayer:"wysiwyg.viewer.components.AudioPlayer",addBgImageStrip:"wysiwyg.viewer.components.BgImageStrip",addCollage:"tpa.viewer.components.Collage",addContactForm:"wysiwyg.viewer.components.ContactForm",addDocumentMedia:"wysiwyg.viewer.components.documentmedia.DocumentMedia",addFacebookComment:"wysiwyg.viewer.components.WFacebookComment",addFacebookLike:"wysiwyg.viewer.components.WFacebookLike",addDisqusComment:"wysiwyg.common.components.disquscomments.viewer.DisqusComments",addFacebookShare:"wysiwyg.viewer.components.FacebookShare",addFlashComponent:"wysiwyg.viewer.components.FlashComponent",addFreestyle:"tpa.viewer.components.Freestyle",addGoogleMap:"wysiwyg.viewer.components.GoogleMap",addGooglePlusOne:"wysiwyg.viewer.components.WGooglePlusOne",addHtmlComponent:"wysiwyg.viewer.components.HtmlComponent",addHoneycomb:"tpa.viewer.components.Honeycomb",addImpress:"tpa.viewer.components.Impress",addItunesButton:"wysiwyg.viewer.components.ItunesButton",addLoginButton:"wysiwyg.viewer.components.LoginButton",addMasonry:"tpa.viewer.components.Masonry",addMatrixGallery:"wysiwyg.viewer.components.MatrixGallery",addPaginatedGridGallery:"wysiwyg.viewer.components.PaginatedGridGallery",addPayPalButton:"wysiwyg.viewer.components.PayPalButton",addPinterestFollow:"wysiwyg.viewer.components.PinterestFollow",addSliderGallery:"wysiwyg.viewer.components.SliderGallery",addSlideShowGallery:"wysiwyg.viewer.components.SlideShowGallery",addSocialBar:"wysiwyg.viewer.components.LinkBar",addSoundCloud:"wysiwyg.viewer.components.SoundCloudWidget",addStripShowcase:"tpa.viewer.components.StripShowcase",addStripSlideshow:"tpa.viewer.components.StripSlideshow",addSvgShape:"wysiwyg.viewer.components.svgshape.SvgShape",addThumbnails:"tpa.viewer.components.Thumbnails",addTPA3DCarousel:"wysiwyg.viewer.components.tpapps.TPA3DCarousel",addTPA3DGallery:"wysiwyg.viewer.components.tpapps.TPA3DGallery",addTwitterFollow:"wysiwyg.viewer.components.WTwitterFollow",addTwitterTweet:"wysiwyg.viewer.components.WTwitterTweet",addVideo:"wysiwyg.viewer.components.Video",addVKShare:"wysiwyg.viewer.components.VKShareButton"};return{getCompType:function(e){return t[e]||e}}}),define("tpa/componentsData/componentsDefaultData.json",[],function(){return{"wysiwyg.viewer.components.tpapps.TPA3DCarousel":{layout:{width:803,height:272},componentType:"wysiwyg.viewer.components.tpapps.TPA3DCarousel",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"SlideShowGalleryProperties",metaData:{schemaVersion:"1.0"},expandEnabled:!0,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",imageMode:"clipImage",transition:"swipeHorizontal",autoplayInterval:5,autoplay:!1,transDuration:1,bidirectional:!0,reverse:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0,showExpand:!1,showSocial:!1},style:"tfc1"},"wysiwyg.viewer.components.tpapps.TPA3DGallery":{layout:{width:790,height:237},componentType:"wysiwyg.viewer.components.tpapps.TPA3DGallery",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525,alt:""}]},props:{type:"SlideShowGalleryProperties",metaData:{schemaVersion:"1.0"},expandEnabled:!0,galleryImageOnClickAction:"disabled",goToLinkText:"Go to link",imageMode:"clipImage",transition:"swipeHorizontal",autoplayInterval:5,autoplay:!1,transDuration:1,bidirectional:!0,reverse:!1,showAutoplay:!0,showNavigation:!0,showCounter:!0,showExpand:!1,showSocial:!1},style:"tfg1"},"tpa.viewer.components.Accordion":{layout:{width:473,height:270},componentType:"tpa.viewer.components.Accordion",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"AccordionProperties",metaData:{schemaVersion:"1.0"},font:"arial",descFont:"arial",alignText:"left",textMode:"titleOnly",galleryImageOnClickAction:"zoomMode",borderWidth:0,textColor:"#2F2E2E",alphaTextColor:"1",descriptionColor:"#605E5E",alphaDescriptionColor:"1",textBackgroundColor:"#FFFFFF",alphaTextBackgroundColor:"0.8",borderColor:"#FFFFFF",alphaBorderColor:"1"},style:{componentClassName:"tpa.viewer.components.Accordion",pageId:"",compId:"i6rzx2vz",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_15",color2:"color_14",color3:"color_11",color4:"color_11",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.8"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAAccordionSkin"}},"wysiwyg.viewer.components.AdminLoginButton":{layout:{width:125,height:20},componentType:"wysiwyg.viewer.components.AdminLoginButton",data:{type:"LinkableButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},label:"Webmaster Login"},props:{type:"ButtonProperties",metaData:{schemaVersion:"1.0"},align:"center",margin:0},style:"admb0"},"wysiwyg.viewer.components.PaginatedGridGallery":{layout:{width:273,height:204},componentType:"wysiwyg.viewer.components.PaginatedGridGallery",style:"pagg1"},"wysiwyg.viewer.components.AudioPlayer":{layout:{width:42,height:40},componentType:"wysiwyg.viewer.components.AudioPlayer",style:"ap1"},"tpa.viewer.components.Collage":{layout:{width:631,height:846},componentType:"tpa.viewer.components.Collage",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Almond Tree Flowers",uri:"7b45bb77d4727e68f365c65043b64a97.jpg",description:"Describe your image here",width:800,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Autumn Leaves",uri:"acd902b0f9d63e266ef47931afefa885.jpg",description:"Describe your image here",width:1e3,height:673},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Berry Branches",uri:"905004d09ba3b477e9ea48cb2d33ceac.jpg",description:"Describe your image here",width:2294,height:1524},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dramatic Dew Drops",uri:"e216a94ff6d1a540dc14ee2f4beda3be.jpg",description:"Describe your image here",width:800,height:1067},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Echinacea Coneflowers",uri:"dfb23621c1d676831ce35d50b279d1be.jpg",description:"Describe your image here",width:555,height:580},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fresh Herbs Close Up",uri:"9f5b9d38ec87d4d03d8ee8159af4d307.jpg",description:"Describe your image here",width:600,height:900},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lush Plants",uri:"7b181c91a72e6c368bb017f85b2f25f4.jpg",description:"Describe your image here",width:1e3,height:1500},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Open Field",uri:"dfcee47a2e2936abb046c3fa6c603ed2.jpg",description:"Describe your image here",width:700,height:814},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Raindrops on Window",uri:"e5433a67390ddeb83e13ebda5ddade7d.jpg",description:"Describe your image here",width:532,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tropical Berries Close Up",uri:"e6ab3aad737f5a6e8ddbe92567e164e5.jpg",description:"Describe your image here",width:803,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Stalks of Wheat",uri:"d30a81385011babaecf69c166c78ca8a.jpg",description:"Describe your image here",width:750,height:1e3}]},props:{type:"CollageProperties",metaData:{schemaVersion:"1.0"},font:"arial",alignText:"center",textMode:"titleOnly",galleryImageOnClickAction:"zoomMode",minImageSize:1,maxImageSize:3,margin:5,fitToScreenWidth:!1,showNavButtons:!0,orientation:"vertical",layoutSeed:50,numOfCells:5,textColor:"#2F2E2E",alphaTextColor:"1",descriptionColor:"#605E5E",alphaDescriptionColor:"1",backgroundMouseoverColor:"#FFFFFF",alphaBackgroundMouseoverColor:"0.7"},style:{componentClassName:"tpa.viewer.components.Collage",pageId:"",compId:"i6rzzs7n",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_15",color2:"color_14",color3:"color_11",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.7"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPACollageSkin"}},"wysiwyg.viewer.components.documentmedia.DocumentMedia":{layout:{width:70,height:90},componentType:"wysiwyg.viewer.components.documentmedia.DocumentMedia",data:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Document Title",uri:"https://static.parastorage.com/services/skins/2.1144.0/images/wysiwyg/core/themes/editor_web/add_image_thumb.png",width:0,height:0,alt:"",link:{type:"DocumentLink"}},props:{type:"DocumentMediaProperties",metaData:{schemaVersion:"1.0"},showTitle:!0},style:"dm1"},"wysiwyg.viewer.components.WFacebookComment":{layout:{width:555,height:116},componentType:"wysiwyg.viewer.components.WFacebookComment",props:{type:"WFacebookCommentProperties",metaData:{schemaVersion:"1.0"},numPosts:2,width:555,colorScheme:"light",canBeShownOnAllPagesBug:!0},data:{type:"WFacebookComment",urlFormat:"hashBang"},style:"fbc1"},"wysiwyg.common.components.disquscomments.viewer.DisqusComments":{type:"Component",skin:"wysiwyg.common.components.disquscomments.viewer.skins.DisqusCommentsSkin",layout:{width:500,height:325,x:0,y:1,scale:1,rotationInDegrees:0},componentType:"wysiwyg.common.components.disquscomments.viewer.DisqusComments",data:{type:"DisqusComments",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},disqusId:""},style:"disq2"},"wysiwyg.viewer.components.FacebookShare":{layout:{width:71,height:30,rotationInDegrees:0,scale:1,fixedPosition:!1},componentType:"wysiwyg.viewer.components.FacebookShare",data:{type:"FacebookShareButton",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},urlChoice:"Current page",urlFormat:"hashBang",label:"Share"},skin:"skins.viewer.facebookshare.FacebookShareSkin",style:"fs1"},"wysiwyg.viewer.components.WFacebookLike":{layout:{width:250,height:40},data:{type:"WFacebookLike",urlFormat:"hashBang"},componentType:"wysiwyg.viewer.components.WFacebookLike",style:"fbl1"},"wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox":{layout:{width:280,height:575},componentType:"wysiwyg.common.components.facebooklikebox.viewer.FacebookLikeBox",data:{type:"FacebookLikeBox",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},facebookPageId:"wix",colorScheme:"light",showFaces:!0,showStream:!0,showBorder:!0,showHeader:!0},props:{type:"FacebookLikeBoxProperties",metaData:{schemaVersion:"1.0"},transparentBg:!1},style:"FacebookLikeBox_1"},"wysiwyg.viewer.components.FlashComponent":{layout:{width:128,height:128},componentType:"wysiwyg.viewer.components.FlashComponent",data:{type:"LinkableFlashComponent",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:"",placeHolderImage:{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Default Flash",uri:"7ff659c252dfd1ca5c76533695cb9611.wix_mp",description:"Some description here",width:128,height:128,alt:""}},props:{type:"FlashComponentProperties",metaData:{schemaVersion:"1.0"},displayMode:"original"},style:"swf1"},"tpa.viewer.components.Freestyle":{layout:{width:602,height:600},componentType:"tpa.viewer.components.Freestyle",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"FreestyleProperties",metaData:{schemaVersion:"1.0"},galleryImageOnClickAction:"zoomMode",layoutSeed:50,cropAndFitStage:"fit",imageDecoration:"none",borderWidth:3,orientation:"horizontal",applyRotationInLayout:!0,borderColor:"#2F2E2E",alphaBorderColor:"1"},style:{componentClassName:"tpa.viewer.components.Freestyle",pageId:"",compId:"i6s02gma",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_15",color2:"color_15",color3:"color_15",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAFreestyleSkin"}},"wysiwyg.viewer.components.WGooglePlusOne":{layout:{width:250,height:24},componentType:"wysiwyg.viewer.components.WGooglePlusOne",style:"gp1"},"wysiwyg.viewer.components.GoogleMap":{layout:{width:500,height:400},componentType:"wysiwyg.viewer.components.GoogleMap",style:"gm1"},"wysiwyg.viewer.components.MatrixGallery":{layout:{width:675,height:712},componentType:"wysiwyg.viewer.components.MatrixGallery",style:"mg1"},"tpa.viewer.components.Honeycomb":{layout:{width:550,height:271},componentType:"tpa.viewer.components.Honeycomb",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Almond Tree Flowers",uri:"7b45bb77d4727e68f365c65043b64a97.jpg",description:"",width:800,height:594},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Autumn Leaves",uri:"acd902b0f9d63e266ef47931afefa885.jpg",description:"",width:1e3,height:673},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Berry Branches",uri:"905004d09ba3b477e9ea48cb2d33ceac.jpg",description:"",width:2294,height:1524},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Echinacea Coneflowers",uri:"dfb23621c1d676831ce35d50b279d1be.jpg",description:"",width:555,height:580},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fresh Herbs Close Up",uri:"9f5b9d38ec87d4d03d8ee8159af4d307.jpg",description:"",width:600,height:900},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lush Plants",uri:"7b181c91a72e6c368bb017f85b2f25f4.jpg",description:"",width:1e3,height:1500},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Open Field",uri:"dfcee47a2e2936abb046c3fa6c603ed2.jpg",description:"",width:700,height:814},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tropical Berries close Up",uri:"e6ab3aad737f5a6e8ddbe92567e164e5.jpg",description:"",width:803,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Stalks of Wheat",uri:"d30a81385011babaecf69c166c78ca8a.jpg",description:"",width:750,height:1e3}]},props:{type:"HoneycombProperties",metaData:{schemaVersion:"1.0"},expandEnabled:!1,galleryImageOnClickAction:"zoomMode",font:"arial",alignText:"left",textMode:"titleAndDescription",margin:1,numOfColumns:4,layoutSeed:50,rolloverAnimation:"colorOnly",imageShape:"hexagon",imageScale:"x1",textColor:"#30BDFF",alphaTextColor:"1",descriptionColor:"#FFFFFF",alphaDescriptionColor:"1",textBackgroundColor:"#2F2E2E",alphaTextBackgroundColor:"1",backgroundMouseoverColor:"#FFFFFF",alphaBackgroundMouseoverColor:"0.7",holesColor:"#FFFFFF",alphaHolesColor:"1"},style:{componentClassName:"tpa.viewer.components.Honeycomb",pageId:"",compId:"i6s04hn3",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"0.7","alpha-color5":"1",color1:"color_18",color2:"color_1",color3:"color_15",color4:"color_11",color5:"color_11",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAHoneycombSkin"}},"wysiwyg.viewer.components.HtmlComponent":{layout:{width:200,height:200},componentType:"wysiwyg.viewer.components.HtmlComponent",data:{type:"HtmlComponent",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},url:"",sourceType:"htmlEmbedded",freezeFrame:!1},style:"htco1"},"tpa.viewer.components.Impress":{layout:{width:980,height:390},componentType:"tpa.viewer.components.Impress",data:{type:"ImageList",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600,alt:""},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525,alt:""}]},props:{type:"ImpressProperties",metaData:{schemaVersion:"1.0"},font:"arial",textMode:"titleAndDescription",alignText:"left",autoplayInterval:5,autoplay:!1,galleryImageOnClickAction:"zoomMode",cropAndFitStage:"crop",transition:"random",showPagination:!0,bcgColor1:"#A0A09F",alphaBcgColor1:"1",bcgColor2:"#30BDFF",alphaBcgColor2:"1",bcgColor3:"#41BAAE",alphaBcgColor3:"1",bcgColor4:"#DE5021",alphaBcgColor4:"1",bcgColor5:"#DEC328",alphaBcgColor5:"1",textColor:"#BAE9FF",alphaTextColor:"1",descriptionColor:"#FFFFFF",alphaDescriptionColor:"1",textBackgroundColor:"#605E5E",alphaTextBackgroundColor:"1"},style:{componentClassName:"tpa.viewer.components.Impress",pageId:"",compId:"i6s05c77",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1","alpha-color6":"1","alpha-color7":"1","alpha-color8":"1",color1:"color_13",color2:"color_18",color3:"color_23",color4:"color_28",color5:"color_33",color6:"color_16",color7:"color_1",color8:"color_14","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",color6:"theme",color7:"theme",color8:"theme"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAImpressSkin"}},"wysiwyg.viewer.components.ItunesButton":{layout:{width:110,height:40},componentType:"wysiwyg.viewer.components.ItunesButton",data:{type:"ItunesButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},downloadUrl:""},props:{type:"ItunesButtonProperties",metaData:{schemaVersion:"1.0"},language:"en",openIn:"_blank"},style:"ib1"},"tpa.viewer.components.Masonry":{layout:{width:980,height:1450},componentType:"tpa.viewer.components.Masonry",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"0bfb60ff6550b68a849ada091f254158.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.",width:800,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"d5281560853f147420a877b24be7daec.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.    When your visitors click on me I can expand or link to anywhere you choose.",width:800,height:536},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray Of Light",uri:"84b2ba7d33c6c76e0976354bfeb53223.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:800,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil Forest",uri:"0560932b578ed39cc5ff0d4f9b257496.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.",width:800,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom ",uri:"c18ef262eff1988801adc0c6cd9f69c2.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.    When your visitors click on me I can expand or link to anywhere you choose.",width:800,height:511},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"ae505cb9630a240ff39bd7e3a6a30e5b.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"bab38d8e951657c1122c9ef971e512b3.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.",width:800,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"bbb19657224f3880b7af258ffe1329ec.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.  I'm a great way to display many images along with text to describe them.    When your visitors click on me I can expand or link to anywhere you choose.",width:800,height:532},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"e216a94ff6d1a540dc14ee2f4beda3be.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:800,height:1067}]},props:{type:"MasonryProperties",metaData:{schemaVersion:"1.0"},font:"arial",galleryImageOnClickAction:"zoomMode",numCols:3,margin:25,textMode:"titleAndDescription",alignText:"left",boxShadowIsOn:!0,boxShadow:"0 1px 3px 0 rgba(0,0,0,0.33)",textColor:"#000000",alphaTextColor:"1",descriptionColor:"#000000",alphaDescriptionColor:"1",textBackgroundColor:"#ffffff",alphaTextBackgroundColor:"1",backgroundMouseoverColor:"#000000",alphaBackgroundMouseoverColor:"0.4",textButtonColor:"#2F2E2E",alphaTextButtonColor:"1"},style:{componentClassName:"tpa.viewer.components.Masonry",pageId:"",compId:"i6s06d18",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"0.4","alpha-color5":"1",color1:"#000000",color2:"#000000",color3:"#ffffff",color4:"#000000",color5:"color_15",version:"2","alpha-color1":"1","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"value",color2:"value",color3:"value",color4:"value",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAMasonrySkin"}},"wysiwyg.viewer.components.LoginButton":{layout:{width:190,height:46},componentType:"wysiwyg.viewer.components.LoginButton",data:{type:"LoginButton",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},language:"en"},style:"lgn0"},"wysiwyg.viewer.components.PayPalButton":{layout:{width:170,height:47},componentType:"wysiwyg.viewer.components.PayPalButton",data:{type:"PayPalButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},merchantID:""},props:{type:"PayPalButtonProperties",metaData:{schemaVersion:"1.0"},buttonType:"buy",itemName:"",itemID:"",organizationName:"",organizationID:"",amount:"",currencyCode:"USD",target:"_blank",showCreditCards:!0,smallButton:!1},style:"ppb0"},"wysiwyg.viewer.components.PinterestFollow":{layout:{width:40,height:20},componentType:"wysiwyg.viewer.components.PinterestFollow",data:{type:"PinterestFollow",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},urlChoice:"www.pinterest.com/wixcom/",label:"Pinterest"},style:"pf1"},"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt":{layout:{width:40,height:20},componentType:"wysiwyg.common.components.pinterestpinit.viewer.PinterestPinIt",data:{type:"PinterestPinIt",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:"",urlFormat:"hashBang",description:"Check it out!"},props:{type:"PinterestPinItProperties",metaData:{schemaVersion:"1.0"},size:"small",color:"gray",counterPosition:"none"},style:"PinterestPinIt_1"},"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget":{layout:{width:237,height:377,x:385,y:6358},componentType:"wysiwyg.common.components.pinitpinwidget.viewer.PinItPinWidget",data:{type:"PinItPinWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},pinId:"https://www.pinterest.com/pin/204421270569913516/"},style:"PinItPinWidget_1"},"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer":{layout:{width:280,height:68},componentType:"wysiwyg.common.components.singleaudioplayer.viewer.SingleAudioPlayer",style:"SingleAudioPlayer_1"},"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton":{layout:{width:56,height:24},componentType:"wysiwyg.common.components.skypecallbutton.viewer.SkypeCallButton",data:{type:"SkypeCallButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},skypeName:"",buttonType:"call"},props:{type:"SkypeCallButtonProperties",metaData:{schemaVersion:"1.0"},imageSize:"medium",imageColor:"blue"},style:"SkypeCallButton_1"},"wysiwyg.viewer.components.SliderGallery":{layout:{width:480,height:160},componentType:"wysiwyg.viewer.components.SliderGallery",style:"sg1"},"wysiwyg.viewer.components.SlideShowGallery":{layout:{width:480,height:360},componentType:"wysiwyg.viewer.components.SlideShowGallery",style:"ssg1"},"wysiwyg.viewer.components.LinkBar":{layout:{width:105,height:30},componentType:"wysiwyg.viewer.components.LinkBar",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Wix Facebook page",uri:"b1cd13f9d4dfb1450bbb325285106177.png",width:128,height:128,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"https://www.facebook.com/wix",target:"_blank"}},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Wix Twitter page",uri:"01113281ebb7dfb57a8dc2a02eb1cb92.png",width:128,height:128,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"http://www.twitter.com/wix",target:"_blank"}},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Wix Google+ page",uri:"806f5f56d9a7b8849f2f2ea71ff5c0cc.png",width:128,height:128,alt:"",link:{type:"ExternalLink",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},url:"https://plus.google.com/117167403531518744294/posts",target:"_blank"}}]},props:{type:"LinkBarProperties",metaData:{schemaVersion:"1.0"},gallery:"social_icons",iconSize:30,spacing:5,bgScale:1,orientation:"HORIZ"},style:"lb1"},"wysiwyg.viewer.components.SoundCloudWidget":{layout:{width:482,height:171},componentType:"wysiwyg.viewer.components.SoundCloudWidget",data:{type:"SoundCloudWidget",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},url:"",showArtWork:!0,autoPlay:!1},style:"scw1"},"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow":{layout:{width:300,height:56},componentType:"wysiwyg.common.components.spotifyfollow.viewer.SpotifyFollow",data:{type:"SpotifyFollow",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:""},props:{type:"SpotifyFollowProperties",metaData:{schemaVersion:"1.0"},size:"large",theme:"light",showFollowersCount:!0},style:"SpotifyFollow_1"},"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer":{layout:{width:250,height:82},componentType:"wysiwyg.common.components.spotifyplayer.viewer.SpotifyPlayer",data:{type:"SpotifyPlayer",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},uri:""},props:{type:"SpotifyPlayerProperties",metaData:{schemaVersion:"1.0"},size:"compact",color:"black",style:"list"},style:"SpotifyPlayer_1"},"tpa.viewer.components.StripShowcase":{layout:{width:500,height:500},componentType:"tpa.viewer.components.StripShowcase",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Almond Tree Flowers",uri:"7b45bb77d4727e68f365c65043b64a97.jpg",description:"Describe your image here",width:800,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Autumn Leaves",uri:"acd902b0f9d63e266ef47931afefa885.jpg",description:"Describe your image here",width:1e3,height:673},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Berry Branches",uri:"905004d09ba3b477e9ea48cb2d33ceac.jpg",description:"Describe your image here",width:2294,height:1524},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dramatic Dew Drops",uri:"e216a94ff6d1a540dc14ee2f4beda3be.jpg",description:"Describe your image here",width:800,height:1067},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Echinacea Coneflowers",uri:"dfb23621c1d676831ce35d50b279d1be.jpg",description:"Describe your image here",width:555,height:580},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fresh Herbs Close Up",uri:"9f5b9d38ec87d4d03d8ee8159af4d307.jpg",description:"Describe your image here",width:600,height:900},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lush Plants",uri:"7b181c91a72e6c368bb017f85b2f25f4.jpg",description:"Describe your image here",width:1e3,height:1500},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Open Field",uri:"dfcee47a2e2936abb046c3fa6c603ed2.jpg",description:"Describe your image here",width:700,height:814},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Raindrops on Window",uri:"e5433a67390ddeb83e13ebda5ddade7d.jpg",description:"Describe your image here",width:532,height:800},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tropical Berries Close Up",uri:"e6ab3aad737f5a6e8ddbe92567e164e5.jpg",description:"Describe your image here",width:803,height:1e3},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Stalks of Wheat",uri:"d30a81385011babaecf69c166c78ca8a.jpg",description:"Describe your image here",width:750,height:1e3}]},props:{type:"StripShowcaseProperties",metaData:{schemaVersion:"1.0"},galleryImageOnClickAction:"disabled",cropAndFitStage:"fit",imageScale:"4:3",imageMargin:5,showThumbnails:!0,thumbsScale:"4:3",thumbsMargin:5,autoplay:!1,autoplayInterval:5,arrowMode:!1},style:{componentClassName:"tpa.viewer.components.StripShowcase",pageId:"",compId:"i6s28d55",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_1",color2:"color_15",color3:"color_15",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"0.5","alpha-color2":"1","alpha-color3":"1"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAStripShowcaseSkin"}},"tpa.viewer.components.StripSlideshow":{layout:{width:500,height:500},componentType:"tpa.viewer.components.StripSlideshow",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"27f904ad057a38ab22a806fba8051170.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"632212ab58f9280a24539800cf453443.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"f1aba941244eda43f8ed7116ab2a98d4.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lily Pond",uri:"60562c9106f4ca8ba07bb4d430935993.jpg",description:"Describe your image here.  Click me and then 'Organize Images' to change my text.",width:2560,height:600}]},props:{type:"StripSlideshowProperties",metaData:{schemaVersion:"1.0"},font:"arial",textMode:"titleAndDescription",alignText:"left",autoplayInterval:5,autoplay:!1,transDuration:1,transition:"scroll",titleColor:"#30BDFF",alphaTitleColor:"1",descriptionColor:"#2F2E2E",alphaDescriptionColor:"1",backgroundColor:"#FFFFFF",alphaBackgroundColor:"0.75"},style:{componentClassName:"tpa.viewer.components.StripSlideshow",pageId:"",compId:"i6s2b7bp",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_18",color2:"color_15",color3:"color_11",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.75"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAStripSlideshowSkin"}},"tpa.viewer.components.Thumbnails":{layout:{width:980,height:500},componentType:"tpa.viewer.components.Thumbnails",data:{type:"ImageList",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},items:[{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Water Droplets",uri:"cd6a81b7d29d88425609ecc053a00d16.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Budding Tree",uri:"44dab8ba8e2b5ec71d897466745a1623.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Fallen Apples",uri:"8dfce587e3f99f17bba2d3346fea7a8d.jpg",description:"Describe your image here",width:758,height:569},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Cherry Blossom",uri:"3dcc6f56be1f8507181d0197e52d09e8.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Ray of Light",uri:"8fed9ef13904fb85b6b12092c269a465.jpg",description:"Describe your image here",width:750,height:563},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Bloom",uri:"24bba47f40f8473a534ae0301bf748c9.jpg",description:"Describe your image here",width:1e3,height:750},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Dew",uri:"8dde68848c4daae3a6905dc6a17d270e.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Tranquil forest",uri:"568544c06dafc9d2ab6f4f4496e7d7b9.jpg",description:"Describe your image here",width:800,height:600},{type:"Image",metaData:{isPreset:!1,schemaVersion:"2.0",isHidden:!1},title:"Lilly Pond",uri:"a3ae91861f93fde1b8917291180c5fe0.jpg",description:"Describe your image here",width:700,height:525}]},props:{type:"ThumbnailsProperties",metaData:{schemaVersion:"1.0"},font:"arial",cropAndFitStage:"crop",componentScale:"4:3",margin:5,textMode:"titleAndDescription",arrowMode:!0,alignText:"left",autoplayInterval:5,autoplay:!1,transDuration:1,transition:"crossFade",thumbnailsGravity:"bottom",galleryImageOnClickAction:"disabled",textColor:"#FFFFFF",alphaTextColor:"1",descriptionColor:"#FFFFFF",alphaDescriptionColor:"1",textBackgroundColor:"#2F2E2E",alphaTextBackgroundColor:"0.6"},style:{componentClassName:"tpa.viewer.components.Thumbnails",pageId:"",compId:"i6s2bmjp",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:{properties:{"alpha-color4":"1","alpha-color5":"1",color1:"color_11",color2:"color_11",color3:"color_15",color4:"color_15",color5:"color_15",version:"1","alpha-color1":"1","alpha-color2":"1","alpha-color3":"0.6"},propertiesSource:{color1:"theme",color2:"theme",color3:"theme",color4:"theme",color5:"theme",version:"value"},groups:{}},type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAThumbnailsSkin"}},"wysiwyg.viewer.components.WTwitterFollow":{layout:{width:183,height:22},componentType:"wysiwyg.viewer.components.WTwitterFollow",data:{type:"TwitterFollow",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},accountToFollow:"wix"},props:{type:"WTwitterFollowProperties",metaData:{schemaVersion:"1.0"},showCount:!0,width:100,dataLang:"en",showScreenName:!0},style:"tf1"},"wysiwyg.viewer.components.WTwitterTweet":{layout:{width:100,height:20},componentType:"wysiwyg.viewer.components.WTwitterTweet",data:{type:"TwitterTweet",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},defaultText:"",urlFormat:"hashBang",accountToFollow:""},style:"twt1"},"wysiwyg.viewer.components.Video":{layout:{width:480,height:360},componentType:"wysiwyg.viewer.components.Video",style:"v1"},"wysiwyg.viewer.components.VKShareButton":{layout:{width:100,height:21},componentType:"wysiwyg.viewer.components.VKShareButton",data:{type:"VKShareButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},style:"Button",urlFormat:"hashBang",text:"Share"},props:{type:"VKShareProperties",metaData:{schemaVersion:"1.0"},rightAngles:!1},style:"vks1"},"wysiwyg.viewer.components.ContactForm":{layout:{width:480,height:180},componentType:"wysiwyg.viewer.components.ContactForm",style:"cf1"},"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton":{layout:{width:212,height:55},componentType:"wysiwyg.common.components.youtubesubscribebutton.viewer.YouTubeSubscribeButton",data:{type:"YouTubeSubscribeButton",metaData:{isPreset:!0,schemaVersion:"1.0",isHidden:!1},youtubeChannelId:"wix"},props:{type:"YouTubeSubscribeButtonProperties",metaData:{schemaVersion:"1.0"},layout:"full",theme:"light"},style:"YouTubeSubscribeButton_1"}}}),define("tpa/componentsData/componentsDefaultData",["lodash","tpa/componentsData/componentsDefaultData.json"],function(t,a){"use strict";return{getComponentDefaultData:function(e){return t.cloneDeep(a[e])||{}}}}),define("tpa/componentsData/componentsDefaultDataGenerator",["lodash","zepto","constants","tpa/componentsData/addCompKeyToCompTypeMap","tpa/componentsData/componentsDefaultData"],function(m,o,r,t,a){"use strict";function u(e,t){var a,i,n,s=(i=(a=e).dsRead.siteSegments.getPagesContainer(),{x:(n=a.dsRead.siteSegments.layout.get(i)).width/2,y:o(window).scrollTop()+window.innerHeight/2-n.y-r.UI.TOPBAR_HEIGHT});return{x:s.x-t.width/2,y:s.y-t.height/2}}return{getComponentDefinition:function(l,e){var c=t.getCompType(e.compType),g=a.getComponentDefaultData(c);return new Promise(function(d){require(["addPanelInfra"],function(e){var t,a,i,n,s,o,r=e.componentsDefaultData.getComponentDefault(c);r&&(g.layout=(n=r,s=g.layout,o={},m.forIn(s,function(e,t){m.includes(["width","height"],t)&&(o[t]=n?n.stageLayout?n.stageLayout[t]:n.panelLayout[t]:e)}),o),g.data=(a=(t=r)&&t.data,i=m.merge({},m.omit(a,"id"),t.stageData),(m.isEmpty(i)?null:i)||g.data),g.props=r.props||g.props);var p=u(l,g.layout);m.merge(g.layout,p),g.type="Component",d(g)})})}}}),define("tpa/appMarket/appMarketHandlers",["lodash","platform","stateManagement","tpa/appMarket/services/appMarketTabService","tpa/appMarket/utils/appMarketUtils","tpa/services/pendingAppsService","tpa/services/navigateAndOpenAppService","tpa/componentsData/componentsDefaultDataGenerator","tpa/utils/tpaUtils","tpa/constants/constants","tpa/bi/bi","tpa/services/tpaAddAppService","tpa/services/tpaAlertsService","tpa/settings/settings","tpa/packagePicker/packagePicker"],function(h,y,r,f,i,n,s,o,P,_,p,I,A,v,d){"use strict";var w=function(e){i.closeAppMarketModal(e.panelManager.closePanelByName,"appMarketPermissionsModal")},D=function(e){i.closeAppMarketModal(e.panelManager.closePanelByName,"appMarketAppModal")};return{openMarketPopup:function(e,t,a){i.openAppMarketModalWithAppDefinitionId(e.panelManager.openPanel,"appMarketAppModal",{url:t.params.url,appDefinitionId:t.params.appDefinitionId,onClose:a})},closeMarketPopup:D,openDeletePopupMessage:function(e,t){var a=h.get(t,"params.appDefinitionId"),i=function(e,t){var a=e.dsRead.tpa.app.getDataByAppDefId(t);a&&(e.dsRead.tpa.app.hasMainSection(a)?e.panelManager.openPanel("tpa.message.cannotDeleteSection",{title:"tpa_messages_oops_title",appName:a.appDefinitionName,appDefId:a.appDefinitionId},!0):e.panelManager.openPanel("tpaPanels.message.deleteTPAWidgetInstructions",{appName:a.appDefinitionName,appDefId:a.appDefinitionId},!0))}.bind(null,e,a);f.closeAppMarketTab(e.panelManager.closePanelByName),s.navigateAndScrollToComp(e,a,i)},openTPAUpgradeModal:function(e,t){var a=h.get(t,"params.appDefinitionId"),i=h.partial(d.startUpgradeFlow,e,a,!0);f.closeAppMarketTab(e.panelManager.closePanelByName),s.navigateAndScrollToComp(e,a,i)},openModal:function(e,t){i.openAppMarketModalWithAppDefinitionId(e.panelManager.openPanel,"appMarketPermissionsModal",{url:t.params.url,appDefinitionId:t.params.appDefinitionId})},closeModal:w,openAppMarketModal:function(e,t){t.params.shouldTranslateTitle=void 0!==t.params.shouldTranslateTitle&&t.params.shouldTranslateTitle,i.openAppMarketModal(e.panelManager.openPanel,"appMarketModal",t.params)},closeAppMarketModal:function(e,t){i.closeAppMarketModalById(e,t.params.id)},closeAppMarket:function(e){i.closeAppMarket(e.panelManager.closePanelByName)},openAppMarketHelp:function(e){i.openAppMarketHelp(e)},addComponentToSite:function(t,e){var a=e.params,i=a&&a.pageId||t.dsRead.pages.getFocusedPageId(),n=t.dsRead.pages.getReference(i);o.getComponentDefinition(t,a).then(function(e){t.components.add(n,e,void 0,function(e){t.selection.selectComponentByCompRef(e),t.history.add("add component from app market"),P.bi.reportAddComponentBIEvent(t,e.id,a.type,a.biData)}),f.closeAppMarketTab(t.panelManager.closePanelByName)})},getUserDetails:function(e,t,a){var i=e.dsRead.generalInfo.getUserInfo();a(i&&i.name||"")},getPendingAppsList:function(e,t,a){a(n.getPendingApps(e))},addAppToSite:function(e,t){var a,i=h.get(t,"params.appDefinitionDataObj"),n=h.get(i,"appDefinitionId"),s=t.params.widgetId,o=e.dsRead.pages.getFocusedPageId(),r=e.dsRead.tpa.app.getDataByAppDefId(n),p=t.params.biData,d=t.params.is_permissions_app;if(t.params.provision_demo_app)e.saveManager.saveInBackground(function(){v.open(e,e.selection.getSelectedComponents()),P.bi.reportTpaAddedBiEvent(e,n,s,o,null,!0,d,p,!0)},function(){A.openProvisionFailedAlert(e.panelManager.openPanel,n)});else{var l=t.params.type,c=(a=t,"ADD_PANEL"!==h.get(a,"params.biData.referral_info")?_.BI.initiator.APP_MARKET:_.BI.initiator.EDITOR),g=h.get(i,"appName"),m=h.assign({widgetId:s,showPageAddedPanel:!h.get(i,"doNotShowPageAddedPanel"),x:t.params.x,y:t.params.y,shouldNavigate:!0},t.params.appVersion?{appVersion:t.params.appVersion}:{}),u={initiator:y.constants.ORIGIN.INITIATOR.EDITOR,info:{type:y.constants.ORIGIN.TYPE.APP_MARKET}};I.addApp(e,n,g,r,l,c,d,p,m,h.noop,u)}w(e),D(e),f.closeAppMarketTab(e.panelManager.closePanelByName)},appIsInstalled:function(e,t,a){var i=h.get(t,"params.appDefinitionId"),n=h.get(t,"params.includingDemoMode");a(I.isAppInstalled(e,i,n))},removePendingApp:function(e,t){n.dismiss(e,t.params.id)},addPendingApp:function(e,t){n.add(e,t.params.id)},save:function(e,t,a){e.dsRead.generalInfo.isFirstSave()?e.saveManager.saveInBackground(function(){a({response:"success",metaSiteId:e.dsRead.generalInfo.getMetaSiteId()})},function(){A.openSaveFailedAlertForAppMarket(e),a({response:"site was not saved."})}):a({response:"success",metaSiteId:e.dsRead.generalInfo.getMetaSiteId()})},deleteApp:function(e,t,a){var i=h.get(t,"params.appDefinitionId");e.store.dispatch(r.editorPlugins.tpa.actions.deleteApp(i,{removal_method:"app_market"},a))},openApp:function(e,t){var a=h.get(t,"params.appDefinitionId");P.bi.reportBIOnAppIntent(e,p.events.APP_INTENT,a,_.BI.initiator.EDITOR,_.BI.type.OPENAPP_SETTINGS),f.closeAppMarketTab(e.panelManager.closePanelByName),s.navigateAndOpenSettingsForAppDefId(e,a)},updateApp:function(a,e){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:h.noop,t=h.get(e,"params.appDefinitionId"),n=h.get(e,"params.appVersion"),s=a.dsRead.tpa.app.getDataByAppDefId(t),o=h.get(s,"applicationId");a.panelManager.openPanel("platform.panels.appBuilderUpdateTypePanel",{onUpdate:function(e){var t={updateType:e};a.store.dispatch(r.editorPlugins.platform.actions.updateApp({applicationId:o,appVersion:n,payload:t})).then(function(e){e?i():i({error:"Error during update"})})},onCancel:function(){return i({error:"Panel was closed"})}},!0)},setAppMarketState:function(e,t){var a=h.get(t,"params.state","");i.setAppMarketSessionUserPrefs(e,{state:a})},isDevMode:function(e,t,a){a({isDevMode:P.isInDevMode()})}}}),define("tpa/appMarket/utils/appMarketPostMessageUtils",["tpa/common/editorTPAPostMessageCommon","tpa/appMarket/utils/appMarketUtils"],function(n,s){"use strict";var t={OPEN_MARKET_POPUP:"openMarketPopup",CLOSE_MARKET_POPUP:"closeMarketPopup",OPEN_MODAL:"openModal",CLOSE_MODAL:"closeModal",ADD_APP_TO_SITE:"addAppToSite",ADD_COMPONENT_TO_SITE:"addComponentToSite",GET_USER_DETAILS:"getUserDetails",GET_PENDING_APPS_LIST:"getPendingAppsList",APP_IS_INSTALLED:"appIsInstalled",REMOVE_PENDING_APP:"removePendingApp",ADD_PENDING_APP:"addPendingApp",OPEN_APP_MARKET_MODAL:"openAppMarketModal",CLOSE_APP_MARKET_MODAL:"closeAppMarketModal",CLOSE_APP_MARKET:"closeAppMarket",OPEN_APP_MARKET_HELP:"openAppMarketHelp",SAVE:"save",DELETE_APP:"deleteApp",OPEN_APP:"openApp",UPDATE_APP:"updateApp",SET_APP_MARKET_STATE:"setAppMarketState",IS_DEV_MODE:"isDevMode",OPEN_DELETE_POPUP_MESSAGE:"openDeletePopupMessage",OPEN_TPA_UPGRADE_MODAL:"openTPAUpgradeModal"},a=function(e){return t[e]};return{getMethodName:a,isAppMarketMessage:function(e){return"APP_MARKET"===e},shouldHandleMessage:function(e){return!!a(e)},sendOnOpenEvent:function(e){n.callPostMessage(e,{eventType:"ON_MARKET_OPEN"},s.getAppMarketTargetOrigin())},sendMessageToAppMarket:function(e,t,a){var i={eventType:"ON_COMMAND_RESPONSE",callerId:t,params:a};n.callPostMessage(e,i,s.getAppMarketTargetOrigin())}}}),define("tpa/appMarket/services/appMarketPostMessageService",["lodash","tpa/appMarket/appMarketHandlers","tpa/appMarket/utils/appMarketPostMessageUtils"],function(e,n,s){"use strict";var i=function(e,t,a){var i=s.getMethodName(t.cmd);n[i].apply(this,[e,t,a])},t=function(e,t){var a=void 0;try{t.data?a=JSON.parse(t.data):t.originalEvent&&t.originalEvent.data&&(t=t.originalEvent,a=JSON.parse(t.data))}catch(e){return}a&&s.isAppMarketMessage(a.intent)&&s.shouldHandleMessage(a.cmd)&&i(e,a,o(t.source,a))},o=function(t,a){return function(e){s.sendMessageToAppMarket(t,a.id,e)}};return{init:function(e){window.addEventListener("message",t.bind(this,e),!1)},callHandler:i,handleAppMarketMessage:t}}),define("tpa/services/tpaCompNameService",["lodash"],function(o){"use strict";return{getCompName:function(e,t){var a=e.components.data.get(t),i=e.dsRead.tpa.app.getData(a.applicationId),n=e.dsRead.tpa.appMarket.getData(i.appDefinitionId);if(n){var s=o.find(n.widgets,{widgetId:a.widgetId});return s?s.title:n.name}return i.appDefinitionName}}}),define("tpa/settings/compPanels/tpaSettings.rt",["react","lodash","baseUI","util","constants","panels"],function(e,t,a,i,n,s){"use strict";return function(){return e.createElement(s.frames.tpaSettingsPanelFrame,t.assign({},{className:t({"tpa-settings-panel-frame-padding":!this.state.isNewVersion,version2:this.state.isNewVersion}).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),title:this.getAppName(),width:this.state.width,height:this.state.isNewVersion?this.state.height:null,ref:"tpaSettingsFrame",top:n.UI.TOPBAR_HEIGHT+24+"px",left:"78px",onHelpClicked:this.onHelpClicked,shouldAddScroll:!this.state.isNewVersion},this.getFrameProps()),e.createElement("div",{className:t({"tpa-settings-iframe-wrapper":!0,"tpa-settings-iframe-wrapper-padding":!this.state.isNewVersion}).transform(function(e,t,a){t&&e.push(a)},[]).join(" "),style:this.getDialogStyle()},this.shouldShowPreloader()?e.createElement("div",{key:"preloader",className:"tpa-preloader"},e.createElement("div",{},e.createElement(a.preloader,{}),e.createElement("div",{className:"text"},i.translate("tpa_loading_settings"),"."))):null,this.state.overlay===this.OVERLAY_STATE.UNRESPONSIVE?e.createElement("div",{key:"unavailableMessage",className:"tpa-unresponsive"},e.createElement("header",{},e.createElement(a.symbol,{name:"alert"}),"\n                ",i.translate("tpa_oops"),"\n            "),e.createElement("div",{id:"textContainer"},e.createElement("span",{id:"text",dangerouslySetInnerHTML:{__html:this.getUnresponsiveText()}}),e.createElement("span",{id:"dismissButton",onClick:this.refs.tpaSettingsFrame.openHelpCenter},e.createElement("a",{}," ",this.getAppName()," ")),e.createElement("span",{id:"text_2",dangerouslySetInnerHTML:{__html:this.getUnresponsiveContact()}}))):null,e.createElement("iframe",{scrolling:"no",frameBorder:"0",marginHeight:"0",marginWidth:"0",className:"tpa-iframe",width:"100%",height:this.getIframeHeight(),id:"tpaSettingsFrame",src:this.state.url})))}}),define("tpa/common/withOnCloseMessage",["react","create-react-class","prop-types","core"],function(a,i,n,s){"use strict";return function(e){var t=i({mixins:[s.mixins.editorAPIMixin],displayName:"closeMessageWrapperFor-"+e.displayName,propTypes:{onClose:n.func,shouldCloseModal:n.bool,closeModalMessage:n.any,panelName:n.string.isRequired},componentWillUnmount:function(){this.props.onClose&&this.props.onClose(this.props.closeModalMessage)},componentWillReceiveProps:function(e){e.shouldCloseModal&&this.getEditorAPI().panelManager.closePanelByName(this.props.panelName)},render:function(){return a.createElement(e,this.props)}});return t._BaseClass=e,t}}),define("tpa/settings/compPanels/tpaSettings",["lodash","create-react-class","prop-types","zepto","compPanelInfra","tpa/bi/bi","util","stateManagement","tpa/utils/tpaUtils","tpa/services/tpaCompNameService","tpa/services/tpaHelpService","tpa/services/tpaAlertsService","tpa/settings/compPanels/tpaSettings.rt","tpa/constants/constants","tpa/common/withOnCloseMessage","constants"],function(r,e,t,i,a,p,n,s,o,d,l,c,g,m,u,h){"use strict";return u(e({ALIVE_TIMEOUT:2e4,STYLES_READY_SDK_VERSION:"1.64.0",OVERLAY_STATE:{PRELOADER:"preloader",UNRESPONSIVE:"unresponsive",NONE:"none"},mixins:[a.compPanelMixin],displayName:"TPASettings",propTypes:{width:t.string},getDefaultProps:function(){return{panelName:"tpa.compPanels.tpaSettings"}},getInitialState:function(){var e=this.getEditorAPI();this.selectedComponent=r.isArray(this.props.selectedComponent)?this.props.selectedComponent[0]:this.props.selectedComponent,this.data=e.components.data.get(this.selectedComponent),this.appData=e.dsRead.tpa.app.getData(this.data.applicationId),this.maxScreenHeight=i(window).height()-126;var t=!!this.props.isNewVersion;if(this.helpId="",this.appDataIsValid()){var a=this.getContentSize(t);return{url:this.appData.notProvisioned?void 0:this.getUrl(),width:this.props.width||a.width,height:a.height,overlay:this.OVERLAY_STATE.PRELOADER,isNewVersion:t}}return{width:400,height:200}},appDataIsValid:function(){return!(r.isArray(this.appData)&&0===r.size(this.appData)||r.isObject(this.appData)&&r.isEmpty(this.appData))},componentDidMount:function(){var e=this,t=this.getEditorAPI();if(this.isAppReady(this.props)||(this._appAliveTimeout=window.setTimeout(this.onAppAliveTimeoutExpires,this.ALIVE_TIMEOUT)),t.store.dispatch(s.editorPlugins.leftBar.actions.collapseMenu()),this.appDataIsValid()){if(this.appData.notProvisioned){var a=r.partial(c.openProvisionFailedAlert,t.panelManager.openPanel,this.appData.appDefinitionId);t.saveManager.saveInBackground(function(){e.reportTpaAddedBiEvent(t),e.setState({url:e.getUrl()})},a)}}else this.setState({overlay:this.OVERLAY_STATE.UNRESPONSIVE});this.panelOpenTime=this.getTime();var i={app_id:this.appData.appDefinitionId,app_site_id:this.appData.instanceId,instance_id:this.props.origCompId};t.bi.event(p.events.TPA_OPEN_SETTINGS,i)},componentWillReceiveProps:function(e){this.helpId=r.get(e,"articleId");var t=this.getEditorAPI();t.components.is.exist(this.props.selectedComponent)||t.panelManager.closePanelByName(this.props.panelName),this.isAppReady(e)&&this.setState({overlay:this.OVERLAY_STATE.NONE})},reportTpaAddedBiEvent:function(e){var t=e.dsRead.generalInfo.isFirstSave()?e.dsRead.generalInfo.getMetaSiteId():"",a={is_permissions_app:"Wix"===this.appData.by?0:1,is_first:1,app_id:this.appData.appDefinitionId,widget_id:this.data.widgetId,app_site_id:this.appData.instanceId,instance_id:this.props.origCompId,category:"",section:"",search_term:"",item_position:"",referral_info_category:"",referral_info:"",template_guid:t,modal_tab_name:"",origin:"template_provision",adding_method:"template",page_id:e.dsRead.pages.getFocusedPageId()};e.bi.event(p.events.TPA_ADDED,a)},getContentSize:function(e){var t,a,i=this.isSection()?this.appData.widgets[this.data.widgetId].settings:this.appData.sectionSettings;return{height:(t=e,a=i.height,a=parseInt(a,10),(t?Math.min(528,a):a)||0),width:parseInt(i.width,10)||0}},isSection:function(){return this.appData.widgets&&this.data.widgetId},getUrl:function(){var e=this.getEditorAPI();return e.dsRead.tpa.app.url.getSettingsUrl(this.appData.applicationId,this.data.widgetId,this.props.origCompId,{width:this.props.width,isNewVersion:this.props.isNewVersion,bi:o.bi.getAppIntentBiParamsToAddToUrl(e,this.appData.appDefinitionId,m.BI.type.GFPP_SETTINGS)})},getDialogStyle:function(){var e="100%";return this.state.isNewVersion||(e=this.state.overlay===this.OVERLAY_STATE.NONE?"100%":r.min([this.maxScreenHeight,this.state.height])),{height:e,position:"relative"}},getIframeHeight:function(){return this.state.isNewVersion?"100%":this.state.height},onAppAliveTimeoutExpires:function(){this.showUnresponsiveOverlay()},showUnresponsiveOverlay:function(){this.isAppReady(this.props)?(this.clearAliveTimeout(),this.setState({overlay:this.OVERLAY_STATE.NONE})):(this.reportBIAppNotResponsive(),this.setState({overlay:this.OVERLAY_STATE.UNRESPONSIVE}))},reportBIAppNotResponsive:function(){var e=this.getEditorAPI(),t=r.get(this.appData.widgets,this.data.widgetId),a={endpoint:r.get(t,"settings.url"),app_id:this.appData.appDefinitionId};e.dsActions.bi.error(p.errors.APP_IS_NOT_RESPONSIVE,a)},getTime:function(){return Date.now()},sendClosePanelBI:function(){var e=this.getEditorAPI(),t=this.props.origCompId,a={app_id:this.appData.appDefinitionId,app_site_id:this.appData.instanceId,instance_id:t,seconds_opened:parseInt((this.getTime()-this.panelOpenTime)/1e3,10)};e.bi.event(p.events.TPA_CLOSE_SETTINGS,a)},componentWillUnmount:function(){this.clearAliveTimeout(),this.sendClosePanelBI()},clearAliveTimeout:function(){this._appAliveTimeout&&window.clearTimeout(this._appAliveTimeout)},isAppReady:function(e){var t=r.get(e,"sdkVersion")||this.props.sdkVersion;return o.sdkVersionIsAtLeast(t,this.STYLES_READY_SDK_VERSION)?this.shouldShowSettingsPanelFromStyleReadyEvent(e):this.shouldShowSettingsPanelFromIsAliveEvent(e)},shouldShowSettingsPanelFromStyleReadyEvent:function(e){return r.get(e,"stylesReady")||!1},shouldShowSettingsPanelFromIsAliveEvent:function(e){return r.get(e,"isAlive")||!1},shouldShowPreloader:function(){return!this.isAppReady(this.props)&&this.state.overlay===this.OVERLAY_STATE.PRELOADER},onHelpClicked:function(){var t=this.getEditorAPI(),e=p.events.TPA_HELP_CLICK,a=this.data.widgetId,i={widget_id:a,app_id:this.appData.appDefinitionId,origin:"settings"},n=this.props.panelName,s={openPanelBiEvent:e,openPanelBiParams:r.merge({help_status:"open"},i),closePanelBiEvent:e,closePanelBiParams:r.merge({help_status:"close"},i),origin:"settings"},o={panel_name:n,origin:h.BI.HELP.ORIGIN.PANEL,component:t.selection.getSelectedComponentType(),learn_more:!1};this.helpId?t.panelManager.openHelpCenter(this.helpId,s,o):l.getHelpId(t,this.appData.appDefinitionId,a,l.HELP_END_POINTS.SETTINGS).then(function(e){t.panelManager.openHelpCenter(e,s,o)})},getUnresponsiveText:function(){var e=this.appData.appDefinitionName;if(e)return r.template(n.translate("tpa_unavail_problems"))({appName:e})},getAppName:function(){var e=this.getEditorAPI();return e.components.is.exist(this.props.selectedComponent)?d.getCompName(e,this.selectedComponent):""},getUnresponsiveContact:function(){if(!r.isEmpty(this.appData))return n.translate("tpa_unavail_problems_2")},render:g}))}),define("tpa/compPanels/appMarketPanel.rt",["react","lodash","panels","experiment"],function(e,t,a,i){"use strict";return function(){return e.createElement("div",{},i.isOpen("specs.market.ShowNewManageAppPage")?null:e.createElement(a.frames.leftPanelFrame,t.assign({},{panelName:this.props.panelName,label:this.translateIfNeeded("app_market_title"),className:"app-market-panel-20",panelClass:"app-market-panel-20",panelIndex:this.props.panelIndex,key:"111"},this.getPanelProps()),e.createElement("iframe",{src:this.state.appMarketUrl,className:"app-market-frame-20",frameBorder:"0",scrolling:"no"})),i.isOpen("specs.market.ShowNewManageAppPage")?e.createElement(a.frames.leftPanelFrame,t.assign({},{panelName:this.props.panelName,className:"app-market-panel-no-header",panelClass:"app-market-panel-no-header",panelIndex:this.props.panelIndex,key:"795"},this.getPanelProps()),e.createElement("iframe",{src:this.state.appMarketUrl,className:"app-market-frame-20",frameBorder:"0",scrolling:"no"})):null)}}),define("tpa/compPanels/appMarketPanel",["lodash","create-react-class","prop-types","core","util","tpa/appMarket/utils/appMarketUtils","tpa/compPanels/appMarketPanel.rt","tpa/bi/bi","helpIds"],function(i,e,t,a,n,s,o,r,p){"use strict";return e({displayName:"AppMarketPanel",propTypes:{urlParams:t.shape({openMarketOrigin:t.string.isRequired,referralInfoCategory:t.string,section:t.string,openAppDefId:t.string,appDefinitionId:t.string,categorySlug:t.string,query:t.string,tags:t.string,tests:t.string}).isRequired,helpId:t.string.isRequired},mixins:[n.translationMixin,a.mixins.editorAPIMixin],getInitialState:function(){return{appMarketUrl:(e=this.getEditorAPI(),t=this.props.urlParams,a={},"market_button"===t.openMarketOrigin&&(a=s.getAppMarketUrlParams()),i.assign(a,t),a.origin=s.origin(),a.newUrl=!0,a.state=i.get(s.getAppMarketSessionUserPrefs(e),"state",""),e.dsRead.tpa.appMarket.getUrl(a)+"&origin=editor")};var e,t,a},getDefaultProps:function(){return{panelName:"tpa.compPanels.appMarketPanel",helpId:p.EXTERNAL.APP_MARKET}},timeMarketOpened:void 0,openMarketOrigin:void 0,getTime:function(){return Date.now()},componentDidMount:function(){this.timeMarketOpened=this.getTime(),this.openMarketOrigin=this.props.urlParams&&this.props.urlParams.openMarketOrigin},componentWillUnmount:function(){var e={open_origin:this.openMarketOrigin,seconds_opened:parseInt((this.getTime()-this.timeMarketOpened)/1e3,10)};this.getEditorAPI().bi.event(r.events.MARKET_CLOSED,e)},getPanelProps:function(){return{urlParams:this.props.urlParams,onHelpClicked:this.onHelpClicked,helpId:this.props.helpId}},onHelpClicked:function(){this.getEditorAPI().bi.event(r.events.MARKET_HELP_CLICK)},render:o})}),define("tpa/compModals/appMarketAppModal.rt",["react","lodash","panels"],function(e,t,a){"use strict";return function(){return e.createElement(a.frames.focusPanelFrame,{panelName:this.props.panelName,title:this.translateIfNeeded("app_market_title"),shouldHideHelp:!0,onClose:this.onClose},e.createElement("div",{className:"app-market-app-modal-container"},e.createElement("iframe",{src:this.props.iframeUrl,width:"100%",height:"100%",frameBorder:"0"})))}}),define("tpa/compModals/appMarketAppModal",["create-react-class","prop-types","core","util","tpa/compModals/appMarketAppModal.rt"],function(e,t,a,i,n){"use strict";return e({propTypes:{onClose:t.func.isRequired},displayName:"appMarketAppModal",mixins:[i.translationMixin,a.mixins.editorAPIMixin],render:n,onClose:function(){this.getEditorAPI().panelManager.closePanelByName(this.props.panelName),this.props.onClose&&this.props.onClose()}})}),define("tpa/compModals/appMarketPermissionsModal.rt",["react","lodash","panels"],function(e,t,a){"use strict";return function(){return e.createElement(a.frames.focusPanelFrame,{panelName:this.props.panelName,title:this.getTitle(),onClose:this.onClose,shouldHideHelp:!0},e.createElement("div",{className:"app-market-permissions-modal-container"},e.createElement("iframe",{src:this.props.iframeUrl,className:"app-market-permissions-modal",width:"100%",height:"100%",frameBorder:"0"})))}}),define("tpa/compModals/appMarketPermissionsModal",["lodash","create-react-class","core","util","tpa/compModals/appMarketPermissionsModal.rt","tpa/bi/bi"],function(e,t,a,i,n,s){"use strict";return t({displayName:"appMarketPermissionsModal",mixins:[i.translationMixin,a.mixins.editorAPIMixin],onClose:function(){var e={closing_method:"X",app_id:this.props.appDefinitionId};return this.getEditorAPI().bi.event(s.events.PERMISSION_MODAL_CLOSED,e),!0},getTitle:function(){return this.translateIfNeeded("app_market_permissions_message_title")},render:n})}),define("tpa/compModals/tpaSettingsModal.rt",["react","lodash","panels","core"],function(e,t,a,i){"use strict";return function(){return e.createElement(a.frames.focusPanelFrame,{title:this.props.title,shouldHideHeader:this.shouldHideHeader(),panelName:"tpa.compModals.tpaSettingsModal",width:this.getPanelWidth(),height:this.getPanelHeight(),onHelpClicked:this.helpClicked,isBareMode:this.props.isBareMode,className:this.getClassName(),containerBackground:t.get(this.props.options,"background"),overlayBackground:t.get(this.props.options,"overlay"),shouldNotCloseOnBlur:this.props.isBareMode||this.props.shouldNotCloseOnBlur},e.createElement("iframe",{id:"settingsModalIframe",src:this.props.url,style:{width:"100%",height:"100%",border:"0px"}}))}}),define("tpa/compModals/tpaSettingsModal",["lodash","create-react-class","core","tpa/bi/bi","constants","tpa/utils/tpaUtils","tpa/common/withOnCloseMessage","tpa/compModals/tpaSettingsModal.rt"],function(p,e,t,d,l,i,a,n){"use strict";return a(e({mixins:[t.mixins.editorAPIMixin],displayName:"settingsModal",getInitialState:function(){return this.helpId="",{}},modalShouldNotHaveMargin:function(){return!1===p.get(this.props.options,"margin")},getPanelHeight:function(){var e=i.getWindow().innerHeight,t=this.parsePercentToPixel(this.props.height,e);this.props.title&&(t+=54);var a=.05*e;return this.modalShouldNotHaveMargin()&&(a=l.UI.TOPBAR_HEIGHT),this.resizeToFitContainer(t,e,a).toString()},getPanelWidth:function(){var e=i.getWindow().innerWidth,t=this.parsePercentToPixel(this.props.width,e),a=.02*e;return this.modalShouldNotHaveMargin()&&(a=0),this.resizeToFitContainer(t,e,a).toString()},getClassName:function(){var e=p.template("tpa-settings-modal<%= c %>");return this.modalShouldNotHaveMargin()?e({c:" no-margin"}):this.props.isBareMode?"tpa-settings-modal bare":e({c:""})},parsePercentToPixel:function(e,t){return p.isString(e)&&/^[0-9]+%$/.test(e)?e=t*parseInt(e.replace("%",""),10)/100:p.isNumber(e)||(e=parseInt(e.replace("px",""),10)),e},resizeToFitContainer:function(e,t,a){var i=t-a;return i<e?i:e},shouldHideHeader:function(){return this.props.isBareMode},helpClicked:function(){var e=this.getEditorAPI(),t=this.props.appDefinitionId,a=this.helpId||this.props.helpId,i=this.props.widgetId,n=d.events.TPA_HELP_CLICK,s={widget_id:i||null,app_id:t,origin:"settings_modal"},o={openPanelBiEvent:n,openPanelBiParams:p.merge({help_status:"open"},s),closePanelBiEvent:n,closePanelBiParams:p.merge({help_status:"close"},s),origin:s.origin},r={panel_name:this.props.panelName,origin:l.BI.HELP.ORIGIN.PANEL,component:e.selection.getSelectedComponentType(),learn_more:!1};e.panelManager.openHelpCenter(a,o,r)},componentWillReceiveProps:function(e){this.helpId=p.get(e,"articleId")},render:n}))}),define("tpa/compModals/appMarketModal.rt",["react","lodash","panels"],function(e,t,a){"use strict";return function(){return e.createElement(a.frames.focusPanelFrame,{panelName:this.props.panelName,title:this.getTitle(),onClose:this.onClose,shouldHideHelp:!0,width:this.props.width,height:this.props.height,shouldHideHeader:this.props.shouldHideHeader,keyboardShortcuts:this.getShortcuts()},e.createElement("div",{className:"app-market-modal-container"},e.createElement("iframe",{src:this.props.iframeUrl,width:"100%",height:"100%",frameBorder:"0"})))}}),define("tpa/compModals/appMarketModal",["create-react-class","prop-types","core","util","tpa/compModals/appMarketModal.rt"],function(e,t,a,i,n){"use strict";var s="esc";return e({propTypes:{iframeUrl:t.string.isRequired,width:t.string.isRequired,height:t.string.isRequired,id:t.string.isRequired,title:t.string,closeModalBiEvent:t.object,closeModalBiParams:t.object},displayName:"appMarketModal",mixins:[i.translationMixin,a.mixins.editorAPIMixin],render:n,getTitle:function(){if(this.props.title)return this.translateIfNeeded(this.props.title)},onClose:function(e){var t=this.getEditorAPI();if(t.panelManager.closePanelByName(this.props.panelName),this.props.onClose&&this.props.onClose(),this.props.closeModalBiEvent){var a=this.props.closeModalBiParams||{};a.closeMethod=e,t.bi.event(this.props.closeModalBiEvent,a)}},getShortcuts:function(){var e=this;return{esc:function(){e.onClose(s)}}}})}),define("tpa/panels/appImportPanel/components/listItem.rt",["react","lodash","baseUILib","util","santa-editor-symbols"],function(e,t,a,i,n){"use strict";return function(){return e.createElement("div",{className:"item-list","data-aid":this.props.automationId},e.createElement("div",{className:"label-container"},e.createElement(a.TextLabel,{className:this.getLabelClassName(),value:this.props.label,shouldTranslate:!1}),this.props.disableImport?e.createElement("div",{className:"draft",key:"draft"},i.translate("AppStudio_ImportDialog_Draft_Label")):null),e.createElement(a.Tooltip,{content:"AppStudio_ImportDialog_Edit_Tooltip",className:"edit-tooltip"},e.createElement(a.Button,{className:"edit-button",onClick:function(){this.props.onEdit()}.bind(this),automationId:"edit-button"},this.props.href?e.createElement("a",{key:"edit-link",href:this.props.href,target:this.props.target},e.createElement(n.symbol,{name:"edit_icon_small",key:"edit-symbol"})):null,this.props.href?null:e.createElement(n.symbol,{name:"edit_icon_small",key:"edit-symbol"}))),e.createElement("div",{},e.createElement(a.Tooltip,{content:"AppStudio_ImportDialog_Button_Disabled_Tooltip",disabled:!this.props.disableImport,className:"import-tooltip",customTrigger:this.state.importButton}),e.createElement("div",{ref:this.registerImportButton},e.createElement(a.Button,{className:"btn-sm primary",automationId:"import-button",onClick:function(){this.props.onImport()}.bind(this),disabled:this.props.disableImport},e.createElement(a.TextLabel,{value:"AppStudio_ImportDialog_Button"})))))}}),define("tpa/panels/appImportPanel/components/appStudioListItem.rt",["react","lodash","baseUILib","util","santa-editor-symbols"],function(e,t,a,i,n){"use strict";return function(){return e.createElement("div",{className:"item-list app-studio","data-aid":this.props.automationId},e.createElement("div",{className:"label-container"},e.createElement(a.TextLabel,{className:this.getLabelClassName(),value:this.props.label,shouldTranslate:!1})),e.createElement("div",{},e.createElement(a.Tooltip,{content:"AppStudio_ImportDialog_Edit_Tooltip"},e.createElement(a.Button,{className:"btn-sm primary",onClick:function(){this.props.onEdit()}.bind(this),automationId:"edit-button"},this.props.href?e.createElement("a",{key:"app-studio-edit-link",href:this.props.href,target:this.props.target,className:"app-studio-edit-link"},i.translate("AppStudio_OpenApp_Button")):null,this.props.href?null:e.createElement(n.symbol,{name:"edit_icon_small",key:"edit-symbol"})))))}}),define("tpa/panels/appImportPanel/components/listItem",["lodash","react","tpa/panels/appImportPanel/components/listItem.rt","tpa/panels/appImportPanel/components/appStudioListItem.rt","prop-types"],function(i,t,n,s,e){"use strict";var a=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={importButton:null},t.getLabelClassName=function(){return"label "+(t.props.disableImport?"import-disabled":"")},t.registerImportButton=function(e){i.isEqual(e,t.state.importButton)||t.setState({importButton:e})},t}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return this.props.openAppVariant?s.call(this):n.call(this)}}]),a}();return a.propTypes={automationId:e.string,disableImport:e.bool,editChildren:e.element,href:e.string,label:e.string.isRequired,onImport:e.func.isRequired,onEdit:e.func,target:e.string,openAppVariant:e.bool},a.defaultProps={disableImport:!1},a}),define("tpa/panels/appImportPanel/appImportPanel.rt",["react","lodash","panels","util","tpa/panels/appImportPanel/components/listItem","baseUILib","santa-editor-symbols"],function(a,e,t,i,n,s,o){"use strict";return function(){return a.createElement(t.frames.focusPanelFrame,{className:"app-import-panel",panelName:this.props.panelName,onClose:this.props.closePanel,helpId:"0e554b89-a1e0-4b6d-846f-4201b71b6258",title:this.getPanelTitle(),width:"474px"},a.createElement(s.CustomScroll,{},a.createElement("div",{className:"app-Import-panel-content"},this.props.isLoading&&!this.props.hasApps?a.createElement(s.Composites.Preloader,{automationId:"loading-state",key:"loading-state",height:246},a.createElement(s.Preloader,{className:"small import-loader"}),a.createElement(s.TextLabel,{className:"loading-text",value:"AppStudio_ImportDialog_Loader_Text"})):null,this.props.isNoCreatedApps?a.createElement(s.Composites.RichTextWithIllustrationVertical,{className:"no-created-apps-state",key:"no-created-apps-state"},a.createElement(s.Illustration,{},a.createElement(o.symbol,{name:"empty_no_aps_yet"})),a.createElement(s.Composites.RichText,{className:"light empty-text",type:"T07"},a.createElement(s.RichText,{},a.createElement(s.TextLabel,{value:this.getNoCreatedAppsText()}),a.createElement("br",{}),this.props.openAppVariant?null:a.createElement("a",{href:this.getNewAppStudioURL(),target:"_blank",key:"no-created-apps-text"},i.translate("AppStudio_ImportDialog_Empty_State_Link"))))):null,this.props.isEmptyState?a.createElement(s.Composites.RichTextWithIllustrationVertical,{className:"empty-state",key:"empty-state"},a.createElement(s.Illustration,{},a.createElement(o.symbol,{name:"empty_state"})),a.createElement(s.Composites.RichText,{className:"light empty-text",type:"T07"},a.createElement(s.RichText,{},a.createElement(s.TextLabel,{value:"AppStudio_ImportDialog_Empty_State_All_Apps_Added_Text"})))):null,this.props.hasApps?a.createElement.apply(this,["div",{"data-aid":"apps-state",key:"apps-state"},e.map(this.props.apps,function(e,t){return a.createElement("div",{key:e.appDefinitionId},a.createElement(n,{automationId:"app-item",label:e.appDefinitionName,onImport:function(e,t){this.onImport(e)}.bind(this,e,t),onEdit:function(e,t){this.props.closePanel()}.bind(this,e,t),href:e.href,target:"_blank",disableImport:e.disableImport,openAppVariant:this.props.openAppVariant}),a.createElement(s.Divider,{long:!0}))}.bind(this))]):null,this.props.isLoadingAppsError?a.createElement("div",{className:"error-state","data-aid":"error-state",key:"error-state"},a.createElement(o.symbol,{name:"error"}),a.createElement(s.TextLabel,{value:"AppStudio_ImportDialog_Error_Text",className:"error-message",enableEllipsis:!1})):null)))}}),define("tpa/panels/appImportPanel/appImportPanel",["react","lodash","tpa/panels/appImportPanel/appImportPanel.rt","util","stateManagement","prop-types","platform","tpa/constants/constants","tpa/services/tpaAddAppService","coreBi"],function(t,m,i,u,n,e,h,y,f,a){"use strict";var s=n.editorPlugins.platform.selectors,P=s.getIsLoadingAppsError,_=s.getIsLoading,I=s.getAvailableApps,A=s.getInstalledPackages,v=s.packagesView,o=n.editorPlugins.platform.actions.togglePackagesViewRoot,r=a.events,p=u.appStudioUtils.getNewAppStudioURL(),d=function(e){function a(e){_classCallCheck(this,a);var t=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.props.fetchAvailableApps(),t.getNewAppStudioURL=function(){return p},t.onImport=function(e){t.props.setIsImportingApp(!0),t.props.sendBi(r.platform.import_app_click,{app_id:e.appDefinitionId,appName:e.appDefinitionName}),t.props.onImport(e).then(function(){t.props.isPackagesViewExpanded||t.props.togglePackagesView()}).then(function(){t.props.setIsImportingApp(!1)}).catch(function(e){t.props.setIsImportingApp(!1),u.ravenUtils.captureError(new Error("Import App has Failed"),{tags:{data:e,appImportPanel:!0}}),t.props.openErrorPanel()}),t.props.closePanel()},t.getPanelTitle=function(){return t.props.openAppVariant?u.translate("AppStudio_OpenApp_Title"):u.translate("AppStudio_ImportDialog_Header")},t.getNoCreatedAppsText=function(){return t.props.openAppVariant?"AppStudio_OpenApp_EmptyState_Text":"AppStudio_ImportDialog_Empty_State_Text"},t}return _inherits(a,t.Component),_createClass(a,[{key:"render",value:function(){return i.call(this)}}]),a}();d.propTypes={apps:e.array.isRequired,closePanel:e.func.isRequired,fetchAvailableApps:e.func.isRequired,hasApps:e.bool,isEmptyState:e.bool,isLoading:e.bool,isLoadingAppsError:e.bool,isNoCreatedApps:e.bool,onImport:e.func.isRequired,sendBi:e.func.isRequired,openErrorPanel:e.func.isRequired,setIsImportingApp:e.func.isRequired,isPackagesViewExpanded:e.bool.isRequired,togglePackagesView:e.func.isRequired,openAppVariant:e.bool};return u.hoc.connect(u.hoc.STORES.EDITOR_API,function(e){var t=e.state,a=e.dsRead,i=e.editorAPI,n=I(t),s=A(a),o=m.differenceBy(n,s,function(e){return e.appDefinitionId}),r=_(t),p=0<o.length,d=P(t),l=0===n.length&&!r&&!d,c=!(p||r||d||l),g=v.getIsRootExpanded(t);return{apps:m(o).map(function(e){return m.assign({disableImport:m.isUndefined(e.latestVersion),href:u.appStudioUtils.createEditAppURL(e)},e)}).sortBy("appDefinitionName").value(),hasApps:p,isEmptyState:c,isLoadingAppsError:d,isLoading:r,isNoCreatedApps:l,onImport:function(e){return o=i,r=(t=e).appDefinitionId,p=t.latestVersion,new Promise(function(t,a){var e=y.APP.TYPE.PLATFORM_ONLY,i=y.BI.initiator.EDITOR,n={appVersion:p},s={initiator:h.constants.ORIGIN.INITIATOR.EDITOR,info:{type:h.constants.ORIGIN.TYPE.IMPORT_PANEL}};f.addApp(o,r,null,null,e,i,!1,{},n,function(e){return m.get(e,"success")?t(e):a(e)},s)});var o,t,r,p},isPackagesViewExpanded:g}},function(a,e){var t="tpa.panels.appImportErrorPanel",i=function(){return a(n.editorPlugins.panels.actions.closePanelByNameAction(t))};return{closePanel:function(){a(n.editorPlugins.panels.actions.closePanelByNameAction(e.panelName))},fetchAvailableApps:function(){return a(n.editorPlugins.platform.actions.fetchAvailableApps())},openErrorPanel:function(){return a(n.editorPlugins.panels.actions.updateOrOpenPanel(t,{onClose:i}))},setIsImportingApp:function(e){return a(n.platform.actions.setIsImportingApp(e))},togglePackagesView:function(){return a(o())},sendBi:function(e,t){return a(n.editorPlugins.bi.actions.event(e,t))}}})(d)}),define("tpa/panels/appImportErrorPanel.rt",["react","lodash","panels","santa-editor-symbols","baseUILib","util"],function(a,e,i,n,s,o){"use strict";return function(e,t){return a.createElement(i.frames.focusPanelFrame,{className:"app-import-error-panel",shouldHideHeader:!0,panelName:e.panelName,width:"564px"},a.createElement(s.Composites.PopupSmallSize,{className:"danger"},a.createElement(s.PanelHeader,{onClose:function(){e.onClose()}.bind(this)},a.createElement(s.TextLabel,{value:"AppStudio_Import_Error_Title"})),a.createElement(s.Composites.PanelContent,{},a.createElement(s.Composites.RichTextWithIllustration,{},a.createElement(s.Illustration,{},a.createElement(n.symbol,{name:"platformWarning"})),a.createElement(s.Composites.RichText,{},a.createElement(s.RichText,{},o.translate("AppStudio_Import_Error_Text"))))),a.createElement(s.Composites.ActionSetHorizontal,{},a.createElement(s.Button,{className:"primary",onClick:function(){e.onClose()}.bind(this),automationId:"error-ok-button"},a.createElement(s.TextLabel,{value:"AppStudio_Close_Button"})))))}}),define("tpa/panels/appImportErrorPanel",["tpa/panels/appImportErrorPanel.rt","prop-types"],function(t,e){"use strict";var a=function(e){return t(e)};return a.propTypes={onClose:e.func},a}),define("tpa/panels/updateErrorPanel/updateErrorPanel.rt",["react","lodash","panels","baseUILib","baseUI","util"],function(a,e,i,n,s,o){"use strict";return function(e,t){return a.createElement("div",{className:"update-error-panel"},a.createElement(i.frames.focusPanelFrame,{panelName:"updateError",shouldHideHeader:!0,width:"560px"},a.createElement(n.Composites.PopupSmallSize,{className:"composite-full-height"},a.createElement(n.PanelHeader,{titleType:"T16",noCloseBtn:!0,noHelpBtn:!0},a.createElement("span",{"data-aid":"header-title"},o.translate("AppStudio_Update_Error_Title"))),a.createElement(n.Composites.PanelContent,{},a.createElement(n.Composites.RichTextWithIllustration,{},a.createElement(n.Illustration,{},a.createElement(s.symbol,{name:"plaster"})),a.createElement(n.RichText,{},a.createElement("p",{},o.translate("AppStudio_Update_Error_Text"))))),a.createElement(n.Composites.ActionSetHorizontal,{},a.createElement(n.Button,{className:"primary",onClick:function(){window.location.reload(!0)}.bind(this)},a.createElement(n.TextLabel,{value:"AppStudio_Refresh_Button"}))))))}}),define("tpa/panels/updateErrorPanel/updateErrorPanel",["tpa/panels/updateErrorPanel/updateErrorPanel.rt"],function(t){"use strict";return function(e){return t(e)}}),define("tpa/superApps/superAppsCustomData",["lodash","tpaGfppData"],function(i,n){"use strict";return{getSuperAppsGfppData:function(){return n.getData()},getSuperAppsAddPanelStyles:function(e,t){var a=e+"."+t;return i.get(n.getAddPanelData(),a)}}}),define("tpa/addPanelData/addPanelAddCompService",["lodash","util","tpa/superApps/superApps","tpa/constants/constants"],function(g,m,u,o){"use strict";function h(e){return{width:g.get(e,"layout.width"),height:g.get(e,"layout.height")}}function y(e,t,a,i,n){var s={styleId:g.get(a,"style")||null,origin:n||e.dsRead.tpa.app.isInstalled(t)?o.BI.type.ADD_WIDGET:o.BI.type.ADD_APP_ADD_PANEL};return i&&(s.dontStretch=!i.isFullWidth),e.dsRead.pages.isWidgetPage(e.pages.getFocusedPageId())&&(s.parentContainerRef=e.pages.getPrimaryContainer()),s}return{addCompOnClick:function(s,o,r,p,d,l){var c=(6<arguments.length&&void 0!==arguments[6]?arguments[6]:{}).origin;return new Promise(function(n){m.fedopsLogger.interactionStarted([m.fedopsLogger.INTERACTIONS.ADD_COMP_FROM_ADD_PANEL,m.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL]),require(["addPanelInfra"],function(e){var t=h(p),a=e.addPanelUtils.calcCompPastePosition(s,p,l);g.merge(t,a);var i=y(s,o,p,d,c);i.cb=function(e){m.fedopsLogger.interactionEnded([m.fedopsLogger.INTERACTIONS.ADD_COMP_FROM_ADD_PANEL,m.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL]),n(e)},u.addWidget(o,r,t,i)})})},addCompOnDrop:function(e,t,a,i,n,s,o){var r=(7<arguments.length&&void 0!==arguments[7]?arguments[7]:{}).origin;m.fedopsLogger.interactionStarted(m.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL);var p=h(n.structure),d={x:i.x||0,y:i.y||0};g.merge(p,d);var l=y(e,t,n.structure,g.get(n,"tags"),r);return l.parentContainerRef=s,l.cb=function(e){m.fedopsLogger.interactionEnded([m.fedopsLogger.INTERACTIONS.ADD_COMP_FROM_ADD_PANEL,m.fedopsLogger.INTERACTIONS.ADD_TPA_FROM_ADD_PANEL]),g.isFunction(o)&&o(e)},u.addWidget(t,a,p,l)}}}),define("tpa/addPanelData/music/musicSection",["lodash","addPanelDataConsts","tpa/superApps/superApps","tpa/superApps/superAppsConstants","tpa/superApps/superAppsCustomData","tpa/addPanelData/addPanelAddCompService","util"],function(n,a,i,e,s,o,r){"use strict";var p=e.WIXMUSIC.APP_DEF_ID,d=e.WIXMUSIC.WIDGET,l=function(e,t,a,i,n){o.addCompOnClick(n,p,d,e,a,i)},c=function(e,t,a,i){return o.addCompOnDrop(i,p,d,e,t,a,n.noop)};var t=function(e){return{type:a.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_proplayer",subNavigationTitle:"add_section_label_proplayer",presetTitle:"add_section_label_proplayer",tooltipTitle:"add_section_label_proplayer",subNavigationHide:!1,showSectionHeader:!0,additionalBehaviours:{labelMode:a.LABEL_BEHAVIOUR.HOVER,infoIcon:a.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:a.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{onClick:l,onDrop:c,image:"addPanelData/sections/wixMusicPlayerSection_"+(t=r.languages.getLanguageCode())+"/wixMusicPlayerSection2_"+t+".png",items:[{id:"Music_Prop_Player_2",appDefinitionId:p,slug:"wix-music",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:680,height:210,x:14,y:71,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",applicationId:"16",tpaData:{type:"TPAData",content:"{'wmp::paymentsId':'0352442c-26dc-415d-81f8-79d681c7efcf'}"},widgetId:d},style:{type:"TopLevelStyle",style:s.getSuperAppsAddPanelStyles(p,"compact"),componentClassName:"",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:324,height:160,x:0,y:0},label:"add_preset__WixMusic_Compact"}},{id:"Music_Prop_Player_1",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:350,height:700,x:315,y:18,scale:1,rotationInDegrees:0},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",appDefinitionId:p,slug:"wix-music",data:{type:"TPAWidget",applicationId:"16",widgetId:d},style:"tpaw0"},preset:{rect:{width:324,height:470,x:0,y:160},label:"add_preset__WixMusic_Classic"}}]},help:{hide:!1,text:"add_section_info_text_proplayer"},teaser:{id:"proplayer_section_teaser",hide:!1,title:"add_section_teaser_title_proplayer",text:"add_section_teaser_text_proplayer",linkText:"add_category_teaser_link",learnMore:function(){i.openAppMarketInfoModal("wix-music"),e.panelManager.closePanelByName("rEditor.addPanel")}}};var t};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["music"],n.partial(t,e))}}}),define("tpa/addPanelData/music/soundCloudSection",["lodash","util","addPanelDataConsts","tpa/superApps/superAppsConstants","tpa/addPanelData/addPanelAddCompService"],function(n,t,a,e,s){"use strict";var o=e.WIX_SOUNDCLOUD.APP_DEF_ID,r=e.WIX_SOUNDCLOUD.WIDGET,i=function(e,t,a,i,n){s.addCompOnClick(n,o,r,e,a,i)},p=function(e,t,a,i){return s.addCompOnDrop(i,o,r,e,t,a,n.noop)};var d=function(){return{type:a.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_soundcloud",subNavigationTitle:"add_section_label_soundcloud",presetTitle:"add_section_label_soundcloud",tooltipTitle:"add_section_label_soundcloud",subNavigationHide:!1,showSectionHeader:!0,additionalBehaviours:{labelMode:a.LABEL_BEHAVIOUR.NONE,infoIcon:a.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:a.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{imageHover:null,onClick:i,onDrop:p,image:(e=t.languages.getLanguageCode(),"addPanelData/sections/soundCloudAudioPlayerSection_"+e+"/soundCloudAudioPlayerSection_"+e+".png"),items:[{id:"soundcloud_preset_1",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",layout:{width:482,height:450,x:241,y:-38,scale:1,rotationInDegrees:0,fixedPosition:!1},style:"tpaw0",data:{type:"TPAWidget",applicationId:"applicationId",widgetId:r},mobileStructure:{layout:{width:280,height:261,x:20,y:201,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0}},preset:{rect:{width:324,height:110,x:0,y:0},label:""}}]},help:{hide:!1,text:"add_section_info_text_soundcloud"}};var e};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["music"],d)}}}),define("tpa/addPanelData/video/videoSection",["lodash","tpa/addPanelData/addPanelAddCompService","tpa/superApps/superAppsConstants","tpa/superApps/superAppsCustomData","addPanelDataConsts","experiment"],function(r,s,e,p,d,t){"use strict";var l=e.WIX_VIDEO.APP_DEF_ID,o=e.WIX_VIDEO.WIDGET,c=function(){return t.isOpen("se_wixVideo_addPanel_grid")},g=function(e,t,a,i,n){s.addCompOnClick(n,l,o,e,a,i)},m=function(e,t,a,i){return s.addCompOnDrop(i,l,o,e,t,a,r.noop)},a=function(){var e,t,a,i,n,s=c()?"addPanelData/sections/videoSection_en/wixVideo_addPanelContent_regular.png":"addPanelData/sections/videoSection_en/WixVideo_regular.png",o=c()?"addPanelData/sections/videoSection_en/wixVideo_addPanelContent_hover.png":"addPanelData/sections/videoSection_en/WixVideo_hover.png";return{title:"ADD_SECTION_LABEL_WIXVIDEO",subNavigationTitle:"ADD_SECTION_LABEL_WIXVIDEO",presetTitle:"ADD_SECTION_LABEL_WIXVIDEO",tooltipTitle:"ADD_SECTION_LABEL_WIXVIDEO",subNavigationHide:!1,type:d.SECTIONS_TYPES.PRESET,hide:!1,sectionNumber:1,showSectionHeader:!0,additionalBehaviours:{labelMode:d.LABEL_BEHAVIOUR.HOVER,infoIcon:d.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:d.HOVER_IMAGE_ACTIONS.IMAGE,iconEnabledForComps:[]},props:{image:s,imageHover:o,items:(e=c(),t=e?{width:324,height:159,x:0,y:290}:{width:324,height:165,x:0,y:148},a=e?{width:324,height:131,x:0,y:569}:{width:324,height:138,x:0,y:313},i=e?{width:324,height:110,x:0,y:457}:{width:324,height:100,x:0,y:449},n=[{id:"compact",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:600,height:368,x:76,y:56,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",referenceId:"a1ca9dac-7ee4-4d52-a418-68329471105b",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:p.getSuperAppsAddPanelStyles(l,"compact"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:247,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:162,height:148,x:0,y:0},label:"add_preset_WixVideo_Compact"}},{id:"classic",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:800,height:761,x:90,y:34,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",referenceId:"a1ca9dac-7ee4-4d52-a418-68329471105b",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:p.getSuperAppsAddPanelStyles(l,"classic_new"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:320,height:279,x:0,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:162,height:148,x:162,y:0},label:"add_preset_WixVideo_Classic"}},e&&{id:"grid",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1920,height:1596,x:-470,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:0,vw:0},right:{px:0,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:p.getSuperAppsAddPanelStyles(l,"grid"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:247,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:{width:324,height:125,x:0,y:158},label:"add_preset_WixVideo_Grid",tags:{isFullWidth:!0}}},{id:"strip",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:979,height:410,x:0,y:58,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:.5,vw:0},right:{px:.5,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",referenceId:"a1ca9dac-7ee4-4d52-a418-68329471105b",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:p.getSuperAppsAddPanelStyles(l,"strip_new"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:247,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:t,label:"add_preset_WixVideo_Strip",tags:{isFullWidth:!0,googleFontsCssUrl:"",uploadFontFaces:""}}},{id:"slider_big",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1920,height:572,x:-470,y:78,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:0,vw:0},right:{px:0,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:p.getSuperAppsAddPanelStyles(l,"slider_big"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:247,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:a,label:"add_preset_WixVideo_SliderBig",tags:{isFullWidth:!0}}},{id:"slider_small",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1920,height:388,x:-470,y:46,scale:1,rotationInDegrees:0,fixedPosition:!1,docked:{left:{px:.5,vw:0},right:{px:.5,vw:0}}},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1598",widgetId:"144097ea-fea0-498e-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:p.getSuperAppsAddPanelStyles(l,"slider_small"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{layout:{width:280,height:247,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1},isCustomPreset:!0},activeModes:{}},preset:{rect:i,label:"add_preset_WixVideo_SliderSmall",tags:{isFullWidth:!0}}}],r.compact(n)),onClick:g,onDrop:m},help:{hide:!1,text:"ADD_SECTION_INFO_TEXT_WIXVIDEO"}}};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["video"],a)}}}),define("tpa/addPanelData/gallery/proGalleriesSection",["lodash","addPanelDataConsts","tpa/superApps/superAppsCustomData","tpa/addPanelData/addPanelAddCompService"],function(n,e,t,s){"use strict";var o="14271d6f-ba62-d045-549b-ab972ae1f70e",r="142bb34d-3439-576a-7118-683e690a1e0d",a=function(e,t,a,i,n){s.addCompOnClick(n,o,r,e,a,i)},i=function(e,t,a,i){return s.addCompOnDrop(i,o,r,e,t,a,n.noop)},p=function(){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_progallery_v2",subNavigationTitle:"add_section_label_progallery_v2",presetTitle:"add_section_label_progallery_v2",tooltipTitle:"add_section_label_progallery_v2",subNavigationHide:!1,showSectionHeader:!0,sectionNumber:0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.HOVER,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.VIDEO,iconEnabledForComps:{}},props:{onClick:a,onDrop:i,image:"addPanelData/sections/proGalleriesSection_en/add-panel-pro-gallery-section-new.png",retinaImage:{src:"addPanelData/sections/proGalleriesSection_en/add-panel-pro-gallery-section-new-@2x.png",dimensions:{width:648,height:2588}},items:d(),compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_progallery"}}},d=function(){return[{id:"gridProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:570,height:569,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"a3815ff1-316f-4a23-8de9-7a8737688038",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"gridProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:"[{'action':{'sourceId':'comp-j3rfcxog','type':'comp','name':'screenIn'},'behavior':{'targetId':'lq5h5','type':'site','name':'prefetchPages','params':{'prefetchFilters':{'id':['lq5h5']}}}}]"},mobileStructure:{layout:{width:320,height:173,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j3rfcxog",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:182,x:0,y:0},label:"add_preset_pro_galleries_grid_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-1",ignoreMargins:!0}}},{id:"thumbnailProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:568,height:568,x:0,y:198,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"72187da9-188d-4d8d-8754-0599700a1bcf",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"thumbnailProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j3u10dhb","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j3u10dhb",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:182,x:162,y:0},label:"add_preset_pro_galleries_thumbnail_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-2",ignoreMargins:!0}}},{id:"stackedProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:568,height:1039,x:0,y:52,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"stackedProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:208,x:0,y:182},label:"add_preset_pro_galleries_stacked_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-3",ignoreMargins:!0}}},{id:"masonryProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:568,height:1039,x:0,y:52,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"masonryProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:162,height:208,x:162,y:182},label:"add_preset_pro_galleries_masonry_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-4",ignoreMargins:!0}}},{id:"collageProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:384,x:-118,y:237,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"collageProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:136,x:0,y:390},label:"add_preset_pro_galleries_collage_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-5",ignoreMargins:!0}}},{id:"showcaseProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:464,x:-118,y:236,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"showcaseProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:156,x:0,y:526},label:"add_preset_pro_galleries_showcase_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-6",ignoreMargins:!0}}},{id:"gridSliderProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:416,x:-142,y:236,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"gridSliderProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:144,x:0,y:682},label:"add_preset_pro_galleries_slider_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-7",ignoreMargins:!0}}},{id:"accordionProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:416,x:0,y:275,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"accordionProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:144,x:0,y:826},label:"add_preset_pro_galleries_accordion_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-8",ignoreMargins:!0}}},{id:"slideDeckProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:660,x:-118,y:125,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"88867a85-11eb-455f-8b54-0e7956142552",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"slideDeckProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41sbvu1","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41sbvu1",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:166,x:0,y:970},label:"add_preset_pro_galleries_slide_deck_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-9",ignoreMargins:!0}}},{id:"sliderProGallery",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:1216,height:472,x:-112,y:236,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1574",referenceId:"40bc889a-02c7-49ee-8d0c-1c4ada8665a3",widgetId:"142bb34d-3439-576a-7118-683e690a1e0d"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:t.getSuperAppsAddPanelStyles(o,"sliderProGallery"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},behaviors:{type:"ObsoleteBehaviorsList",items:'[{"action":{"sourceId":"comp-j41krf33","type":"comp","name":"screenIn"},"behavior":{"targetId":"lq5h5","type":"site","name":"prefetchPages","params":{"prefetchFilters":{"id":["lq5h5"]}}}}]'},mobileStructure:{layout:{width:320,height:146,x:0,y:420,scale:1,rotationInDegrees:0,fixedPosition:!1},metaData:{originalCompId:"comp-j41krf33",author:"duplicate"}},activeModes:{}},preset:{rect:{width:324,height:158,x:0,y:1136},label:"add_preset_pro_galleries_slider_label",tags:{isFullWidth:!1},video:{poster:"poster-white-1x1.png",source:"addpanel/gallery-pro/v1/gallery-video-thumb-pro-10",ignoreMargins:!0}}}]};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["gallery"],function(){return p()})}}}),define("tpa/addPanelData/events/eventsSection",["lodash","addPanelDataConsts","tpa/addPanelData/addPanelAddCompService","tpa/constants/constants","tpa/superApps/superAppsCustomData"],function(t,e,s,o,a){"use strict";var r="140603ad-af8d-84a5-2c80-a0f60cb47351",p="1440e92d-47d8-69be-ade7-e6de40127106",i="onImage",n="sideBySide",d=function(e,t,a,i,n){s.addCompOnClick(n,r,p,e,a,i,{origin:o.BI.type.ADD_WIDGET})},l=function(e,t,a,i){return s.addCompOnDrop(i,r,p,e,t,a,null,{origin:o.BI.type.ADD_WIDGET})},c=function(){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_wixevents",subNavigationTitle:"add_section_label_wixevents",presetTitle:"add_section_label_wixevents",tooltipTitle:"add_section_label_wixevents",subNavigationHide:!1,sectionNumber:e.SECTION_NUMBERS.EVENTS.other,showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.HOVER,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.IMAGE,iconEnabledForComps:{}},props:{onClick:d,onDrop:l,image:"addPanelData/sections/eventsSection_en/eventsSection_en.png",imageHover:"addPanelData/sections/eventsSection_en/hover_en/eventsSection_hover_en.png",items:[{id:i,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:859,height:409,x:60,y:204,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,i),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:176,x:0,y:0},label:"add_preset_wixevents_flashsale"}},{id:"cards",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:899,height:582,x:40,y:237,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,"cards"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:219,x:0,y:176},label:"add_preset_wixevents_meetup"}},{id:n,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:899,height:1072,x:40,y:178,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,n),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:320,x:0,y:395},label:"add_preset_wixevents_launch"}},{id:"list",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:918,height:422,x:31,y:223,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,"list"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:159,x:0,y:715},label:"add_preset_wixevents_tour"}},{id:"single",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:860,height:427,x:60,y:172,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"2153",widgetId:"1440e92d-47d8-69be-ade7-e6de40127106"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(r,"single"),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:324,height:187,x:0,y:874},label:"add_preset_wixevents_fundraiser"}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]}}};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["other"],t.partial(c,e))}}}),define("tpa/addPanelData/contact/liveChatSection",["lodash","addPanelDataConsts","tpa/superApps/superApps","tpa/superApps/superAppsConstants","tpa/superApps/superAppsCustomData","tpa/addPanelData/addPanelAddCompService","tpa/services/navigateAndOpenAppService"],function(n,s,o,e,r,p,a){"use strict";var d=e.WIX_CHAT.APP_DEF_ID,l=e.WIX_CHAT.WIDGET,c={width:350,height:700},g=function(e,t){if(!o.isInstalled(d))return t();a.openSettingsPanel(e,d)},t=function(e){var t=e.dsRead.theme.colors.getAll(),a=t.color_18,i=/^#FFFFFF$/i.test(t.color_15)?t.color_11:t.color_15;return{type:s.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_livechat",subNavigationTitle:"add_section_label_livechat",presetTitle:"add_section_label_livechat",tooltipTitle:"add_section_label_livechat",subNavigationHide:!1,sectionNumber:s.SECTION_NUMBERS.CHAT.other,additionalBehaviours:{labelMode:s.LABEL_BEHAVIOUR.NONE,infoIcon:s.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:s.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},showSectionHeader:!0,props:{onClick:function(e,t,a,i){var n=this;g(this.editorAPI,function(){return p.addCompOnClick(n.editorAPI,d,l,e,a,i)})}.bind({editorAPI:e}),onDrop:function(e,t){var a=this,i=n.merge({},c,{x:e.x,y:e.y});g(this.editorAPI,function(){return p.addCompOnDrop(a.editorAPI,d,l,i,t)})}.bind({editorAPI:e}),image:"addPanelData/sections/liveChatSection_en/liveChatSection_en.v2.png",imageStyle:{background:"linear-gradient(to left, "+a+" 0%, "+a+" 75%, "+i+" 50%, "+i+" 100%)",height:"100%",width:"100%"},items:[{id:"bubble",structure:{layout:{x:315,y:650,width:60,height:60,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",appDefinitionId:d,slug:"wix-live-chat",data:{widgetId:l,applicationId:"applicationId",type:"TPAWidget",metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}},style:{componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",style:r.getSuperAppsAddPanelStyles(d,"bubble"),type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:81,height:110,x:0,y:0},label:""}},{id:"bar",structure:{layout:{x:315,y:650,width:336,height:54,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",appDefinitionId:d,slug:"wix-live-chat",data:{widgetId:l,applicationId:"applicationId",type:"TPAWidget",metaData:{isHidden:!1,isPreset:!0,schemaVersion:"1.0"}},style:{componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",style:r.getSuperAppsAddPanelStyles(d,"bar"),type:"TopLevelStyle",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"}},preset:{rect:{width:243,height:110,x:81,y:0},label:""}}]},help:{hide:!1,text:"add_section_info_text_livechat"},teaser:{id:"livechat_section_teaser",hide:!1,title:"add_section_teaser_title_livechat",text:"add_section_teaser_text_livechat",linkText:"add_category_teaser_link",learnMore:function(){o.openAppMarketInfoModal("wix-live-chat"),e.panelManager.closePanelByName("rEditor.addPanel")}}}};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["other"],function(){return t(e)})}}}),define("tpa/addPanelData/members/service",["constants","tpa/constants/constants","tpa/addPanelData/addPanelAddCompService"],function(n,r,p){"use strict";var d=function(e,t){var a=e.dsRead.platform.editorApps.SANTA_MEMBERS.appDefId,i=e.dsRead.platform.getAppDataByAppDefId(a);e.dsActions.platform.notifyApplication(i.applicationId,{eventType:n.EVENTS.ADD_PANEL.COMPONENT_ADDED_TO_STAGE,eventPayload:{compRef:t}})};return{registerSectionFactory:function(t){return function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["members"],function(){return t(e)})}},onClickFactory:function(s,o){return function(e,t,a,i,n){p.addCompOnClick(n,s,o,e,a,i,{origin:r.BI.type.ADD_WIDGET}).then(d.bind(this,n))}},onDropFactory:function(s,o){return function(e,t,a,i){var n=d.bind(this,i);return p.addCompOnDrop(i,s,o,e,t,a,n,{origin:r.BI.type.ADD_WIDGET})}}}}),define("tpa/addPanelData/members/profileWidgetSection",["addPanelDataConsts","tpa/superApps/superAppsConstants","tpa/addPanelData/members/service"],function(e,t,a){"use strict";var i=t.MEMBER_PROFILE_CARD.APP_DEF_ID,n=t.MEMBER_PROFILE_CARD.WIDGET,s=a.onClickFactory(i,n),o=a.onDropFactory(i,n);return{registerSection:a.registerSectionFactory(function(){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_memberprofile",subNavigationTitle:"add_section_label_memberprofile",presetTitle:"add_section_label_memberprofile",tooltipTitle:"add_section_label_memberprofile",subNavigationHide:!1,showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{onClick:s,onDrop:o,image:"addPanelData/sections/membersProfileSection_en/membersProfileSection_en.png",items:[{id:"Member_Profile_1",structure:{layout:{x:224,y:127,fixedPosition:!1,width:250,height:183,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{widgetId:n,type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},referenceId:""},style:"tpaw0",activeModes:{}},preset:{rect:{width:324,height:217,x:0,y:0}}}]},help:{hide:!1,text:"add_section_label_membermenu_tooltip_description"}}}.bind(this))}}),define("tpa/addPanelData/members/membersWidgetSection",["addPanelDataConsts","tpa/superApps/superAppsConstants","tpa/addPanelData/members/service"],function(e,t,a){"use strict";var i=t.MEMBERS_WIDGET.APP_DEF_ID,n=t.MEMBERS_WIDGET.WIDGET,s=a.onClickFactory(i,n),o=a.onDropFactory(i,n);return{registerSection:a.registerSectionFactory(function(){return{type:e.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_memberswidget",subNavigationTitle:"add_section_label_memberswidget",presetTitle:"add_section_label_memberswidget",tooltipTitle:"add_section_label_memberswidget",subNavigationHide:!1,showSectionHeader:!0,additionalBehaviours:{labelMode:e.LABEL_BEHAVIOUR.NONE,infoIcon:e.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:e.HOVER_IMAGE_ACTIONS.SCALE,iconEnabledForComps:{}},props:{onClick:s,onDrop:o,image:"addPanelData/sections/membersWidgetSection_en/membersWidgetSection_en.v2.png",items:[{id:"Members_Widget_1",structure:{layout:{x:0,y:0,fixedPosition:!1,width:980,height:825,scale:1,rotationInDegrees:0},type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{widgetId:n,type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},referenceId:""},style:"tpaw0",activeModes:{}},preset:{rect:{width:324,height:248,x:0,y:0}}}]},help:{hide:!1,text:"add_section_label_memberswidget_tooltip_description"}}}.bind(this))}}),define("tpa/addPanelData/newBlog/triggerElementAddedBiEvent",["lodash","blog","constants","tpa/superApps/superAppsConstants"],function(n,s,o,e){"use strict";var r=e.NEW_BLOG_APP_DEF_ID;return function(e,t){var a=e.tpa.app.getDataByAppDefId(r),i=e.panelHelpers.isPanelOpen(o.SUPER_APPS.NEW_BLOG_PANEL_NAME);e.bi.event(s.newBlogBi.events.BLOG_ELEMENT_ADDED,n.assign({instance_id:a.instanceId,origin:i?"6th_button":"add_panel",is_first_time_view:!1},t))}}),define("tpa/addPanelData/newBlog/customFeedSection",["lodash","experiment","addPanelDataConsts","tpa/addPanelData/addPanelAddCompService","tpa/addPanelData/newBlog/triggerElementAddedBiEvent","tpa/superApps/superAppsCustomData","tpa/constants/constants","tpa/superApps/superAppsConstants"],function(n,e,t,s,o,a,r,i){"use strict";var p,d=i.NEW_BLOG_APP_DEF_ID,l="14e5b39b-6d47-99c3-3ee5-cee1c2574c89",c="customFeedSideBySide",g="customFeedMagazine",m="customFeedPostcard",u="customFeedOneColumn",h="customFeedEditorial",y=(_defineProperty(p={},c,"side_by_side"),_defineProperty(p,g,"magazine"),_defineProperty(p,m,"postcard"),_defineProperty(p,u,"one_column"),_defineProperty(p,h,"editorial"),p),f=function(e){return{element_type:"custom_feed",layout:y[e]}},P=function(e,t,a,i,n){o(n,f(i)),s.addCompOnClick(n,d,l,e,a,i,{origin:r.BI.type.ADD_WIDGET})},_=function(e,t,a,i){return o(i,f(t.itemId)),s.addCompOnDrop(i,d,l,e,t,a,n.noop,{origin:r.BI.type.ADD_WIDGET})};function I(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_newblog_customfeed",subNavigationTitle:"add_section_label_newblog_customfeed",presetTitle:"add_section_label_newblog_customfeed",tooltipTitle:"add_section_label_newblog_customfeed",subNavigationHide:!1,showSectionHeader:!0,sectionNumber:e.isOpen("newBlogFeaturedPostsSection")?1:0,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.HOVER,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:{}},props:{onClick:P,onDrop:_,image:"addPanelData/sections/blogCustomFeedSection_en/blogCustomFeedSection_en.png",imageHover:null,items:[{id:c,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:800,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,c),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:229,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:154,x:0,y:0},label:"add_preset_newblog_sidebyside",tags:null}},{id:g,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:980,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,g),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:280,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:182,x:162,y:0},label:"add_preset_newblog_magazine",tags:null}},{id:m,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:656,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,m),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:187,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:136,x:0,y:154},label:"add_preset_newblog_postcard",tags:null}},{id:u,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:1410,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,u),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:403,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:239,x:162,y:182},label:"add_preset_newblog_onecolumn",tags:null}},{id:h,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:698,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1977",widgetId:"14e5b39b-6d47-99c3-3ee5-cee1c2574c89"},style:{type:"TopLevelStyle",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,h),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",styleType:"custom",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:199,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:162,x:0,y:290},label:"add_preset_newblog_editorial",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_customfeed"}}}return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory([t.CATEGORIES_ID.NEW_BLOG],n.partial(I,e))}}}),define("tpa/addPanelData/newBlog/recentPostsSection",["lodash","experiment","addPanelDataConsts","tpa/addPanelData/newBlog/triggerElementAddedBiEvent","tpa/addPanelData/addPanelAddCompService","tpa/constants/constants","tpa/superApps/superAppsConstants"],function(n,e,t,s,o,r,a){"use strict";var p=a.NEW_BLOG_APP_DEF_ID,d="14e5b36b-e545-88a0-1475-2487df7e9206",l={element_type:"recent_posts"},i=function(e,t,a,i,n){s(n,l),o.addCompOnClick(n,p,d,e,a,i,{origin:r.BI.type.ADD_WIDGET})},c=function(e,t,a,i){return s(i,l),o.addCompOnDrop(i,p,d,e,t,a,n.noop,{origin:r.BI.type.ADD_WIDGET})};function g(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_newblog_recentposts",subNavigationTitle:"add_section_label_newblog_recentposts",presetTitle:"add_section_label_newblog_recentposts",tooltipTitle:"add_section_label_newblog_recentposts",subNavigationHide:!1,showSectionHeader:!0,sectionNumber:e.isOpen("newBlogFeaturedPostsSection")?2:1,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.NONE,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:{}},props:{onClick:i,onDrop:c,image:"addPanelData/sections/blogRecentPostsSection_en/blogRecentPostsSection_en.png",imageHover:null,items:[{id:"recentPosts",structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:980,height:353,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"1708",widgetId:"14e5b36b-e545-88a0-1475-2487df7e9206"},style:"tpaw0",mobileStructure:{componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:101,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:324,height:132,x:0,y:0},label:"",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_customfeed"}}}return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory([t.CATEGORIES_ID.NEW_BLOG],n.partial(g,e))}}}),define("tpa/addPanelData/newBlog/featuredPostsSection",["lodash","addPanelDataConsts","tpa/constants/constants","platform","stateManagement","tpa/services/tpaAddAppService"],function(p,t,d,l,c,g){"use strict";var m="575bc3da-5f7e-4c28-a1d7-be3c9dd3df40",s=function(a,i){var n=c.editorPlugins.platform.actions.notifyAddWidget,e=d.APP.TYPE.PLATFORM_ONLY,t=d.BI.initiator.EDITOR,s={initiator:l.constants.ORIGIN.INITIATOR.EDITOR,info:{type:l.constants.ORIGIN.TYPE.ADD_PANEL}};if(i.dsRead.platform.isPlatformAppInstalled(m)){var o=i.dsRead.platform.getAppDataByAppDefId(m),r=p.get(o,"applicationId");i.store.dispatch(n(r,a))}else g.addApp(i,m,null,null,e,t,!1,{},{disableAddPanel:!0,appVersion:"0.206.1"},function(){var e=i.dsRead.platform.getAppDataByAppDefId(m),t=p.get(e,"applicationId");i.store.dispatch(n(t,a))},s)},e=function(e,t,a,i){s(t.itemId,i)},a=function(e,t,a,i,n){s(i,n)};function i(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_newblog_featured_posts",subNavigationTitle:"add_section_label_newblog_featured_posts",presetTitle:"add_section_label_newblog_featured_posts",tooltipTitle:"add_section_label_newblog_featured_posts",subNavigationHide:!1,showSectionHeader:!0,shouldDisableDragTooltip:!0,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.HOVER,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:{}},props:{onClick:a,onDrop:e,image:"addPanelData/sections/blogFeaturedPostsSection_en/blogFeaturedPostsSection_en.png",imageHover:null,items:[{id:"ezkgd",structure:{type:"Component",skin:"platform.components.skins.AppWidgetSkin",layout:{width:980,height:353,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"platform.components.AppWidget",data:{type:"AppController",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"575bc3da-5f7e-4c28-a1d7-be3c9dd3df40",controllerType:"575bc3da-5f7e-4c28-a1d7-be3c9dd3df40-y3imo"},style:"appWidget1",mobileStructure:{componentType:"platform.components.AppWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:101,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:100,x:0,y:0},label:"add_preset_newblog_banner",tags:null}},{id:"pf9i7",structure:{type:"Component",skin:"platform.components.skins.AppWidgetSkin",layout:{width:980,height:353,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"platform.components.AppWidget",data:{type:"AppController",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},applicationId:"575bc3da-5f7e-4c28-a1d7-be3c9dd3df40",controllerType:"575bc3da-5f7e-4c28-a1d7-be3c9dd3df40-y3imo"},style:"appWidget1",mobileStructure:{componentType:"platform.components.AppWidget",type:"Component",conversionData:{isCustomPreset:!0},layout:{width:280,height:101,x:20,y:10,scale:1,rotationInDegrees:0,fixedPosition:!1}},activeModes:{}},preset:{rect:{width:162,height:100,x:162,y:0},label:"add_preset_newblog_textonimage",tags:null}}],compTypes:["platform.components.AppWidget"]},help:{hide:!1,text:"add_section_info_text_customfeed"}}}return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory([t.CATEGORIES_ID.NEW_BLOG],p.partial(i,e))}}}),define("tpa/addPanelData/newBlog/rssButtonSection",["lodash","experiment","addPanelDataConsts","tpa/addPanelData/addPanelAddCompService","tpa/addPanelData/newBlog/triggerElementAddedBiEvent","tpa/superApps/superAppsCustomData","tpa/constants/constants","tpa/superApps/superAppsConstants"],function(n,e,t,s,o,a,r,i){"use strict";var p,d=i.NEW_BLOG_APP_DEF_ID,l="1515a9e7-b579-fbbb-43fc-0e3051c14803",c="rssButtonSquare",g="rssButtonRoundedDark",m="rssButtonRoundedLight",u="rssButtonTransparentDark",h="rssButtonTransparentLight",y=(_defineProperty(p={},c,"square"),_defineProperty(p,g,"rounded_dark"),_defineProperty(p,m,"rounded_light"),_defineProperty(p,u,"transparent_dark"),_defineProperty(p,h,"transparent_light"),p),f=function(e){return{element_type:"rss_button",border:y[e]}},P=function(e,t,a,i,n){o(n,f(i)),s.addCompOnClick(n,d,l,e,a,i,{origin:r.BI.type.ADD_WIDGET})},_=function(e,t,a,i){return o(i,f(t.itemId)),s.addCompOnDrop(i,d,l,e,t,a,n.noop,{origin:r.BI.type.ADD_WIDGET})};function I(){return{type:t.SECTIONS_TYPES.PRESET,hide:!1,title:"add_section_label_newblog_rss_button",subNavigationTitle:"add_section_label_newblog_rss_button",presetTitle:"add_section_label_newblog_rss_button",tooltipTitle:"add_section_label_newblog_rss_button",subNavigationHide:!1,showSectionHeader:!0,sectionNumber:e.isOpen("newBlogFeaturedPostsSection")?3:2,additionalBehaviours:{labelMode:t.LABEL_BEHAVIOUR.NONE,infoIcon:t.INFO_ICON_BEHAVIOUR.NONE,hoverImageAction:t.HOVER_IMAGE_ACTIONS.NONE,iconEnabledForComps:{}},props:{onClick:P,onDrop:_,image:"addPanelData/sections/blogRssButtonSection_en/blogRssButtonSection_en.png",imageHover:null,items:[{id:c,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:l},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,c),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:0,y:0},label:"",tags:null}},{id:g,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:l},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,g),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:54,y:0},label:"",tags:null}},{id:m,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:l},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,m),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:108,y:0},label:"",tags:null}},{id:u,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:l},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,u),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:162,y:0},label:"",tags:null}},{id:h,structure:{type:"Component",skin:"wysiwyg.viewer.skins.TPAWidgetSkin",layout:{width:39,height:39,x:0,y:0,scale:1,rotationInDegrees:0,fixedPosition:!1},componentType:"wysiwyg.viewer.components.tpapps.TPAWidget",data:{type:"TPAWidget",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},widgetId:l},style:{type:"TopLevelStyle",styleType:"custom",metaData:{isPreset:!1,schemaVersion:"1.0",isHidden:!1},style:a.getSuperAppsAddPanelStyles(d,h),componentClassName:"wysiwyg.viewer.components.tpapps.TPAWidget",pageId:"",compId:"",skin:"wysiwyg.viewer.skins.TPAWidgetSkin"},activeModes:{}},preset:{rect:{width:54,height:76,x:210,y:0},label:"",tags:null}}],compTypes:["wysiwyg.viewer.components.tpapps.TPAWidget"]},help:{hide:!1,text:"add_section_info_text_rss_button"}}}return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory([t.CATEGORIES_ID.NEW_BLOG],n.partial(I,e))}}}),define("tpa/experiments/experiments",["experiment"],function(e){"use strict";return{isEcomAddAppExperimentOn:function(){return e.isOpen("se_ecomAddApp")},isStorePagesUsability1bExperimentOn:function(){return e.isOpen("StorePagesUsability1b")},isShouldShowPhotoAlbumsAboutExperimentOn:function(){return e.isOpen("se_shouldShowPhotoAlbumsAbout")}}}),define("tpa/superApps/gfpp/superAppsGfppDataCacheService",["lodash","tpa/superApps/superApps","tpa/superApps/superAppsCustomData","tpa/constants/constants","tpa/experiments/experiments"],function(n,s,a,t,i){"use strict";var o={},r=function(t,e){return n.forEach(e,function(e){n.forEach(e,function(e){e.actions=n.filter(e.actions,function(e){return d(e)&&p(t,e)})})}),e},p=function(e,t){var a={openDashboardUrl:l,openSuperAppsModal:s.openSuperAppsModal,openPanel:e.openPanel};if(n.get(t,"onClick.name")&&n.get(t,"onClick.params")){var i=a[t.onClick.name];return!!n.isFunction(i)&&(t.onClick=i.bind.apply(i,[null].concat(t.onClick.params)),!0)}return!1},d=function(e){if(!e.experiment)return!0;var t=i[e.experiment];return n.isFunction(t)&&t()?(delete e.experiment,!0):void 0},l=function(e){e=e||{},s.openDashboardUrl(e.appDefId,{state:e.state,title:e.title,origin:e.origin,widgetId:e.widgetId,onClose:s.refreshAppCompsForAppDefId.bind(void 0,e.appDefId),shouldNotCloseOnBlur:e.shouldNotCloseOnBlur,isBareMode:e.isBareMode,options:e.options},{type:t.BI.type.GFPP_MANAGE})};return{init:function(e){var t=a.getSuperAppsGfppData();o=r(e,t)},getCustomMainActions:function(){return o},clearCustomMainActions:function(){o={}}}}),define("tpa/superApps/gfpp/superAppsGfppData",["lodash","tpa/superApps/superApps","tpa/superApps/gfpp/superAppsGfppDataCacheService"],function(a,i,e){"use strict";var n=function(){return e.getCustomMainActions()};return{getCustomMainActionsFor:function(e,t,a){var i=n()[t];return i&&i[a]?i[a]:i&&i[t]?i[t]:void 0},hasCustomActions:function(e){var t=n();return!a.isUndefined(t[e])},shouldShowSettingsInSecondaryLang:function(e,t){var a=n()[e];return a&&a[t]?a[t].showSettingsInSecondaryLang:!(!a||!a[e])&&a[e].showSettingsInSecondaryLang},shouldShowTranslate:function(e,t){var a=n()[e];return a&&a[t]?a[t].showTranslate:!(!a||!a[e])&&a[e].showTranslate},hasExternalUpgrade:function(e,t){if(i.hasPremiumOffering(e)){var a=n()[e];if(a&&a[t])return a[t].showUpgrade;if(a&&a[e])return a[e].showUpgrade}return!1}}}),define("tpa/gfpp/tpaGfppDataActions",["lodash","tpa/packagePicker/packagePicker","tpa/services/dashboardAppService","tpa/superApps/gfpp/superAppsGfppData","tpa/superApps/superApps","tpa/constants/constants","tpa/bi/bi","tpa/utils/tpaUtils","tpa/settings/settings","tpa/services/tpaHelpService","constants","experiment"],function(o,i,r,s,n,d,l,c,g,p,m,a){"use strict";var u={label:"gfpp_mainaction_tpa",isApplied:!0,onClick:function(e,t){var a,i,n,s,o,r,p;i=t,n=(a=e).components.data.get(i)||{},(s=a.dsRead.tpa.app.getData(n.applicationId))&&s.appDefinitionId&&(o=a,r=l.events.APP_INTENT,p=s.appDefinitionId,c.bi.reportBIOnAppIntent(o,r,p,d.BI.initiator.EDITOR,d.BI.type.GFPP_SETTINGS)),g.open(e,t)}},h=function(e,t){return{label:t,isApplied:!0,shouldTranslate:!1,onClick:function(){r.getDashboardAppUrlAsync(e,void 0,function(e,t){t&&(window.open(t),P(e))}.bind(null,e))}}};function y(e,t){var a=o.get(t,"appDefinitionId");o.forEach(e,function(e){e.appId=a})}function f(e,t){var a,i,n;w(e)?(i=(a=e).selection.getSelectedComponentData(),n=a.dsRead.tpa.app.getData(i.applicationId),s.shouldShowSettingsInSecondaryLang(n.appDefinitionId,i.widgetId)&&t.push(u)):t.push(u)}var P=function(e){var t=e.selection.getSelectedComponentData(),a=e.dsRead.tpa.app.getData(t.applicationId),i={app_id:a.appDefinitionId,app_site_id:a.instanceId,instance_id:t.id,origin:"gfpp"};e.bi.event(l.events.OPEN_DASHBOARD_APP_CLICK,i)},_=function(e,t){var a=e.dsRead.tpa.app.getData(t.applicationId);return!!s.hasExternalUpgrade(a.appDefinitionId,t.widgetId)||!!e.dsRead.tpa.app.hasPremiumOffering(t.applicationId)&&!i.isFullyUpgraded(e,a)},I=function(t,e,a,i){var n=s.getCustomMainActionsFor(t,e,a);o.isEmpty(n)||o.forEach(n.actions,function(e){w(t)||(e.addAtBack?E(e,i):S(e,i))})},A=function(e){var t=e.selection.getSelectedComponentData();return e.dsRead.tpa.app.getData(t.applicationId)},v=function(e,t){var a,i,n,s=(a=e,i=void 0,(n=r.getEditorGfppData(a)).openInDashboard&&(i=h(a,n.openInDashboardText)),i);o.isEmpty(s)||t.push(s)};function w(e){if(a.isOpen("se_multilingual")){var t=e.dsRead.language;return t.multilingual.isEnabled()&&t.current.get()!==o.get(t.original.get(),"code")}return!1}var D={label:"gfpp_mainaction_translate",isApplied:!0,onClick:function(e,t){var a=e.components.data.get(t)||{},i=e.dsRead.tpa.app.getData(a.applicationId)||{};n.openTranslationDashboardUrl(i.appDefinitionId,{onClose:o.partial(n.refreshAppCompsForAppDefId,i.appDefinitionId),shouldNotCloseOnBlur:!1,widgetId:a.widgetId},{type:d.BI.type.GFPP_MANAGE})}},b={label:"gfpp_mainaction_translate",isApplied:!0,onClick:o.noop,isDisabled:!0,tooltip:"gfpp_tooltip_multilingual_translate_disabled"},T=function(e,t){var a,i,n;w(e)&&(i=(a=e).selection.getSelectedComponentData(),n=a.dsRead.tpa.app.getData(i.applicationId),s.shouldShowTranslate(n.appDefinitionId,i.widgetId)?S(D,t):S(b,t))},S=function(e,t){o.isEmpty(e)||t.unshift(e)},E=function(e,t){o.isEmpty(e)||t.push(e)};return{mainActions:function(e){var t=[];f(e,t),v(e,t);var a=e.selection.getSelectedComponentData(),i=e.dsRead.tpa.app.getData(a.applicationId);return s.hasCustomActions(i.appDefinitionId)&&I(e,i.appDefinitionId,a.widgetId,t),T(e,t),y(t,i),t},mobileMainActions:function(e){var t=e.selection.getSelectedComponentData(),a=e.dsRead.tpa.app.getData(t.applicationId);return!0===o.get(a,["widgets",t.widgetId,"componentFields","mobileSettingsEnabled"],!1)?[u]:[]},enabledActions:function(e,t){var a=[t.HELP],i=e.selection.getSelectedComponentData();return _(e,i)&&a.unshift(t.UPGRADE),a},presetActions:function(n){var e={help:{isSelected:!1,tooltip:"gfpp_tooltip_help",onClick:function(){var e=A(n),t=n.selection.getSelectedComponentData().widgetId,a={widget_id:t,app_id:e.appDefinitionId,panel_name:n.selection.getSelectedComponentType(),origin:m.BI.HELP.ORIGIN.GFPP},i={openPanelBiEvent:l.events.TPA_HELP_CLICK,openPanelBiParams:o.merge({help_status:"open"},a),closePanelBiParams:o.merge({help_status:"close"},a),closePanelBiEvent:l.events.TPA_HELP_CLICK};p.getHelpId(n,e.appDefinitionId,t,p.HELP_END_POINTS.WIDGET).then(function(e){var t={origin:m.BI.HELP.ORIGIN.GFPP,panel_name:n.selection.getSelectedComponentType(),component:n.selection.getSelectedComponentType(),learn_more:!1};n.panelManager.openHelpCenter(e,i,t)})}},upgrade:{isSelected:!1,shouldTranslate:function(){return!r.getEditorGfppData(n).upgradeText},tooltip:function(){return r.getEditorGfppData(n).upgradeText||"tpa_package_picker_upgrade_title"},icon:"upgrade",onClick:function(){var e=A(n);c.bi.reportBIOnAppIntent(n,l.events.APP_INTENT,e.appDefinitionId,d.BI.initiator.EDITOR,d.BI.type.GFPP_UPGRADE),i.startUpgradeFlow(n,e.appDefinitionId,!1,{origin:"gfpp"});var t={pp_origin:"gfpp",app_site_id:e.instanceId,app_id:e.appDefinitionId};n.bi.event(l.events.CLICK_UPGRADE_APP,t)}}};return y(e,A(n)),e}}}),define("tpa/gfpp/components/tpaWidgetGfppData",["constants","tpa/gfpp/tpaGfppDataActions"],function(t,a){"use strict";return{mainActions:a.mainActions,enabledActions:function(e){return a.enabledActions(e,t.ROOT_COMPS.GFPP.ACTIONS)},presetActions:function(e){return a.presetActions(e)},mobileMainActions:a.mobileMainActions,mobileEnabledActions:[t.ROOT_COMPS.GFPP.ACTIONS.HIDE,t.ROOT_COMPS.GFPP.ACTIONS.HELP]}}),define("tpa/gfpp/components/tpaSectionGfppData",["constants","tpa/gfpp/tpaGfppDataActions"],function(t,a){"use strict";return{mainActions:a.mainActions,enabledActions:function(e){return a.enabledActions(e,t.ROOT_COMPS.GFPP.ACTIONS)},presetActions:function(e){return a.presetActions(e)},mobileMainActions:a.mobileMainActions,mobileEnabledActions:[t.ROOT_COMPS.GFPP.ACTIONS.HELP]}}),define("tpa/gfpp/components/tpaMultiSectionGfppData",["constants","tpa/gfpp/tpaGfppDataActions"],function(t,a){"use strict";return{mainActions:a.mainActions,enabledActions:function(e){return a.enabledActions(e,t.ROOT_COMPS.GFPP.ACTIONS)},presetActions:function(e){return a.presetActions(e)},mobileMainActions:a.mobileMainActions}}),define("tpa/gfpp/components/tpaGluedWidgetGfppData",["constants","tpa/gfpp/tpaGfppDataActions"],function(t,a){"use strict";return{mainActions:a.mainActions,enabledActions:function(e){return a.enabledActions(e,t.ROOT_COMPS.GFPP.ACTIONS)},presetActions:function(e){return a.presetActions(e)},mobileMainActions:a.mobileMainActions}}),define("tpa/gfpp/tpaGfpp",["lodash","gfppData","tpa/gfpp/components/tpaWidgetGfppData","tpa/gfpp/components/tpaSectionGfppData","tpa/gfpp/components/tpaMultiSectionGfppData","tpa/gfpp/components/tpaGluedWidgetGfppData"],function(e,a,t,i,n,s){"use strict";var o={TPAWidget:t,TPASection:i,TPAMultiSection:n,TPAGluedWidget:s,ProGallery:e.clone(t)};return{init:function(){e.forEach(o,function(e,t){a.registerComponent(t,e)})}}}),define("tpa/services/tpaDeleteService",["lodash","util","blog","tpa/services/tpaAddRemoveDSService"],function(S,o,a,p){"use strict";var r=_defineProperty({},a.newBlogAppDefId,function(e){var t={newBlogDeletion:!0};a.registerNewBlogButton(e,t),a.siteHasOldBlog(e)&&a.registerBlogButton(e,t)}),d=function(e,t,a,i){var n=e.dsRead.tpa.app.isLastAppComp(t.applicationId);p.deleteWidget(e,a);var s={app_id:i.appDefinitionId,app_site_id:i.instanceId,instance_id:a.id,is_last_tpa:n?1:0,component_type:"tpa"};e.bi.event(o.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,s)},E=function(e,t,a,i){e.pages.beforePagesRemoveHook([t],function(){p.deleteSection(e,t,i),a&&a()})},C=function(e,t,a,i,n){E(e,t,a,i);var s=S.clone(i);s=S.map(s,function(e){return S.pick(e,["app_id","app_site_id","component_id","component_type","instance_id","is_last_tpa"])}),S.invoke(r,[n.appDefinitionId],e),e.bi.reportBI(o.bi.events.REMOVE_COMPONENT_SECOND_STEP_CLICK,s)};return{deleteWidget:function(t,a,i){var n=t.components.data.get(a),s=t.dsRead.tpa.app.isPremium(n.applicationId),o=t.dsRead.tpa.app.getData(n.applicationId),r=t.dsRead.tpa.app.hasSections(o);return new Promise(function(e){s&&!r&&i?t.panelManager.openPanel("tpaPanels.confirmation.premiumTPADelete",{appName:o.appDefinitionName,appDefId:o.appDefinitionId,onConfirm:function(){d(t,n,a,o),e()}},!0):(p.deleteWidget(t,a),e())})},deleteSection:function(e,t,a,i,n,s,o){S.assign(o,o);var r,p,d,l,c,g,m,u,h,y,f,P,_,I,A,v,w,D,b=e.dsRead.tpa.app.isMultiSectionInstalled(i.applicationId),T=e.dsRead.tpa.app.getInstalledDependentAppsData(i.applicationId);n&&!S.isEmpty(T)?(_=i,I=a,A=t,v=s,w=o,D=T,(P=e).panelManager.openPanel("tpaPanels.confirmation.sectionDeleteMultipleApps",{appName:_.appDefinitionName,pageName:I,appDefId:_.appDefinitionId,dependentAppNames:S.map(D,"appDefinitionName"),onConfirm:function(){C(P,A,v,w,_)}},!0)):n&&!b?(m=i,u=a,h=t,y=s,f=o,(g=e).panelManager.openPanel("tpaPanels.confirmation.sectionDelete",{appName:m.appDefinitionName,pageName:u,appDefId:m.appDefinitionId,onConfirm:function(){C(g,h,y,f,m)}},!0)):n?(p=a,d=t,l=s,c=o,(r=e).panelManager.openPanel("panels.messagePanels.deletePageMessage",{pageTitle:p,onConfirm:function(){E(r,d,l,c)}},!0)):E(e,t,s,o)},displaySectionDeleteMessage:function(e,t){var a=e.components.data.get(t),i=e.dsRead.tpa.app.getData(a.applicationId);e.panelManager.openPanel("tpaPanels.message.cannotDeleteSection",{title:"tpa_messages_oops_title",appName:i.appDefinitionName,appDefId:i.appDefinitionId},!0)}}}),define("tpa/services/tpaCopyPasteService",["lodash","tpa/bi/bi","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaDeleteService","tpa/services/tpaAddRemoveDSService"],function(d,l,c,g,a,m){"use strict";return{copyComponentPlugin:function(e,t){return t.originCompId=e.id,t},addComponentPlugin:function(e,t,a){var i=d.get(a,"data.applicationId"),n=d.get(a,"data.widgetId"),s=d.get(a,"originCompId"),o=e.dsRead.tpa.app.getData(i),r=e.components.get.byId(s),p=e.components.layout.isHorizontallyStretchedToScreen(r);return a.originCompId&&c.bi.reportBIOnAppIntent(e,l.events.APP_INTENT,o.appDefinitionId,g.BI.initiator.EDITOR,g.BI.type.COPY_APP),m.addWidgetSync(e,o.appDefinitionId,{widgetId:n,componentDefinition:a,parentContainerRef:t,invokeAddAppCallbacks:!1,dontStretch:!p})},cutComponentPlugin:function(e,t){a.deleteWidget(e,t,!1)}}}),define("tpa/addPanelData/search/searchAppBox.rt",["react","lodash","baseUILib","baseUI","constants"],function(i,n,s,o,e){"use strict";return function(){return i.createElement("div",{className:"box-app-wrapper",onClick:this.addApp},i.createElement("a",{className:"box-app"},i.createElement("div",(e={className:"box-app-logo"},t={style:{backgroundImage:"url("+(this.state.app.colorSvgIcon||this.state.app.appIcon)+")"}},a=n.assign({},e,t),e.hasOwnProperty("style")&&(a.style=n.defaults(a.style,e.style)),e.hasOwnProperty("className")&&t.hasOwnProperty("className")&&(a.className=t.className+" "+e.className),a))),i.createElement("div",{className:"content"},i.createElement("div",{className:"title ellipsis"},this.state.app.name),i.createElement("label",{className:"ellipsis"},this.state.app.teaser)),i.createElement("a",{},i.createElement("span",{className:"plus-tooltip"},i.createElement(s.Tooltip,{content:"tpa_add_panel_add_to_site",className:"edit-tooltip"},i.createElement("div",{},i.createElement(o.symbol,{className:"plus",name:"plusBig"}))))));var e,t,a}}),define("tpa/addPanelData/search/searchAppBoxMapper",[],function(){"use strict";return{mapDispatchToProps:function(a){return{getDataAsync:function(e){return a((i=e,function(e,t,a){return a.editorAPI.dsRead.tpa.appMarket.getDataAsync(i)}));var i},selectComponentByCompRef:function(e){return a((i=e,function(e,t,a){return a.editorAPI.selection.selectComponentByCompRef(i)}));var i},navigateTo:function(e,t){return a((i=e,n=t,function(e,t,a){return a.editorAPI.pages.navigateTo(i,n)}));var i,n}}}}}),define("tpa/addPanelData/search/searchAppBox",["react","lodash","util","tpa/constants/constants","tpa/superApps/superApps","tpa/superApps/superAppsConstants","tpa/addPanelData/search/searchAppBox.rt","tpa/addPanelData/search/searchAppBoxMapper"],function(a,i,e,n,s,t,o,r){"use strict";var p=e.hoc,d=p.connect,l=p.STORES.EDITOR_API,c=t.SITE_SEARCH.APP_DEF_ID,g=function(e){function t(e){_classCallCheck(this,t);var a=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.state={app:{}},a.addApp=function(){s.addApp(c,{origin:n.BI.type.ADD_APP_ADD_PANEL,callback:function(e){if(!i.isError(e)){var t=i.get(e,"page.id");t&&a.props.navigateTo(t,function(){var e=s.getSectionRefByPageId(t);a.props.selectComponentByCompRef(e)})}}})},a}return _inherits(t,a.Component),_createClass(t,[{key:"componentWillMount",value:function(){var t=this;this.props.getDataAsync(c).then(function(e){return t.setState({app:e})})}},{key:"render",value:function(){return o.call(this)}}]),t}();g.displayName="searchAppBox";var m=d(l,{},r.mapDispatchToProps)(g);return m.pure=g,m}),define("tpa/addPanelData/search/searchSection",["lodash","addPanel","addPanelDataConsts","tpa/superApps/superApps","tpa/superApps/superAppsConstants","tpa/addPanelData/search/searchAppBox"],function(e,t,a,i,n,s){"use strict";var o=n.SITE_SEARCH.APP_DEF_ID,r="add_section_label_site_search",p={title:r,subNavigationTitle:r,id:r,presetTitle:r,sectionNumber:a.SECTION_NUMBERS.SEARCH.other};var d=function(){return i.isInstalled(o)?e.assign(t.sections.getSections().developer.searchBoxSection,p):e.assign({type:a.SECTIONS_TYPES.GENERAL,hide:!1,subNavigationHide:!1,showSectionHeader:!0,props:{template:s},help:{hide:!0}},p)};return{registerSection:function(e){e.addPanel.registerToAddSectionAtTheStartOfCategory(["other"],function(){return d()})}}}),define("tpa",["lodash","experiment","stateManagement","tpa/utils/tpaUtils","tpa/constants/constants","tpa/services/tpaPostMessageService","tpa/services/tpaPreviewPostMessageService","tpa/appMarket/services/appMarketPostMessageService","tpa/appMarket/services/appMarketTabService","tpa/settings/compPanels/tpaSettings","tpa/compPanels/appMarketPanel","tpa/packagePicker/packagePicker","tpa/compModals/appMarketAppModal","tpa/compModals/appMarketPermissionsModal","tpa/compModals/tpaSettingsModal","tpa/compModals/appMarketModal","tpa/panels/appImportPanel/appImportPanel","tpa/panels/appImportErrorPanel","tpa/panels/updateErrorPanel/updateErrorPanel","tpa/services/navigateAndOpenAppService","tpa/addPanelData/section","tpa/addPanelData/music/musicSection","tpa/addPanelData/music/soundCloudSection","tpa/addPanelData/video/videoSection","tpa/addPanelData/gallery/proGalleriesSection","tpa/addPanelData/events/eventsSection","tpa/addPanelData/contact/liveChatSection","tpa/addPanelData/members/profileWidgetSection","tpa/addPanelData/members/membersWidgetSection","tpa/addPanelData/newBlog/customFeedSection","tpa/addPanelData/newBlog/recentPostsSection","tpa/addPanelData/newBlog/featuredPostsSection","tpa/addPanelData/newBlog/rssButtonSection","tpa/bi/bi","tpa/superApps/superApps","tpa/services/pendingAppsService","tpa/services/dashboardAppService","tpa/gfpp/tpaGfpp","tpa/addPanelData/addPanelService","tpa/services/tpaDeleteService","tpa/services/tpaCompNameService","tpa/handlers/editorTPAHandlers","tpa/handlers/editorRefreshTPADataAfterUpgrade","tpa/appMarket/utils/appMarketUtils","tpa/appMarket/appMarketHandlers","tpa/settings/settings","tpa/experiments/experiments","tpa/superApps/superAppsConstants","tpa/superApps/gfpp/superAppsGfppDataCacheService","tpa/services/tpaCopyPasteService","tpa/handlers/editorSuperAppsHandlers","tpa/services/tpaAddComponentService","tpa/services/tpaAddAppService","tpa/services/tpaAddRemoveDSService","constants","tpa/services/tpaAppInstallingService","tpa/services/tpaAlertsService","tpa/addPanelData/search/searchSection"],function(o,t,n,r,p,a,i,s,d,e,l,c,g,m,u,h,y,f,P,_,I,A,v,w,D,b,T,S,E,C,M,k,O,N,R,B,x,L,F,H,W,V,G,U,j,Y,K,z,q,X,J,$,Z,Q,ee,te,ae,ie){"use strict";var ne=n.editorPlugins.preview.selectors.getPreviewMode,se=!1,oe=void 0,re=n.editorPlugins.leftBar.selectors.getDeviceType,pe=function(t){var a="tpa.compPanels.appMarketPanel",i=t.store.dispatch;t.registerSitePublishedCallbacks(function(){var e=t.store.getState();!n.editorPlugins.userPreferences.selectors.getSiteUserPreferences(a+ee.LEFT_BAR.WAS_BUTTON_CLICKED_KEY)(e)&&o.isEmpty(n.editorPlugins.leftBar.selectors.getCollapseOnClick(e))&&(i(n.editorPlugins.leftBar.actions.expandButton(a)),i(n.editorPlugins.bi.actions.event(N.events.APP_MARKET_ICON_EXPANDED,{site_id:t.dsRead.generalInfo.getSiteId()})))})},de=function(e){e.dsRead.tpa.app.isInstalled(z.ECOM.APP_DEF_ID)&&(le(e)||(e.dsActions.bi.error(N.errors.ECOM_MISSING_PAGES),K.isEcomAddAppExperimentOn()&&e.panelManager.openPanel("tpaPanels.confirmation.addEcom",{onConfirm:function(){e.dsActions.tpa.section.add(z.ECOM.APP_DEF_ID)}},!0)))},le=function(e){var t=e.dsRead.tpa.app.getDataByAppDefId(z.ECOM.APP_DEF_ID).applicationId,a=e.dsRead.tpa.app.getSections(t);return a&&!o.isEmpty(a)},ce=function(e,t){var a=o.head(t.comp),i=e.components.data.get(a),n=e.dsRead.tpa.app.getData(i.applicationId);if(e.isDesktopEditor()){var s=o.get(n,"appDefinitionId",null);r.bi.reportBIOnAppIntent(e,N.events.APP_INTENT,s,p.BI.initiator.EDITOR,p.BI.type.DOUBLECLICK_SETTINGS),Y.open(e,a)}},ge=function(e){me(e),w.registerSection(e),S.registerSection(e),E.registerSection(e),t.isOpen("newBlogFeaturedPostsSection")&&k.registerSection(e),C.registerSection(e),M.registerSection(e),O.registerSection(e),T.registerSection(e),D.registerSection(e),b.registerSection(e),t.isOpen("searchAddPanel")&&ie.registerSection(e)},me=function(e){v.registerSection(e),A.registerSection(e)},ue=function(t){t.dsRead.tpa.appMarket.getDataForPage(t.dsRead.pages.getFocusedPageId()),t.registerPageNavigationCallback(function(e){t.dsRead.tpa.appMarket.getDataForPage(e)})},he=function(e,t){e.dsActions.tpa.change.editMode(t?"preview":"editor"),(se=t)||e.dsActions.tpa.closePopupsAndModal()},ye=function(e){e.dsActions.tpa.change.sitePublished()},fe=function(e){var t=e.store.getState();e.dsActions.tpa.change.deviceType(re(t))},Pe=function(a){a.registerToViewerChange(function(){var e=a.store.getState(),t=ne(e);t!==se&&he(a,t)})},_e=function(e){F.init(e,R.relatedApps.addPanelCategories,function(){I.registerAddPanelSection(e)})};return{initEditor:function(e){a(oe=e,window.addEventListener).addListenerToTpaMessage(),L.init(),i.init(e),s.init(e),R.init(e),q.init(e.panelManager),pe(e)},onPreviewReady:function(t){var e=r.isInDevMode();t.dsActions.tpa.initEditor(e,K),Pe(t);var a=t.pluginService;o.forEach(t.dsRead.tpa.constants.COMP_TYPES,function(e){t.registerCompNamePlugin(e,W.getCompName.bind(null,t)),a.registerPlugin(a.pluginConstants.DOUBLE_CLICK,e,ce)}),o.forEach(t.dsRead.tpa.constants.TPA_COMP_TYPES,function(e){t.registerCompNamePlugin(e,W.getCompName.bind(null,t)),a.registerPlugin(a.pluginConstants.DOUBLE_CLICK,e,ce)}),t.registerRemovePlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_WIDGET,H.deleteWidget.bind(null,t)),t.registerRemovePlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_GLUED_WIDGET,H.deleteWidget.bind(null,t)),t.registerRemovePlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,H.deleteWidget.bind(null,t)),t.registerRemovePlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,H.deleteWidget.bind(null,t)),t.registerRemovePagePlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_SECTION,H.deleteSection.bind(null,t)),t.registerRemovePagePlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_SECTION,H.deleteSection.bind(null,t)),t.registerCopyComponentPlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_WIDGET,X.copyComponentPlugin),t.registerCopyComponentPlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_GLUED_WIDGET,X.copyComponentPlugin),t.registerCopyComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,X.copyComponentPlugin),t.registerCopyComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,X.copyComponentPlugin),t.registerAddComponentPlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_WIDGET,X.addComponentPlugin),t.registerAddComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,X.addComponentPlugin),t.registerAddComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,X.addComponentPlugin),t.registerAddComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,X.addComponentPlugin),t.registerCutComponentPlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_WIDGET,X.cutComponentPlugin.bind(null,t)),t.registerCutComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,X.cutComponentPlugin.bind(null,t)),t.registerCutComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_WIDGET,X.cutComponentPlugin.bind(null,t)),t.registerCutComponentPlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,X.cutComponentPlugin.bind(null,t)),t.registerCannotRemovePlugin(t.dsRead.tpa.constants.COMP_TYPES.TPA_SECTION,H.displaySectionDeleteMessage.bind(null,t)),t.registerCannotRemovePlugin(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_SECTION,H.displaySectionDeleteMessage.bind(null,t)),t.tooltipTextService.registerTooltipText(t.dsRead.tpa.constants.COMP_TYPES.TPA_SECTION,"DELETE","tpa_section_cant_delete_tooltip"),t.tooltipTextService.registerTooltipText(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_SECTION,"DELETE","tpa_section_cant_delete_tooltip"),t.tooltipTextService.registerTooltipText(t.dsRead.tpa.constants.COMP_TYPES.TPA_GLUED_WIDGET,"SHOW_ON_ALL_PAGES","tpa_glued_show_on_all_pages_tooltip"),t.tooltipTextService.registerTooltipText(t.dsRead.tpa.constants.TPA_COMP_TYPES.TPA_GLUED_WIDGET,"SHOW_ON_ALL_PAGES","tpa_glued_show_on_all_pages_tooltip"),d.openAppMarketTabFromUrlParamIfNeeded(t.panelManager.openPanel),_.handleIfComingFromETPA(t),t.registerInitUserPrefsCallback(function(){B.updateNotification(t)}),_e(t),ge(t),t.dsRead.tpa.billing.getPremiumApps(t.site.getMetaSiteId()),t.registerSitePublishedCallbacks(ye.bind(null,t)),t.registerDeviceTypeChangeCallbacks(fe.bind(null,t)),ue(t),N.registerEvents(t),de(t)},editModeChange:he,packagePicker:c,compPanels:{tpaSettings:e,appMarketPanel:l},compModals:{tpaSettingsModal:u,appMarketAppModal:g,appMarketPermissionsModal:m,appMarketModal:h},panels:{appImportPanel:y,appImportErrorPanel:f,updateErrorPanel:P},constants:p,superApps:R,superAppsConstants:z,dashboardApps:x,getEditorAPI:function(){return oe},editorTPAHandlers:V,editorSuperAppsHandlers:J,editorRefreshTPADataAfterUpgrade:G,appMarketUtils:U,settings:Y,appMarketTabService:d,appMarketHandlers:j,bi:N,tpaUtils:r,services:{tpaAddComponentService:$,tpaAddAppService:Z,tpaAddRemoveDSService:Q,tpaAppInstallingService:te,tpaAlertsService:ae}}});
//# sourceMappingURL=tpa.min.js.map